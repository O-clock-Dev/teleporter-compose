"use strict";var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var gn=_(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.asPromise=Dt.thenable=Dt.typedArray=Dt.stringArray=Dt.array=Dt.func=Dt.error=Dt.number=Dt.string=Dt.boolean=void 0;function xN(t){return t===!0||t===!1}Dt.boolean=xN;function ES(t){return typeof t=="string"||t instanceof String}Dt.string=ES;function MN(t){return typeof t=="number"||t instanceof Number}Dt.number=MN;function FN(t){return t instanceof Error}Dt.error=FN;function TS(t){return typeof t=="function"}Dt.func=TS;function PS(t){return Array.isArray(t)}Dt.array=PS;function IN(t){return PS(t)&&t.every(e=>ES(e))}Dt.stringArray=IN;function kN(t,e){return Array.isArray(t)&&t.every(e)}Dt.typedArray=kN;function qS(t){return t&&TS(t.then)}Dt.thenable=qS;function AN(t){return t instanceof Promise?t:qS(t)?new Promise((e,r)=>{t.then(n=>e(n),n=>r(n))}):Promise.resolve(t)}Dt.asPromise=AN});var Lo=_(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.stringArray=ir.array=ir.func=ir.error=ir.number=ir.string=ir.boolean=void 0;function NN(t){return t===!0||t===!1}ir.boolean=NN;function OS(t){return typeof t=="string"||t instanceof String}ir.string=OS;function LN(t){return typeof t=="number"||t instanceof Number}ir.number=LN;function jN(t){return t instanceof Error}ir.error=jN;function $N(t){return typeof t=="function"}ir.func=$N;function xS(t){return Array.isArray(t)}ir.array=xS;function WN(t){return xS(t)&&t.every(e=>OS(e))}ir.stringArray=WN});var Mp=_(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.Message=fe.NotificationType9=fe.NotificationType8=fe.NotificationType7=fe.NotificationType6=fe.NotificationType5=fe.NotificationType4=fe.NotificationType3=fe.NotificationType2=fe.NotificationType1=fe.NotificationType0=fe.NotificationType=fe.RequestType9=fe.RequestType8=fe.RequestType7=fe.RequestType6=fe.RequestType5=fe.RequestType4=fe.RequestType3=fe.RequestType2=fe.RequestType1=fe.RequestType=fe.RequestType0=fe.AbstractMessageSignature=fe.ParameterStructures=fe.ResponseError=fe.ErrorCodes=void 0;var Vs=Lo(),up;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(up||(fe.ErrorCodes=up={}));var cp=class t extends Error{constructor(e,r,n){super(r),this.code=Vs.number(e)?e:up.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};fe.ResponseError=cp;var Ar=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};fe.ParameterStructures=Ar;Ar.auto=new Ar("auto");Ar.byPosition=new Ar("byPosition");Ar.byName=new Ar("byName");var lt=class{constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return Ar.auto}};fe.AbstractMessageSignature=lt;var lp=class extends lt{constructor(e){super(e,0)}};fe.RequestType0=lp;var dp=class extends lt{constructor(e,r=Ar.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};fe.RequestType=dp;var fp=class extends lt{constructor(e,r=Ar.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};fe.RequestType1=fp;var hp=class extends lt{constructor(e){super(e,2)}};fe.RequestType2=hp;var gp=class extends lt{constructor(e){super(e,3)}};fe.RequestType3=gp;var pp=class extends lt{constructor(e){super(e,4)}};fe.RequestType4=pp;var mp=class extends lt{constructor(e){super(e,5)}};fe.RequestType5=mp;var yp=class extends lt{constructor(e){super(e,6)}};fe.RequestType6=yp;var vp=class extends lt{constructor(e){super(e,7)}};fe.RequestType7=vp;var _p=class extends lt{constructor(e){super(e,8)}};fe.RequestType8=_p;var bp=class extends lt{constructor(e){super(e,9)}};fe.RequestType9=bp;var wp=class extends lt{constructor(e,r=Ar.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};fe.NotificationType=wp;var Sp=class extends lt{constructor(e){super(e,0)}};fe.NotificationType0=Sp;var Rp=class extends lt{constructor(e,r=Ar.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};fe.NotificationType1=Rp;var Cp=class extends lt{constructor(e){super(e,2)}};fe.NotificationType2=Cp;var Dp=class extends lt{constructor(e){super(e,3)}};fe.NotificationType3=Dp;var Ep=class extends lt{constructor(e){super(e,4)}};fe.NotificationType4=Ep;var Tp=class extends lt{constructor(e){super(e,5)}};fe.NotificationType5=Tp;var Pp=class extends lt{constructor(e){super(e,6)}};fe.NotificationType6=Pp;var qp=class extends lt{constructor(e){super(e,7)}};fe.NotificationType7=qp;var Op=class extends lt{constructor(e){super(e,8)}};fe.NotificationType8=Op;var xp=class extends lt{constructor(e){super(e,9)}};fe.NotificationType9=xp;var MS;(function(t){function e(i){let s=i;return s&&Vs.string(s.method)&&(Vs.string(s.id)||Vs.number(s.id))}t.isRequest=e;function r(i){let s=i;return s&&Vs.string(s.method)&&i.id===void 0}t.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(Vs.string(s.id)||Vs.number(s.id)||s.id===null)}t.isResponse=n})(MS||(fe.Message=MS={}))});var Ip=_(Ji=>{"use strict";var FS;Object.defineProperty(Ji,"__esModule",{value:!0});Ji.LRUCache=Ji.LinkedMap=Ji.Touch=void 0;var sr;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(sr||(Ji.Touch=sr={}));var ml=class{constructor(){this[FS]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=sr.None){let n=this._map.get(e);if(n)return r!==sr.None&&this.touch(n,r),n.value}set(e,r,n=sr.None){let i=this._map.get(e);if(i)i.value=r,n!==sr.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case sr.None:this.addItemLast(i);break;case sr.First:this.addItemFirst(i);break;case sr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(FS=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==sr.First&&r!==sr.Last)){if(r===sr.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===sr.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};Ji.LinkedMap=ml;var Fp=class extends ml{constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=sr.AsNew){return super.get(e,r)}peek(e){return super.get(e,sr.None)}set(e,r){return super.set(e,r,sr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ji.LRUCache=Fp});var kS=_(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.Disposable=void 0;var IS;(function(t){function e(r){return{dispose:r}}t.create=e})(IS||(yl.Disposable=IS={}))});var Qi=_(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});var kp;function Ap(){if(kp===void 0)throw new Error("No runtime abstraction layer installed");return kp}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");kp=r}t.install=e})(Ap||(Ap={}));Np.default=Ap});var $o=_(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.Emitter=jo.Event=void 0;var HN=Qi(),AS;(function(t){let e={dispose(){}};t.None=function(){return e}})(AS||(jo.Event=AS={}));var Lp=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],e))}catch(a){(0,HN.default)().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},vl=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new Lp),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};jo.Emitter=vl;vl._noop=function(){}});var wl=_(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.CancellationTokenSource=Wo.CancellationToken=void 0;var UN=Qi(),zN=Lo(),jp=$o(),_l;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:jp.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:jp.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||zN.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(_l||(Wo.CancellationToken=_l={}));var KN=Object.freeze(function(t,e){let r=(0,UN.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),bl=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?KN:(this._emitter||(this._emitter=new jp.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},$p=class{get token(){return this._token||(this._token=new bl),this._token}cancel(){this._token?this._token.cancel():this._token=_l.Cancelled}dispose(){this._token?this._token instanceof bl&&this._token.dispose():this._token=_l.None}};Wo.CancellationTokenSource=$p});var NS=_(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.SharedArrayReceiverStrategy=Ho.SharedArraySenderStrategy=void 0;var BN=wl(),bu;(function(t){t.Continue=0,t.Cancelled=1})(bu||(bu={}));var Wp=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=bu.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,bu.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Ho.SharedArraySenderStrategy=Wp;var Hp=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===bu.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Up=class{constructor(e){this.token=new Hp(e)}cancel(){}dispose(){}},zp=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new BN.CancellationTokenSource:new Up(r)}};Ho.SharedArrayReceiverStrategy=zp});var Bp=_(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.Semaphore=void 0;var VN=Qi(),Kp=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,VN.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};Sl.Semaphore=Kp});var jS=_(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ReadableStreamMessageReader=Zi.AbstractMessageReader=Zi.MessageReader=void 0;var Gp=Qi(),Uo=Lo(),Vp=$o(),GN=Bp(),LS;(function(t){function e(r){let n=r;return n&&Uo.func(n.listen)&&Uo.func(n.dispose)&&Uo.func(n.onError)&&Uo.func(n.onClose)&&Uo.func(n.onPartialMessage)}t.is=e})(LS||(Zi.MessageReader=LS={}));var Rl=class{constructor(){this.errorEmitter=new Vp.Emitter,this.closeEmitter=new Vp.Emitter,this.partialMessageEmitter=new Vp.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Uo.string(e.message)?e.message:"unknown"}`)}};Zi.AbstractMessageReader=Rl;var Yp;(function(t){function e(r){let n,i,s,o=new Map,a,u=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,o.set(s.name,s)),r.contentDecoders!==void 0)for(let c of r.contentDecoders)o.set(c.name,c);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,u.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let c of r.contentTypeDecoders)u.set(c.name,c)}return a===void 0&&(a=(0,Gp.default)().applicationJson.decoder,u.set(a.name,a)),{charset:n,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:u}}t.fromOptions=e})(Yp||(Yp={}));var Xp=class extends Rl{constructor(e,r){super(),this.readable=e,this.options=Yp.fromOptions(r),this.buffer=(0,Gp.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new GN.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Gp.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Zi.ReadableStreamMessageReader=Xp});var zS=_(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.WriteableStreamMessageWriter=es.AbstractMessageWriter=es.MessageWriter=void 0;var $S=Qi(),wu=Lo(),YN=Bp(),WS=$o(),XN="Content-Length: ",HS=`\r
`,US;(function(t){function e(r){let n=r;return n&&wu.func(n.dispose)&&wu.func(n.onClose)&&wu.func(n.onError)&&wu.func(n.write)}t.is=e})(US||(es.MessageWriter=US={}));var Cl=class{constructor(){this.errorEmitter=new WS.Emitter,this.closeEmitter=new WS.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${wu.string(e.message)?e.message:"unknown"}`)}};es.AbstractMessageWriter=Cl;var Jp;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,$S.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,$S.default)().applicationJson.encoder}}t.fromOptions=e})(Jp||(Jp={}));var Qp=class extends Cl{constructor(e,r){super(),this.writable=e,this.options=Jp.fromOptions(r),this.errorCount=0,this.writeSemaphore=new YN.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(XN,n.byteLength.toString(),HS),i.push(HS),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};es.WriteableStreamMessageWriter=Qp});var KS=_(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.AbstractMessageBuffer=void 0;var JN=13,QN=10,ZN=`\r
`,Zp=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let c=this._chunks[n];for(i=0;i<c.length;){switch(c[i]){case JN:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case QN:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=c.byteLength,n++}if(r!==4)return;let o=this._read(s+i),a=new Map,u=this.toString(o,"ascii").split(ZN);if(u.length<2)return a;for(let c=0;c<u.length-2;c++){let l=u[c],f=l.indexOf(":");if(f===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let d=l.substr(0,f),g=l.substr(f+1).trim();a.set(e?d.toLowerCase():d,g)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);r.set(o,n),n+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return r}};Dl.AbstractMessageBuffer=Zp});var XS=_(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.createMessageConnection=Se.ConnectionOptions=Se.MessageStrategy=Se.CancellationStrategy=Se.CancellationSenderStrategy=Se.CancellationReceiverStrategy=Se.RequestCancellationReceiverStrategy=Se.IdCancellationReceiverStrategy=Se.ConnectionStrategy=Se.ConnectionError=Se.ConnectionErrors=Se.LogTraceNotification=Se.SetTraceNotification=Se.TraceFormat=Se.TraceValues=Se.Trace=Se.NullLogger=Se.ProgressType=Se.ProgressToken=void 0;var BS=Qi(),_t=Lo(),pe=Mp(),VS=Ip(),Su=$o(),em=wl(),Du;(function(t){t.type=new pe.NotificationType("$/cancelRequest")})(Du||(Du={}));var tm;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}t.is=e})(tm||(Se.ProgressToken=tm={}));var Ru;(function(t){t.type=new pe.NotificationType("$/progress")})(Ru||(Ru={}));var rm=class{constructor(){}};Se.ProgressType=rm;var nm;(function(t){function e(r){return _t.func(r)}t.is=e})(nm||(nm={}));Se.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ve;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(Ve||(Se.Trace=Ve={}));var GS;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(GS||(Se.TraceValues=GS={}));(function(t){function e(n){if(!_t.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=r})(Ve||(Se.Trace=Ve={}));var sn;(function(t){t.Text="text",t.JSON="json"})(sn||(Se.TraceFormat=sn={}));(function(t){function e(r){return _t.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(sn||(Se.TraceFormat=sn={}));var im;(function(t){t.type=new pe.NotificationType("$/setTrace")})(im||(Se.SetTraceNotification=im={}));var El;(function(t){t.type=new pe.NotificationType("$/logTrace")})(El||(Se.LogTraceNotification=El={}));var Cu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Cu||(Se.ConnectionErrors=Cu={}));var zo=class t extends Error{constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Se.ConnectionError=zo;var sm;(function(t){function e(r){let n=r;return n&&_t.func(n.cancelUndispatched)}t.is=e})(sm||(Se.ConnectionStrategy=sm={}));var Tl;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&_t.func(n.createCancellationTokenSource)&&(n.dispose===void 0||_t.func(n.dispose))}t.is=e})(Tl||(Se.IdCancellationReceiverStrategy=Tl={}));var om;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&_t.func(n.createCancellationTokenSource)&&(n.dispose===void 0||_t.func(n.dispose))}t.is=e})(om||(Se.RequestCancellationReceiverStrategy=om={}));var Pl;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new em.CancellationTokenSource}});function e(r){return Tl.is(r)||om.is(r)}t.is=e})(Pl||(Se.CancellationReceiverStrategy=Pl={}));var ql;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Du.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&_t.func(n.sendCancellation)&&_t.func(n.cleanup)}t.is=e})(ql||(Se.CancellationSenderStrategy=ql={}));var Ol;(function(t){t.Message=Object.freeze({receiver:Pl.Message,sender:ql.Message});function e(r){let n=r;return n&&Pl.is(n.receiver)&&ql.is(n.sender)}t.is=e})(Ol||(Se.CancellationStrategy=Ol={}));var xl;(function(t){function e(r){let n=r;return n&&_t.func(n.handleMessage)}t.is=e})(xl||(Se.MessageStrategy=xl={}));var YS;(function(t){function e(r){let n=r;return n&&(Ol.is(n.cancellationStrategy)||sm.is(n.connectionStrategy)||xl.is(n.messageStrategy))}t.is=e})(YS||(Se.ConnectionOptions=YS={}));var Ln;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Ln||(Ln={}));function eL(t,e,r,n){let i=r!==void 0?r:Se.NullLogger,s=0,o=0,a=0,u="2.0",c,l=new Map,f,d=new Map,g=new Map,p,b=new VS.LinkedMap,C=new Map,D=new Set,w=new Map,S=Ve.Off,O=sn.Text,A,z=Ln.New,U=new Su.Emitter,K=new Su.Emitter,ue=new Su.Emitter,V=new Su.Emitter,N=new Su.Emitter,Q=n&&n.cancellationStrategy?n.cancellationStrategy:Ol.Message;function J(T){if(T===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+T.toString()}function ye(T){return T===null?"res-unknown-"+(++a).toString():"res-"+T.toString()}function he(){return"not-"+(++o).toString()}function F(T,j){pe.Message.isRequest(j)?T.set(J(j.id),j):pe.Message.isResponse(j)?T.set(ye(j.id),j):T.set(he(),j)}function X(T){}function ge(){return z===Ln.Listening}function le(){return z===Ln.Closed}function oe(){return z===Ln.Disposed}function at(){(z===Ln.New||z===Ln.Listening)&&(z=Ln.Closed,K.fire(void 0))}function ct(T){U.fire([T,void 0,void 0])}function Tr(T){U.fire(T)}t.onClose(at),t.onError(ct),e.onClose(at),e.onError(Tr);function hr(){p||b.size===0||(p=(0,BS.default)().timer.setImmediate(()=>{p=void 0,Pr()}))}function Zr(T){pe.Message.isRequest(T)?Rt(T):pe.Message.isNotification(T)?en(T):pe.Message.isResponse(T)?qr(T):tn(T)}function Pr(){if(b.size===0)return;let T=b.shift();try{let j=n?.messageStrategy;xl.is(j)?j.handleMessage(T,Zr):Zr(T)}finally{hr()}}let ni=T=>{try{if(pe.Message.isNotification(T)&&T.method===Du.type.method){let j=T.params.id,Y=J(j),te=b.get(Y);if(pe.Message.isRequest(te)){let Ne=n?.connectionStrategy,Ye=Ne&&Ne.cancelUndispatched?Ne.cancelUndispatched(te,X):void 0;if(Ye&&(Ye.error!==void 0||Ye.result!==void 0)){b.delete(Y),w.delete(j),Ye.id=te.id,xr(Ye,T.method,Date.now()),e.write(Ye).catch(()=>i.error("Sending response for canceled message failed."));return}}let je=w.get(j);if(je!==void 0){je.cancel(),At(T);return}else D.add(j)}F(b,T)}finally{hr()}};function Rt(T){if(oe())return;function j(De,Ue,Me){let tt={jsonrpc:u,id:T.id};De instanceof pe.ResponseError?tt.error=De.toJson():tt.result=De===void 0?null:De,xr(tt,Ue,Me),e.write(tt).catch(()=>i.error("Sending response failed."))}function Y(De,Ue,Me){let tt={jsonrpc:u,id:T.id,error:De.toJson()};xr(tt,Ue,Me),e.write(tt).catch(()=>i.error("Sending response failed."))}function te(De,Ue,Me){De===void 0&&(De=null);let tt={jsonrpc:u,id:T.id,result:De};xr(tt,Ue,Me),e.write(tt).catch(()=>i.error("Sending response failed."))}Mr(T);let je=l.get(T.method),Ne,Ye;je&&(Ne=je.type,Ye=je.handler);let et=Date.now();if(Ye||c){let De=T.id??String(Date.now()),Ue=Tl.is(Q.receiver)?Q.receiver.createCancellationTokenSource(De):Q.receiver.createCancellationTokenSource(T);T.id!==null&&D.has(T.id)&&Ue.cancel(),T.id!==null&&w.set(De,Ue);try{let Me;if(Ye)if(T.params===void 0){if(Ne!==void 0&&Ne.numberOfParams!==0){Y(new pe.ResponseError(pe.ErrorCodes.InvalidParams,`Request ${T.method} defines ${Ne.numberOfParams} params but received none.`),T.method,et);return}Me=Ye(Ue.token)}else if(Array.isArray(T.params)){if(Ne!==void 0&&Ne.parameterStructures===pe.ParameterStructures.byName){Y(new pe.ResponseError(pe.ErrorCodes.InvalidParams,`Request ${T.method} defines parameters by name but received parameters by position`),T.method,et);return}Me=Ye(...T.params,Ue.token)}else{if(Ne!==void 0&&Ne.parameterStructures===pe.ParameterStructures.byPosition){Y(new pe.ResponseError(pe.ErrorCodes.InvalidParams,`Request ${T.method} defines parameters by position but received parameters by name`),T.method,et);return}Me=Ye(T.params,Ue.token)}else c&&(Me=c(T.method,T.params,Ue.token));let tt=Me;Me?tt.then?tt.then(Ct=>{w.delete(De),j(Ct,T.method,et)},Ct=>{w.delete(De),Ct instanceof pe.ResponseError?Y(Ct,T.method,et):Ct&&_t.string(Ct.message)?Y(new pe.ResponseError(pe.ErrorCodes.InternalError,`Request ${T.method} failed with message: ${Ct.message}`),T.method,et):Y(new pe.ResponseError(pe.ErrorCodes.InternalError,`Request ${T.method} failed unexpectedly without providing any details.`),T.method,et)}):(w.delete(De),j(Me,T.method,et)):(w.delete(De),te(Me,T.method,et))}catch(Me){w.delete(De),Me instanceof pe.ResponseError?j(Me,T.method,et):Me&&_t.string(Me.message)?Y(new pe.ResponseError(pe.ErrorCodes.InternalError,`Request ${T.method} failed with message: ${Me.message}`),T.method,et):Y(new pe.ResponseError(pe.ErrorCodes.InternalError,`Request ${T.method} failed unexpectedly without providing any details.`),T.method,et)}}else Y(new pe.ResponseError(pe.ErrorCodes.MethodNotFound,`Unhandled method ${T.method}`),T.method,et)}function qr(T){if(!oe())if(T.id===null)T.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(T.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let j=T.id,Y=C.get(j);if(Fr(T,Y),Y!==void 0){C.delete(j);try{if(T.error){let te=T.error;Y.reject(new pe.ResponseError(te.code,te.message,te.data))}else if(T.result!==void 0)Y.resolve(T.result);else throw new Error("Should never happen.")}catch(te){te.message?i.error(`Response handler '${Y.method}' failed with message: ${te.message}`):i.error(`Response handler '${Y.method}' failed unexpectedly.`)}}}}function en(T){if(oe())return;let j,Y;if(T.method===Du.type.method){let te=T.params.id;D.delete(te),At(T);return}else{let te=d.get(T.method);te&&(Y=te.handler,j=te.type)}if(Y||f)try{if(At(T),Y)if(T.params===void 0)j!==void 0&&j.numberOfParams!==0&&j.parameterStructures!==pe.ParameterStructures.byName&&i.error(`Notification ${T.method} defines ${j.numberOfParams} params but received none.`),Y();else if(Array.isArray(T.params)){let te=T.params;T.method===Ru.type.method&&te.length===2&&tm.is(te[0])?Y({token:te[0],value:te[1]}):(j!==void 0&&(j.parameterStructures===pe.ParameterStructures.byName&&i.error(`Notification ${T.method} defines parameters by name but received parameters by position`),j.numberOfParams!==T.params.length&&i.error(`Notification ${T.method} defines ${j.numberOfParams} params but received ${te.length} arguments`)),Y(...te))}else j!==void 0&&j.parameterStructures===pe.ParameterStructures.byPosition&&i.error(`Notification ${T.method} defines parameters by position but received parameters by name`),Y(T.params);else f&&f(T.method,T.params)}catch(te){te.message?i.error(`Notification handler '${T.method}' failed with message: ${te.message}`):i.error(`Notification handler '${T.method}' failed unexpectedly.`)}else ue.fire(T)}function tn(T){if(!T){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(T,null,4)}`);let j=T;if(_t.string(j.id)||_t.number(j.id)){let Y=j.id,te=C.get(Y);te&&te.reject(new Error("The received response has neither a result nor an error property."))}}function yt(T){if(T!=null)switch(S){case Ve.Verbose:return JSON.stringify(T,null,4);case Ve.Compact:return JSON.stringify(T);default:return}}function Or(T){if(!(S===Ve.Off||!A))if(O===sn.Text){let j;(S===Ve.Verbose||S===Ve.Compact)&&T.params&&(j=`Params: ${yt(T.params)}

`),A.log(`Sending request '${T.method} - (${T.id})'.`,j)}else vt("send-request",T)}function nr(T){if(!(S===Ve.Off||!A))if(O===sn.Text){let j;(S===Ve.Verbose||S===Ve.Compact)&&(T.params?j=`Params: ${yt(T.params)}

`:j=`No parameters provided.

`),A.log(`Sending notification '${T.method}'.`,j)}else vt("send-notification",T)}function xr(T,j,Y){if(!(S===Ve.Off||!A))if(O===sn.Text){let te;(S===Ve.Verbose||S===Ve.Compact)&&(T.error&&T.error.data?te=`Error data: ${yt(T.error.data)}

`:T.result?te=`Result: ${yt(T.result)}

`:T.error===void 0&&(te=`No result returned.

`)),A.log(`Sending response '${j} - (${T.id})'. Processing request took ${Date.now()-Y}ms`,te)}else vt("send-response",T)}function Mr(T){if(!(S===Ve.Off||!A))if(O===sn.Text){let j;(S===Ve.Verbose||S===Ve.Compact)&&T.params&&(j=`Params: ${yt(T.params)}

`),A.log(`Received request '${T.method} - (${T.id})'.`,j)}else vt("receive-request",T)}function At(T){if(!(S===Ve.Off||!A||T.method===El.type.method))if(O===sn.Text){let j;(S===Ve.Verbose||S===Ve.Compact)&&(T.params?j=`Params: ${yt(T.params)}

`:j=`No parameters provided.

`),A.log(`Received notification '${T.method}'.`,j)}else vt("receive-notification",T)}function Fr(T,j){if(!(S===Ve.Off||!A))if(O===sn.Text){let Y;if((S===Ve.Verbose||S===Ve.Compact)&&(T.error&&T.error.data?Y=`Error data: ${yt(T.error.data)}

`:T.result?Y=`Result: ${yt(T.result)}

`:T.error===void 0&&(Y=`No result returned.

`)),j){let te=T.error?` Request failed: ${T.error.message} (${T.error.code}).`:"";A.log(`Received response '${j.method} - (${T.id})' in ${Date.now()-j.timerStart}ms.${te}`,Y)}else A.log(`Received response ${T.id} without active response promise.`,Y)}else vt("receive-response",T)}function vt(T,j){if(!A||S===Ve.Off)return;let Y={isLSPMessage:!0,type:T,message:j,timestamp:Date.now()};A.log(Y)}function Nt(){if(le())throw new zo(Cu.Closed,"Connection is closed.");if(oe())throw new zo(Cu.Disposed,"Connection is disposed.")}function Yt(){if(ge())throw new zo(Cu.AlreadyListening,"Connection is already listening")}function rn(){if(!ge())throw new Error("Call listen() first.")}function Ir(T){return T===void 0?null:T}function ii(T){if(T!==null)return T}function qi(T){return T!=null&&!Array.isArray(T)&&typeof T=="object"}function An(T,j){switch(T){case pe.ParameterStructures.auto:return qi(j)?ii(j):[Ir(j)];case pe.ParameterStructures.byName:if(!qi(j))throw new Error("Received parameters by name but param is not an object literal.");return ii(j);case pe.ParameterStructures.byPosition:return[Ir(j)];default:throw new Error(`Unknown parameter structure ${T.toString()}`)}}function Oi(T,j){let Y,te=T.numberOfParams;switch(te){case 0:Y=void 0;break;case 1:Y=An(T.parameterStructures,j[0]);break;default:Y=[];for(let je=0;je<j.length&&je<te;je++)Y.push(Ir(j[je]));if(j.length<te)for(let je=j.length;je<te;je++)Y.push(null);break}return Y}let gr={sendNotification:(T,...j)=>{Nt();let Y,te;if(_t.string(T)){Y=T;let Ne=j[0],Ye=0,et=pe.ParameterStructures.auto;pe.ParameterStructures.is(Ne)&&(Ye=1,et=Ne);let De=j.length,Ue=De-Ye;switch(Ue){case 0:te=void 0;break;case 1:te=An(et,j[Ye]);break;default:if(et===pe.ParameterStructures.byName)throw new Error(`Received ${Ue} parameters for 'by Name' notification parameter structure.`);te=j.slice(Ye,De).map(Me=>Ir(Me));break}}else{let Ne=j;Y=T.method,te=Oi(T,Ne)}let je={jsonrpc:u,method:Y,params:te};return nr(je),e.write(je).catch(Ne=>{throw i.error("Sending notification failed."),Ne})},onNotification:(T,j)=>{Nt();let Y;return _t.func(T)?f=T:j&&(_t.string(T)?(Y=T,d.set(T,{type:void 0,handler:j})):(Y=T.method,d.set(T.method,{type:T,handler:j}))),{dispose:()=>{Y!==void 0?d.delete(Y):f=void 0}}},onProgress:(T,j,Y)=>{if(g.has(j))throw new Error(`Progress handler for token ${j} already registered`);return g.set(j,Y),{dispose:()=>{g.delete(j)}}},sendProgress:(T,j,Y)=>gr.sendNotification(Ru.type,{token:j,value:Y}),onUnhandledProgress:V.event,sendRequest:(T,...j)=>{Nt(),rn();let Y,te,je;if(_t.string(T)){Y=T;let De=j[0],Ue=j[j.length-1],Me=0,tt=pe.ParameterStructures.auto;pe.ParameterStructures.is(De)&&(Me=1,tt=De);let Ct=j.length;em.CancellationToken.is(Ue)&&(Ct=Ct-1,je=Ue);let Wt=Ct-Me;switch(Wt){case 0:te=void 0;break;case 1:te=An(tt,j[Me]);break;default:if(tt===pe.ParameterStructures.byName)throw new Error(`Received ${Wt} parameters for 'by Name' request parameter structure.`);te=j.slice(Me,Ct).map(Yi=>Ir(Yi));break}}else{let De=j;Y=T.method,te=Oi(T,De);let Ue=T.numberOfParams;je=em.CancellationToken.is(De[Ue])?De[Ue]:void 0}let Ne=s++,Ye;je&&(Ye=je.onCancellationRequested(()=>{let De=Q.sender.sendCancellation(gr,Ne);return De===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Ne}`),Promise.resolve()):De.catch(()=>{i.log(`Sending cancellation messages for id ${Ne} failed`)})}));let et={jsonrpc:u,id:Ne,method:Y,params:te};return Or(et),typeof Q.sender.enableCancellation=="function"&&Q.sender.enableCancellation(et),new Promise(async(De,Ue)=>{let Me=Wt=>{De(Wt),Q.sender.cleanup(Ne),Ye?.dispose()},tt=Wt=>{Ue(Wt),Q.sender.cleanup(Ne),Ye?.dispose()},Ct={method:Y,timerStart:Date.now(),resolve:Me,reject:tt};try{await e.write(et),C.set(Ne,Ct)}catch(Wt){throw i.error("Sending request failed."),Ct.reject(new pe.ResponseError(pe.ErrorCodes.MessageWriteError,Wt.message?Wt.message:"Unknown reason")),Wt}})},onRequest:(T,j)=>{Nt();let Y=null;return nm.is(T)?(Y=void 0,c=T):_t.string(T)?(Y=null,j!==void 0&&(Y=T,l.set(T,{handler:j,type:void 0}))):j!==void 0&&(Y=T.method,l.set(T.method,{type:T,handler:j})),{dispose:()=>{Y!==null&&(Y!==void 0?l.delete(Y):c=void 0)}}},hasPendingResponse:()=>C.size>0,trace:async(T,j,Y)=>{let te=!1,je=sn.Text;Y!==void 0&&(_t.boolean(Y)?te=Y:(te=Y.sendNotification||!1,je=Y.traceFormat||sn.Text)),S=T,O=je,S===Ve.Off?A=void 0:A=j,te&&!le()&&!oe()&&await gr.sendNotification(im.type,{value:Ve.toString(T)})},onError:U.event,onClose:K.event,onUnhandledNotification:ue.event,onDispose:N.event,end:()=>{e.end()},dispose:()=>{if(oe())return;z=Ln.Disposed,N.fire(void 0);let T=new pe.ResponseError(pe.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let j of C.values())j.reject(T);C=new Map,w=new Map,D=new Set,b=new VS.LinkedMap,_t.func(e.dispose)&&e.dispose(),_t.func(t.dispose)&&t.dispose()},listen:()=>{Nt(),Yt(),z=Ln.Listening,t.listen(ni)},inspect:()=>{(0,BS.default)().console.log("inspect")}};return gr.onNotification(El.type,T=>{if(S===Ve.Off||!A)return;let j=S===Ve.Verbose||S===Ve.Compact;A.log(T.message,j?T.verbose:void 0)}),gr.onNotification(Ru.type,T=>{let j=g.get(T.token);j?j(T.value):V.fire(T)}),gr}Se.createMessageConnection=eL});var Ml=_(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.ProgressType=L.ProgressToken=L.createMessageConnection=L.NullLogger=L.ConnectionOptions=L.ConnectionStrategy=L.AbstractMessageBuffer=L.WriteableStreamMessageWriter=L.AbstractMessageWriter=L.MessageWriter=L.ReadableStreamMessageReader=L.AbstractMessageReader=L.MessageReader=L.SharedArrayReceiverStrategy=L.SharedArraySenderStrategy=L.CancellationToken=L.CancellationTokenSource=L.Emitter=L.Event=L.Disposable=L.LRUCache=L.Touch=L.LinkedMap=L.ParameterStructures=L.NotificationType9=L.NotificationType8=L.NotificationType7=L.NotificationType6=L.NotificationType5=L.NotificationType4=L.NotificationType3=L.NotificationType2=L.NotificationType1=L.NotificationType0=L.NotificationType=L.ErrorCodes=L.ResponseError=L.RequestType9=L.RequestType8=L.RequestType7=L.RequestType6=L.RequestType5=L.RequestType4=L.RequestType3=L.RequestType2=L.RequestType1=L.RequestType0=L.RequestType=L.Message=L.RAL=void 0;L.MessageStrategy=L.CancellationStrategy=L.CancellationSenderStrategy=L.CancellationReceiverStrategy=L.ConnectionError=L.ConnectionErrors=L.LogTraceNotification=L.SetTraceNotification=L.TraceFormat=L.TraceValues=L.Trace=void 0;var ut=Mp();Object.defineProperty(L,"Message",{enumerable:!0,get:function(){return ut.Message}});Object.defineProperty(L,"RequestType",{enumerable:!0,get:function(){return ut.RequestType}});Object.defineProperty(L,"RequestType0",{enumerable:!0,get:function(){return ut.RequestType0}});Object.defineProperty(L,"RequestType1",{enumerable:!0,get:function(){return ut.RequestType1}});Object.defineProperty(L,"RequestType2",{enumerable:!0,get:function(){return ut.RequestType2}});Object.defineProperty(L,"RequestType3",{enumerable:!0,get:function(){return ut.RequestType3}});Object.defineProperty(L,"RequestType4",{enumerable:!0,get:function(){return ut.RequestType4}});Object.defineProperty(L,"RequestType5",{enumerable:!0,get:function(){return ut.RequestType5}});Object.defineProperty(L,"RequestType6",{enumerable:!0,get:function(){return ut.RequestType6}});Object.defineProperty(L,"RequestType7",{enumerable:!0,get:function(){return ut.RequestType7}});Object.defineProperty(L,"RequestType8",{enumerable:!0,get:function(){return ut.RequestType8}});Object.defineProperty(L,"RequestType9",{enumerable:!0,get:function(){return ut.RequestType9}});Object.defineProperty(L,"ResponseError",{enumerable:!0,get:function(){return ut.ResponseError}});Object.defineProperty(L,"ErrorCodes",{enumerable:!0,get:function(){return ut.ErrorCodes}});Object.defineProperty(L,"NotificationType",{enumerable:!0,get:function(){return ut.NotificationType}});Object.defineProperty(L,"NotificationType0",{enumerable:!0,get:function(){return ut.NotificationType0}});Object.defineProperty(L,"NotificationType1",{enumerable:!0,get:function(){return ut.NotificationType1}});Object.defineProperty(L,"NotificationType2",{enumerable:!0,get:function(){return ut.NotificationType2}});Object.defineProperty(L,"NotificationType3",{enumerable:!0,get:function(){return ut.NotificationType3}});Object.defineProperty(L,"NotificationType4",{enumerable:!0,get:function(){return ut.NotificationType4}});Object.defineProperty(L,"NotificationType5",{enumerable:!0,get:function(){return ut.NotificationType5}});Object.defineProperty(L,"NotificationType6",{enumerable:!0,get:function(){return ut.NotificationType6}});Object.defineProperty(L,"NotificationType7",{enumerable:!0,get:function(){return ut.NotificationType7}});Object.defineProperty(L,"NotificationType8",{enumerable:!0,get:function(){return ut.NotificationType8}});Object.defineProperty(L,"NotificationType9",{enumerable:!0,get:function(){return ut.NotificationType9}});Object.defineProperty(L,"ParameterStructures",{enumerable:!0,get:function(){return ut.ParameterStructures}});var am=Ip();Object.defineProperty(L,"LinkedMap",{enumerable:!0,get:function(){return am.LinkedMap}});Object.defineProperty(L,"LRUCache",{enumerable:!0,get:function(){return am.LRUCache}});Object.defineProperty(L,"Touch",{enumerable:!0,get:function(){return am.Touch}});var tL=kS();Object.defineProperty(L,"Disposable",{enumerable:!0,get:function(){return tL.Disposable}});var JS=$o();Object.defineProperty(L,"Event",{enumerable:!0,get:function(){return JS.Event}});Object.defineProperty(L,"Emitter",{enumerable:!0,get:function(){return JS.Emitter}});var QS=wl();Object.defineProperty(L,"CancellationTokenSource",{enumerable:!0,get:function(){return QS.CancellationTokenSource}});Object.defineProperty(L,"CancellationToken",{enumerable:!0,get:function(){return QS.CancellationToken}});var ZS=NS();Object.defineProperty(L,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return ZS.SharedArraySenderStrategy}});Object.defineProperty(L,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return ZS.SharedArrayReceiverStrategy}});var um=jS();Object.defineProperty(L,"MessageReader",{enumerable:!0,get:function(){return um.MessageReader}});Object.defineProperty(L,"AbstractMessageReader",{enumerable:!0,get:function(){return um.AbstractMessageReader}});Object.defineProperty(L,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return um.ReadableStreamMessageReader}});var cm=zS();Object.defineProperty(L,"MessageWriter",{enumerable:!0,get:function(){return cm.MessageWriter}});Object.defineProperty(L,"AbstractMessageWriter",{enumerable:!0,get:function(){return cm.AbstractMessageWriter}});Object.defineProperty(L,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return cm.WriteableStreamMessageWriter}});var rL=KS();Object.defineProperty(L,"AbstractMessageBuffer",{enumerable:!0,get:function(){return rL.AbstractMessageBuffer}});var Jt=XS();Object.defineProperty(L,"ConnectionStrategy",{enumerable:!0,get:function(){return Jt.ConnectionStrategy}});Object.defineProperty(L,"ConnectionOptions",{enumerable:!0,get:function(){return Jt.ConnectionOptions}});Object.defineProperty(L,"NullLogger",{enumerable:!0,get:function(){return Jt.NullLogger}});Object.defineProperty(L,"createMessageConnection",{enumerable:!0,get:function(){return Jt.createMessageConnection}});Object.defineProperty(L,"ProgressToken",{enumerable:!0,get:function(){return Jt.ProgressToken}});Object.defineProperty(L,"ProgressType",{enumerable:!0,get:function(){return Jt.ProgressType}});Object.defineProperty(L,"Trace",{enumerable:!0,get:function(){return Jt.Trace}});Object.defineProperty(L,"TraceValues",{enumerable:!0,get:function(){return Jt.TraceValues}});Object.defineProperty(L,"TraceFormat",{enumerable:!0,get:function(){return Jt.TraceFormat}});Object.defineProperty(L,"SetTraceNotification",{enumerable:!0,get:function(){return Jt.SetTraceNotification}});Object.defineProperty(L,"LogTraceNotification",{enumerable:!0,get:function(){return Jt.LogTraceNotification}});Object.defineProperty(L,"ConnectionErrors",{enumerable:!0,get:function(){return Jt.ConnectionErrors}});Object.defineProperty(L,"ConnectionError",{enumerable:!0,get:function(){return Jt.ConnectionError}});Object.defineProperty(L,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Jt.CancellationReceiverStrategy}});Object.defineProperty(L,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Jt.CancellationSenderStrategy}});Object.defineProperty(L,"CancellationStrategy",{enumerable:!0,get:function(){return Jt.CancellationStrategy}});Object.defineProperty(L,"MessageStrategy",{enumerable:!0,get:function(){return Jt.MessageStrategy}});var nL=Qi();L.RAL=nL.default});var rR=_(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});var eR=require("util"),xi=Ml(),Fl=class t extends xi.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new eR.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};Fl.emptyBuffer=Buffer.allocUnsafe(0);var lm=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),xi.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),xi.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),xi.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),xi.Disposable.create(()=>this.stream.off("data",e))}},dm=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),xi.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),xi.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),xi.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let s=o=>{o==null?n():i(o)};typeof e=="string"?this.stream.write(e,r,s):this.stream.write(e,s)})}end(){this.stream.end()}},tR=Object.freeze({messageBuffer:Object.freeze({create:t=>new Fl(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new eR.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:t=>new lm(t),asWritableStream:t=>new dm(t)}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:()=>clearImmediate(r)}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:()=>clearInterval(n)}}})});function fm(){return tR}(function(t){function e(){xi.RAL.install(tR)}t.install=e})(fm||(fm={}));hm.default=fm});var Xs=_(ke=>{"use strict";var iL=ke&&ke.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sL=ke&&ke.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&iL(e,t,r)};Object.defineProperty(ke,"__esModule",{value:!0});ke.createMessageConnection=ke.createServerSocketTransport=ke.createClientSocketTransport=ke.createServerPipeTransport=ke.createClientPipeTransport=ke.generateRandomPipeName=ke.StreamMessageWriter=ke.StreamMessageReader=ke.SocketMessageWriter=ke.SocketMessageReader=ke.PortMessageWriter=ke.PortMessageReader=ke.IPCMessageWriter=ke.IPCMessageReader=void 0;var Ko=rR();Ko.default.install();var nR=require("path"),oL=require("os"),aL=require("crypto"),Al=require("net"),on=Ml();sL(Ml(),ke);var gm=class extends on.AbstractMessageReader{constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),on.Disposable.create(()=>this.process.off("message",e))}};ke.IPCMessageReader=gm;var pm=class extends on.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};ke.IPCMessageWriter=pm;var mm=class extends on.AbstractMessageReader{constructor(e){super(),this.onData=new on.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};ke.PortMessageReader=mm;var ym=class extends on.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};ke.PortMessageWriter=ym;var Gs=class extends on.ReadableStreamMessageReader{constructor(e,r="utf-8"){super((0,Ko.default)().stream.asReadableStream(e),r)}};ke.SocketMessageReader=Gs;var Ys=class extends on.WriteableStreamMessageWriter{constructor(e,r){super((0,Ko.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ke.SocketMessageWriter=Ys;var Il=class extends on.ReadableStreamMessageReader{constructor(e,r){super((0,Ko.default)().stream.asReadableStream(e),r)}};ke.StreamMessageReader=Il;var kl=class extends on.WriteableStreamMessageWriter{constructor(e,r){super((0,Ko.default)().stream.asWritableStream(e),r)}};ke.StreamMessageWriter=kl;var iR=process.env.XDG_RUNTIME_DIR,uL=new Map([["linux",107],["darwin",103]]);function cL(){let t=(0,aL.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;iR?e=nR.join(iR,`vscode-ipc-${t}.sock`):e=nR.join(oL.tmpdir(),`vscode-${t}.sock`);let r=uL.get(process.platform);return r!==void 0&&e.length>r&&(0,Ko.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}ke.generateRandomPipeName=cL;function lL(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=(0,Al.createServer)(a=>{o.close(),r([new Gs(a,e),new Ys(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}ke.createClientPipeTransport=lL;function dL(t,e="utf-8"){let r=(0,Al.createConnection)(t);return[new Gs(r,e),new Ys(r,e)]}ke.createServerPipeTransport=dL;function fL(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=(0,Al.createServer)(a=>{o.close(),r([new Gs(a,e),new Ys(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}ke.createClientSocketTransport=fL;function hL(t,e="utf-8"){let r=(0,Al.createConnection)(t,"127.0.0.1");return[new Gs(r,e),new Ys(r,e)]}ke.createServerSocketTransport=hL;function gL(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function pL(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function mL(t,e,r,n){r||(r=on.NullLogger);let i=gL(t)?new Il(t):t,s=pL(e)?new kl(e):e;return on.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,on.createMessageConnection)(i,s,r,n)}ke.createMessageConnection=mL});var vm=_((m7,sR)=>{"use strict";sR.exports=Xs()});var ai=_((oR,Nl)=>{(function(t){if(typeof Nl=="object"&&typeof Nl.exports=="object"){var e=t(require,oR);e!==void 0&&(Nl.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(v){function P(q){return typeof q=="string"}v.is=P})(r||(e.DocumentUri=r={}));var n;(function(v){function P(q){return typeof q=="string"}v.is=P})(n||(e.URI=n={}));var i;(function(v){v.MIN_VALUE=-2147483648,v.MAX_VALUE=2147483647;function P(q){return typeof q=="number"&&v.MIN_VALUE<=q&&q<=v.MAX_VALUE}v.is=P})(i||(e.integer=i={}));var s;(function(v){v.MIN_VALUE=0,v.MAX_VALUE=2147483647;function P(q){return typeof q=="number"&&v.MIN_VALUE<=q&&q<=v.MAX_VALUE}v.is=P})(s||(e.uinteger=s={}));var o;(function(v){function P(R,m){return R===Number.MAX_VALUE&&(R=s.MAX_VALUE),m===Number.MAX_VALUE&&(m=s.MAX_VALUE),{line:R,character:m}}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&M.uinteger(m.line)&&M.uinteger(m.character)}v.is=q})(o||(e.Position=o={}));var a;(function(v){function P(R,m,I,W){if(M.uinteger(R)&&M.uinteger(m)&&M.uinteger(I)&&M.uinteger(W))return{start:o.create(R,m),end:o.create(I,W)};if(o.is(R)&&o.is(m))return{start:R,end:m};throw new Error("Range#create called with invalid arguments[".concat(R,", ").concat(m,", ").concat(I,", ").concat(W,"]"))}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&o.is(m.start)&&o.is(m.end)}v.is=q})(a||(e.Range=a={}));var u;(function(v){function P(R,m){return{uri:R,range:m}}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&a.is(m.range)&&(M.string(m.uri)||M.undefined(m.uri))}v.is=q})(u||(e.Location=u={}));var c;(function(v){function P(R,m,I,W){return{targetUri:R,targetRange:m,targetSelectionRange:I,originSelectionRange:W}}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&a.is(m.targetRange)&&M.string(m.targetUri)&&a.is(m.targetSelectionRange)&&(a.is(m.originSelectionRange)||M.undefined(m.originSelectionRange))}v.is=q})(c||(e.LocationLink=c={}));var l;(function(v){function P(R,m,I,W){return{red:R,green:m,blue:I,alpha:W}}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&M.numberRange(m.red,0,1)&&M.numberRange(m.green,0,1)&&M.numberRange(m.blue,0,1)&&M.numberRange(m.alpha,0,1)}v.is=q})(l||(e.Color=l={}));var f;(function(v){function P(R,m){return{range:R,color:m}}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&a.is(m.range)&&l.is(m.color)}v.is=q})(f||(e.ColorInformation=f={}));var d;(function(v){function P(R,m,I){return{label:R,textEdit:m,additionalTextEdits:I}}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&M.string(m.label)&&(M.undefined(m.textEdit)||A.is(m))&&(M.undefined(m.additionalTextEdits)||M.typedArray(m.additionalTextEdits,A.is))}v.is=q})(d||(e.ColorPresentation=d={}));var g;(function(v){v.Comment="comment",v.Imports="imports",v.Region="region"})(g||(e.FoldingRangeKind=g={}));var p;(function(v){function P(R,m,I,W,ve,ht){var rt={startLine:R,endLine:m};return M.defined(I)&&(rt.startCharacter=I),M.defined(W)&&(rt.endCharacter=W),M.defined(ve)&&(rt.kind=ve),M.defined(ht)&&(rt.collapsedText=ht),rt}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&M.uinteger(m.startLine)&&M.uinteger(m.startLine)&&(M.undefined(m.startCharacter)||M.uinteger(m.startCharacter))&&(M.undefined(m.endCharacter)||M.uinteger(m.endCharacter))&&(M.undefined(m.kind)||M.string(m.kind))}v.is=q})(p||(e.FoldingRange=p={}));var b;(function(v){function P(R,m){return{location:R,message:m}}v.create=P;function q(R){var m=R;return M.defined(m)&&u.is(m.location)&&M.string(m.message)}v.is=q})(b||(e.DiagnosticRelatedInformation=b={}));var C;(function(v){v.Error=1,v.Warning=2,v.Information=3,v.Hint=4})(C||(e.DiagnosticSeverity=C={}));var D;(function(v){v.Unnecessary=1,v.Deprecated=2})(D||(e.DiagnosticTag=D={}));var w;(function(v){function P(q){var R=q;return M.objectLiteral(R)&&M.string(R.href)}v.is=P})(w||(e.CodeDescription=w={}));var S;(function(v){function P(R,m,I,W,ve,ht){var rt={range:R,message:m};return M.defined(I)&&(rt.severity=I),M.defined(W)&&(rt.code=W),M.defined(ve)&&(rt.source=ve),M.defined(ht)&&(rt.relatedInformation=ht),rt}v.create=P;function q(R){var m,I=R;return M.defined(I)&&a.is(I.range)&&M.string(I.message)&&(M.number(I.severity)||M.undefined(I.severity))&&(M.integer(I.code)||M.string(I.code)||M.undefined(I.code))&&(M.undefined(I.codeDescription)||M.string((m=I.codeDescription)===null||m===void 0?void 0:m.href))&&(M.string(I.source)||M.undefined(I.source))&&(M.undefined(I.relatedInformation)||M.typedArray(I.relatedInformation,b.is))}v.is=q})(S||(e.Diagnostic=S={}));var O;(function(v){function P(R,m){for(var I=[],W=2;W<arguments.length;W++)I[W-2]=arguments[W];var ve={title:R,command:m};return M.defined(I)&&I.length>0&&(ve.arguments=I),ve}v.create=P;function q(R){var m=R;return M.defined(m)&&M.string(m.title)&&M.string(m.command)}v.is=q})(O||(e.Command=O={}));var A;(function(v){function P(I,W){return{range:I,newText:W}}v.replace=P;function q(I,W){return{range:{start:I,end:I},newText:W}}v.insert=q;function R(I){return{range:I,newText:""}}v.del=R;function m(I){var W=I;return M.objectLiteral(W)&&M.string(W.newText)&&a.is(W.range)}v.is=m})(A||(e.TextEdit=A={}));var z;(function(v){function P(R,m,I){var W={label:R};return m!==void 0&&(W.needsConfirmation=m),I!==void 0&&(W.description=I),W}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&M.string(m.label)&&(M.boolean(m.needsConfirmation)||m.needsConfirmation===void 0)&&(M.string(m.description)||m.description===void 0)}v.is=q})(z||(e.ChangeAnnotation=z={}));var U;(function(v){function P(q){var R=q;return M.string(R)}v.is=P})(U||(e.ChangeAnnotationIdentifier=U={}));var K;(function(v){function P(I,W,ve){return{range:I,newText:W,annotationId:ve}}v.replace=P;function q(I,W,ve){return{range:{start:I,end:I},newText:W,annotationId:ve}}v.insert=q;function R(I,W){return{range:I,newText:"",annotationId:W}}v.del=R;function m(I){var W=I;return A.is(W)&&(z.is(W.annotationId)||U.is(W.annotationId))}v.is=m})(K||(e.AnnotatedTextEdit=K={}));var ue;(function(v){function P(R,m){return{textDocument:R,edits:m}}v.create=P;function q(R){var m=R;return M.defined(m)&&le.is(m.textDocument)&&Array.isArray(m.edits)}v.is=q})(ue||(e.TextDocumentEdit=ue={}));var V;(function(v){function P(R,m,I){var W={kind:"create",uri:R};return m!==void 0&&(m.overwrite!==void 0||m.ignoreIfExists!==void 0)&&(W.options=m),I!==void 0&&(W.annotationId=I),W}v.create=P;function q(R){var m=R;return m&&m.kind==="create"&&M.string(m.uri)&&(m.options===void 0||(m.options.overwrite===void 0||M.boolean(m.options.overwrite))&&(m.options.ignoreIfExists===void 0||M.boolean(m.options.ignoreIfExists)))&&(m.annotationId===void 0||U.is(m.annotationId))}v.is=q})(V||(e.CreateFile=V={}));var N;(function(v){function P(R,m,I,W){var ve={kind:"rename",oldUri:R,newUri:m};return I!==void 0&&(I.overwrite!==void 0||I.ignoreIfExists!==void 0)&&(ve.options=I),W!==void 0&&(ve.annotationId=W),ve}v.create=P;function q(R){var m=R;return m&&m.kind==="rename"&&M.string(m.oldUri)&&M.string(m.newUri)&&(m.options===void 0||(m.options.overwrite===void 0||M.boolean(m.options.overwrite))&&(m.options.ignoreIfExists===void 0||M.boolean(m.options.ignoreIfExists)))&&(m.annotationId===void 0||U.is(m.annotationId))}v.is=q})(N||(e.RenameFile=N={}));var Q;(function(v){function P(R,m,I){var W={kind:"delete",uri:R};return m!==void 0&&(m.recursive!==void 0||m.ignoreIfNotExists!==void 0)&&(W.options=m),I!==void 0&&(W.annotationId=I),W}v.create=P;function q(R){var m=R;return m&&m.kind==="delete"&&M.string(m.uri)&&(m.options===void 0||(m.options.recursive===void 0||M.boolean(m.options.recursive))&&(m.options.ignoreIfNotExists===void 0||M.boolean(m.options.ignoreIfNotExists)))&&(m.annotationId===void 0||U.is(m.annotationId))}v.is=q})(Q||(e.DeleteFile=Q={}));var J;(function(v){function P(q){var R=q;return R&&(R.changes!==void 0||R.documentChanges!==void 0)&&(R.documentChanges===void 0||R.documentChanges.every(function(m){return M.string(m.kind)?V.is(m)||N.is(m)||Q.is(m):ue.is(m)}))}v.is=P})(J||(e.WorkspaceEdit=J={}));var ye=function(){function v(P,q){this.edits=P,this.changeAnnotations=q}return v.prototype.insert=function(P,q,R){var m,I;if(R===void 0?m=A.insert(P,q):U.is(R)?(I=R,m=K.insert(P,q,R)):(this.assertChangeAnnotations(this.changeAnnotations),I=this.changeAnnotations.manage(R),m=K.insert(P,q,I)),this.edits.push(m),I!==void 0)return I},v.prototype.replace=function(P,q,R){var m,I;if(R===void 0?m=A.replace(P,q):U.is(R)?(I=R,m=K.replace(P,q,R)):(this.assertChangeAnnotations(this.changeAnnotations),I=this.changeAnnotations.manage(R),m=K.replace(P,q,I)),this.edits.push(m),I!==void 0)return I},v.prototype.delete=function(P,q){var R,m;if(q===void 0?R=A.del(P):U.is(q)?(m=q,R=K.del(P,q)):(this.assertChangeAnnotations(this.changeAnnotations),m=this.changeAnnotations.manage(q),R=K.del(P,m)),this.edits.push(R),m!==void 0)return m},v.prototype.add=function(P){this.edits.push(P)},v.prototype.all=function(){return this.edits},v.prototype.clear=function(){this.edits.splice(0,this.edits.length)},v.prototype.assertChangeAnnotations=function(P){if(P===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},v}(),he=function(){function v(P){this._annotations=P===void 0?Object.create(null):P,this._counter=0,this._size=0}return v.prototype.all=function(){return this._annotations},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),v.prototype.manage=function(P,q){var R;if(U.is(P)?R=P:(R=this.nextId(),q=P),this._annotations[R]!==void 0)throw new Error("Id ".concat(R," is already in use."));if(q===void 0)throw new Error("No annotation provided for id ".concat(R));return this._annotations[R]=q,this._size++,R},v.prototype.nextId=function(){return this._counter++,this._counter.toString()},v}(),F=function(){function v(P){var q=this;this._textEditChanges=Object.create(null),P!==void 0?(this._workspaceEdit=P,P.documentChanges?(this._changeAnnotations=new he(P.changeAnnotations),P.changeAnnotations=this._changeAnnotations.all(),P.documentChanges.forEach(function(R){if(ue.is(R)){var m=new ye(R.edits,q._changeAnnotations);q._textEditChanges[R.textDocument.uri]=m}})):P.changes&&Object.keys(P.changes).forEach(function(R){var m=new ye(P.changes[R]);q._textEditChanges[R]=m})):this._workspaceEdit={}}return Object.defineProperty(v.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),v.prototype.getTextEditChange=function(P){if(le.is(P)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var q={uri:P.uri,version:P.version},R=this._textEditChanges[q.uri];if(!R){var m=[],I={textDocument:q,edits:m};this._workspaceEdit.documentChanges.push(I),R=new ye(m,this._changeAnnotations),this._textEditChanges[q.uri]=R}return R}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var R=this._textEditChanges[P];if(!R){var m=[];this._workspaceEdit.changes[P]=m,R=new ye(m),this._textEditChanges[P]=R}return R}},v.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new he,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},v.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},v.prototype.createFile=function(P,q,R){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var m;z.is(q)||U.is(q)?m=q:R=q;var I,W;if(m===void 0?I=V.create(P,R):(W=U.is(m)?m:this._changeAnnotations.manage(m),I=V.create(P,R,W)),this._workspaceEdit.documentChanges.push(I),W!==void 0)return W},v.prototype.renameFile=function(P,q,R,m){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var I;z.is(R)||U.is(R)?I=R:m=R;var W,ve;if(I===void 0?W=N.create(P,q,m):(ve=U.is(I)?I:this._changeAnnotations.manage(I),W=N.create(P,q,m,ve)),this._workspaceEdit.documentChanges.push(W),ve!==void 0)return ve},v.prototype.deleteFile=function(P,q,R){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var m;z.is(q)||U.is(q)?m=q:R=q;var I,W;if(m===void 0?I=Q.create(P,R):(W=U.is(m)?m:this._changeAnnotations.manage(m),I=Q.create(P,R,W)),this._workspaceEdit.documentChanges.push(I),W!==void 0)return W},v}();e.WorkspaceChange=F;var X;(function(v){function P(R){return{uri:R}}v.create=P;function q(R){var m=R;return M.defined(m)&&M.string(m.uri)}v.is=q})(X||(e.TextDocumentIdentifier=X={}));var ge;(function(v){function P(R,m){return{uri:R,version:m}}v.create=P;function q(R){var m=R;return M.defined(m)&&M.string(m.uri)&&M.integer(m.version)}v.is=q})(ge||(e.VersionedTextDocumentIdentifier=ge={}));var le;(function(v){function P(R,m){return{uri:R,version:m}}v.create=P;function q(R){var m=R;return M.defined(m)&&M.string(m.uri)&&(m.version===null||M.integer(m.version))}v.is=q})(le||(e.OptionalVersionedTextDocumentIdentifier=le={}));var oe;(function(v){function P(R,m,I,W){return{uri:R,languageId:m,version:I,text:W}}v.create=P;function q(R){var m=R;return M.defined(m)&&M.string(m.uri)&&M.string(m.languageId)&&M.integer(m.version)&&M.string(m.text)}v.is=q})(oe||(e.TextDocumentItem=oe={}));var at;(function(v){v.PlainText="plaintext",v.Markdown="markdown";function P(q){var R=q;return R===v.PlainText||R===v.Markdown}v.is=P})(at||(e.MarkupKind=at={}));var ct;(function(v){function P(q){var R=q;return M.objectLiteral(q)&&at.is(R.kind)&&M.string(R.value)}v.is=P})(ct||(e.MarkupContent=ct={}));var Tr;(function(v){v.Text=1,v.Method=2,v.Function=3,v.Constructor=4,v.Field=5,v.Variable=6,v.Class=7,v.Interface=8,v.Module=9,v.Property=10,v.Unit=11,v.Value=12,v.Enum=13,v.Keyword=14,v.Snippet=15,v.Color=16,v.File=17,v.Reference=18,v.Folder=19,v.EnumMember=20,v.Constant=21,v.Struct=22,v.Event=23,v.Operator=24,v.TypeParameter=25})(Tr||(e.CompletionItemKind=Tr={}));var hr;(function(v){v.PlainText=1,v.Snippet=2})(hr||(e.InsertTextFormat=hr={}));var Zr;(function(v){v.Deprecated=1})(Zr||(e.CompletionItemTag=Zr={}));var Pr;(function(v){function P(R,m,I){return{newText:R,insert:m,replace:I}}v.create=P;function q(R){var m=R;return m&&M.string(m.newText)&&a.is(m.insert)&&a.is(m.replace)}v.is=q})(Pr||(e.InsertReplaceEdit=Pr={}));var ni;(function(v){v.asIs=1,v.adjustIndentation=2})(ni||(e.InsertTextMode=ni={}));var Rt;(function(v){function P(q){var R=q;return R&&(M.string(R.detail)||R.detail===void 0)&&(M.string(R.description)||R.description===void 0)}v.is=P})(Rt||(e.CompletionItemLabelDetails=Rt={}));var qr;(function(v){function P(q){return{label:q}}v.create=P})(qr||(e.CompletionItem=qr={}));var en;(function(v){function P(q,R){return{items:q||[],isIncomplete:!!R}}v.create=P})(en||(e.CompletionList=en={}));var tn;(function(v){function P(R){return R.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}v.fromPlainText=P;function q(R){var m=R;return M.string(m)||M.objectLiteral(m)&&M.string(m.language)&&M.string(m.value)}v.is=q})(tn||(e.MarkedString=tn={}));var yt;(function(v){function P(q){var R=q;return!!R&&M.objectLiteral(R)&&(ct.is(R.contents)||tn.is(R.contents)||M.typedArray(R.contents,tn.is))&&(q.range===void 0||a.is(q.range))}v.is=P})(yt||(e.Hover=yt={}));var Or;(function(v){function P(q,R){return R?{label:q,documentation:R}:{label:q}}v.create=P})(Or||(e.ParameterInformation=Or={}));var nr;(function(v){function P(q,R){for(var m=[],I=2;I<arguments.length;I++)m[I-2]=arguments[I];var W={label:q};return M.defined(R)&&(W.documentation=R),M.defined(m)?W.parameters=m:W.parameters=[],W}v.create=P})(nr||(e.SignatureInformation=nr={}));var xr;(function(v){v.Text=1,v.Read=2,v.Write=3})(xr||(e.DocumentHighlightKind=xr={}));var Mr;(function(v){function P(q,R){var m={range:q};return M.number(R)&&(m.kind=R),m}v.create=P})(Mr||(e.DocumentHighlight=Mr={}));var At;(function(v){v.File=1,v.Module=2,v.Namespace=3,v.Package=4,v.Class=5,v.Method=6,v.Property=7,v.Field=8,v.Constructor=9,v.Enum=10,v.Interface=11,v.Function=12,v.Variable=13,v.Constant=14,v.String=15,v.Number=16,v.Boolean=17,v.Array=18,v.Object=19,v.Key=20,v.Null=21,v.EnumMember=22,v.Struct=23,v.Event=24,v.Operator=25,v.TypeParameter=26})(At||(e.SymbolKind=At={}));var Fr;(function(v){v.Deprecated=1})(Fr||(e.SymbolTag=Fr={}));var vt;(function(v){function P(q,R,m,I,W){var ve={name:q,kind:R,location:{uri:I,range:m}};return W&&(ve.containerName=W),ve}v.create=P})(vt||(e.SymbolInformation=vt={}));var Nt;(function(v){function P(q,R,m,I){return I!==void 0?{name:q,kind:R,location:{uri:m,range:I}}:{name:q,kind:R,location:{uri:m}}}v.create=P})(Nt||(e.WorkspaceSymbol=Nt={}));var Yt;(function(v){function P(R,m,I,W,ve,ht){var rt={name:R,detail:m,kind:I,range:W,selectionRange:ve};return ht!==void 0&&(rt.children=ht),rt}v.create=P;function q(R){var m=R;return m&&M.string(m.name)&&M.number(m.kind)&&a.is(m.range)&&a.is(m.selectionRange)&&(m.detail===void 0||M.string(m.detail))&&(m.deprecated===void 0||M.boolean(m.deprecated))&&(m.children===void 0||Array.isArray(m.children))&&(m.tags===void 0||Array.isArray(m.tags))}v.is=q})(Yt||(e.DocumentSymbol=Yt={}));var rn;(function(v){v.Empty="",v.QuickFix="quickfix",v.Refactor="refactor",v.RefactorExtract="refactor.extract",v.RefactorInline="refactor.inline",v.RefactorRewrite="refactor.rewrite",v.Source="source",v.SourceOrganizeImports="source.organizeImports",v.SourceFixAll="source.fixAll"})(rn||(e.CodeActionKind=rn={}));var Ir;(function(v){v.Invoked=1,v.Automatic=2})(Ir||(e.CodeActionTriggerKind=Ir={}));var ii;(function(v){function P(R,m,I){var W={diagnostics:R};return m!=null&&(W.only=m),I!=null&&(W.triggerKind=I),W}v.create=P;function q(R){var m=R;return M.defined(m)&&M.typedArray(m.diagnostics,S.is)&&(m.only===void 0||M.typedArray(m.only,M.string))&&(m.triggerKind===void 0||m.triggerKind===Ir.Invoked||m.triggerKind===Ir.Automatic)}v.is=q})(ii||(e.CodeActionContext=ii={}));var qi;(function(v){function P(R,m,I){var W={title:R},ve=!0;return typeof m=="string"?(ve=!1,W.kind=m):O.is(m)?W.command=m:W.edit=m,ve&&I!==void 0&&(W.kind=I),W}v.create=P;function q(R){var m=R;return m&&M.string(m.title)&&(m.diagnostics===void 0||M.typedArray(m.diagnostics,S.is))&&(m.kind===void 0||M.string(m.kind))&&(m.edit!==void 0||m.command!==void 0)&&(m.command===void 0||O.is(m.command))&&(m.isPreferred===void 0||M.boolean(m.isPreferred))&&(m.edit===void 0||J.is(m.edit))}v.is=q})(qi||(e.CodeAction=qi={}));var An;(function(v){function P(R,m){var I={range:R};return M.defined(m)&&(I.data=m),I}v.create=P;function q(R){var m=R;return M.defined(m)&&a.is(m.range)&&(M.undefined(m.command)||O.is(m.command))}v.is=q})(An||(e.CodeLens=An={}));var Oi;(function(v){function P(R,m){return{tabSize:R,insertSpaces:m}}v.create=P;function q(R){var m=R;return M.defined(m)&&M.uinteger(m.tabSize)&&M.boolean(m.insertSpaces)}v.is=q})(Oi||(e.FormattingOptions=Oi={}));var gr;(function(v){function P(R,m,I){return{range:R,target:m,data:I}}v.create=P;function q(R){var m=R;return M.defined(m)&&a.is(m.range)&&(M.undefined(m.target)||M.string(m.target))}v.is=q})(gr||(e.DocumentLink=gr={}));var T;(function(v){function P(R,m){return{range:R,parent:m}}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&a.is(m.range)&&(m.parent===void 0||v.is(m.parent))}v.is=q})(T||(e.SelectionRange=T={}));var j;(function(v){v.namespace="namespace",v.type="type",v.class="class",v.enum="enum",v.interface="interface",v.struct="struct",v.typeParameter="typeParameter",v.parameter="parameter",v.variable="variable",v.property="property",v.enumMember="enumMember",v.event="event",v.function="function",v.method="method",v.macro="macro",v.keyword="keyword",v.modifier="modifier",v.comment="comment",v.string="string",v.number="number",v.regexp="regexp",v.operator="operator",v.decorator="decorator"})(j||(e.SemanticTokenTypes=j={}));var Y;(function(v){v.declaration="declaration",v.definition="definition",v.readonly="readonly",v.static="static",v.deprecated="deprecated",v.abstract="abstract",v.async="async",v.modification="modification",v.documentation="documentation",v.defaultLibrary="defaultLibrary"})(Y||(e.SemanticTokenModifiers=Y={}));var te;(function(v){function P(q){var R=q;return M.objectLiteral(R)&&(R.resultId===void 0||typeof R.resultId=="string")&&Array.isArray(R.data)&&(R.data.length===0||typeof R.data[0]=="number")}v.is=P})(te||(e.SemanticTokens=te={}));var je;(function(v){function P(R,m){return{range:R,text:m}}v.create=P;function q(R){var m=R;return m!=null&&a.is(m.range)&&M.string(m.text)}v.is=q})(je||(e.InlineValueText=je={}));var Ne;(function(v){function P(R,m,I){return{range:R,variableName:m,caseSensitiveLookup:I}}v.create=P;function q(R){var m=R;return m!=null&&a.is(m.range)&&M.boolean(m.caseSensitiveLookup)&&(M.string(m.variableName)||m.variableName===void 0)}v.is=q})(Ne||(e.InlineValueVariableLookup=Ne={}));var Ye;(function(v){function P(R,m){return{range:R,expression:m}}v.create=P;function q(R){var m=R;return m!=null&&a.is(m.range)&&(M.string(m.expression)||m.expression===void 0)}v.is=q})(Ye||(e.InlineValueEvaluatableExpression=Ye={}));var et;(function(v){function P(R,m){return{frameId:R,stoppedLocation:m}}v.create=P;function q(R){var m=R;return M.defined(m)&&a.is(R.stoppedLocation)}v.is=q})(et||(e.InlineValueContext=et={}));var De;(function(v){v.Type=1,v.Parameter=2;function P(q){return q===1||q===2}v.is=P})(De||(e.InlayHintKind=De={}));var Ue;(function(v){function P(R){return{value:R}}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&(m.tooltip===void 0||M.string(m.tooltip)||ct.is(m.tooltip))&&(m.location===void 0||u.is(m.location))&&(m.command===void 0||O.is(m.command))}v.is=q})(Ue||(e.InlayHintLabelPart=Ue={}));var Me;(function(v){function P(R,m,I){var W={position:R,label:m};return I!==void 0&&(W.kind=I),W}v.create=P;function q(R){var m=R;return M.objectLiteral(m)&&o.is(m.position)&&(M.string(m.label)||M.typedArray(m.label,Ue.is))&&(m.kind===void 0||De.is(m.kind))&&m.textEdits===void 0||M.typedArray(m.textEdits,A.is)&&(m.tooltip===void 0||M.string(m.tooltip)||ct.is(m.tooltip))&&(m.paddingLeft===void 0||M.boolean(m.paddingLeft))&&(m.paddingRight===void 0||M.boolean(m.paddingRight))}v.is=q})(Me||(e.InlayHint=Me={}));var tt;(function(v){function P(q){return{kind:"snippet",value:q}}v.createSnippet=P})(tt||(e.StringValue=tt={}));var Ct;(function(v){function P(q,R,m,I){return{insertText:q,filterText:R,range:m,command:I}}v.create=P})(Ct||(e.InlineCompletionItem=Ct={}));var Wt;(function(v){function P(q){return{items:q}}v.create=P})(Wt||(e.InlineCompletionList=Wt={}));var Yi;(function(v){v.Invoked=0,v.Automatic=1})(Yi||(e.InlineCompletionTriggerKind=Yi={}));var Xi;(function(v){function P(q,R){return{range:q,text:R}}v.create=P})(Xi||(e.SelectedCompletionInfo=Xi={}));var y;(function(v){function P(q,R){return{triggerKind:q,selectedCompletionInfo:R}}v.create=P})(y||(e.InlineCompletionContext=y={}));var k;(function(v){function P(q){var R=q;return M.objectLiteral(R)&&n.is(R.uri)&&M.string(R.name)}v.is=P})(k||(e.WorkspaceFolder=k={})),e.EOL=[`
`,`\r
`,"\r"];var se;(function(v){function P(I,W,ve,ht){return new ze(I,W,ve,ht)}v.create=P;function q(I){var W=I;return!!(M.defined(W)&&M.string(W.uri)&&(M.undefined(W.languageId)||M.string(W.languageId))&&M.uinteger(W.lineCount)&&M.func(W.getText)&&M.func(W.positionAt)&&M.func(W.offsetAt))}v.is=q;function R(I,W){for(var ve=I.getText(),ht=m(W,function(si,h){var x=si.range.start.line-h.range.start.line;return x===0?si.range.start.character-h.range.start.character:x}),rt=ve.length,kr=ht.length-1;kr>=0;kr--){var nn=ht[kr],Nn=I.offsetAt(nn.range.start),Oe=I.offsetAt(nn.range.end);if(Oe<=rt)ve=ve.substring(0,Nn)+nn.newText+ve.substring(Oe,ve.length);else throw new Error("Overlapping edit");rt=Nn}return ve}v.applyEdits=R;function m(I,W){if(I.length<=1)return I;var ve=I.length/2|0,ht=I.slice(0,ve),rt=I.slice(ve);m(ht,W),m(rt,W);for(var kr=0,nn=0,Nn=0;kr<ht.length&&nn<rt.length;){var Oe=W(ht[kr],rt[nn]);Oe<=0?I[Nn++]=ht[kr++]:I[Nn++]=rt[nn++]}for(;kr<ht.length;)I[Nn++]=ht[kr++];for(;nn<rt.length;)I[Nn++]=rt[nn++];return I}})(se||(e.TextDocument=se={}));var ze=function(){function v(P,q,R,m){this._uri=P,this._languageId=q,this._version=R,this._content=m,this._lineOffsets=void 0}return Object.defineProperty(v.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),v.prototype.getText=function(P){if(P){var q=this.offsetAt(P.start),R=this.offsetAt(P.end);return this._content.substring(q,R)}return this._content},v.prototype.update=function(P,q){this._content=P.text,this._version=q,this._lineOffsets=void 0},v.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var P=[],q=this._content,R=!0,m=0;m<q.length;m++){R&&(P.push(m),R=!1);var I=q.charAt(m);R=I==="\r"||I===`
`,I==="\r"&&m+1<q.length&&q.charAt(m+1)===`
`&&m++}R&&q.length>0&&P.push(q.length),this._lineOffsets=P}return this._lineOffsets},v.prototype.positionAt=function(P){P=Math.max(Math.min(P,this._content.length),0);var q=this.getLineOffsets(),R=0,m=q.length;if(m===0)return o.create(0,P);for(;R<m;){var I=Math.floor((R+m)/2);q[I]>P?m=I:R=I+1}var W=R-1;return o.create(W,P-q[W])},v.prototype.offsetAt=function(P){var q=this.getLineOffsets();if(P.line>=q.length)return this._content.length;if(P.line<0)return 0;var R=q[P.line],m=P.line+1<q.length?q[P.line+1]:this._content.length;return Math.max(Math.min(R+P.character,m),R)},Object.defineProperty(v.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),v}(),M;(function(v){var P=Object.prototype.toString;function q(Oe){return typeof Oe<"u"}v.defined=q;function R(Oe){return typeof Oe>"u"}v.undefined=R;function m(Oe){return Oe===!0||Oe===!1}v.boolean=m;function I(Oe){return P.call(Oe)==="[object String]"}v.string=I;function W(Oe){return P.call(Oe)==="[object Number]"}v.number=W;function ve(Oe,si,h){return P.call(Oe)==="[object Number]"&&si<=Oe&&Oe<=h}v.numberRange=ve;function ht(Oe){return P.call(Oe)==="[object Number]"&&-2147483648<=Oe&&Oe<=2147483647}v.integer=ht;function rt(Oe){return P.call(Oe)==="[object Number]"&&0<=Oe&&Oe<=2147483647}v.uinteger=rt;function kr(Oe){return P.call(Oe)==="[object Function]"}v.func=kr;function nn(Oe){return Oe!==null&&typeof Oe=="object"}v.objectLiteral=nn;function Nn(Oe,si){return Array.isArray(Oe)&&Oe.every(si)}v.typedArray=Nn})(M||(M={}))})});var gt=_(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.ProtocolNotificationType=Nr.ProtocolNotificationType0=Nr.ProtocolRequestType=Nr.ProtocolRequestType0=Nr.RegistrationType=Nr.MessageDirection=void 0;var Bo=Xs(),aR;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(aR||(Nr.MessageDirection=aR={}));var _m=class{constructor(e){this.method=e}};Nr.RegistrationType=_m;var bm=class extends Bo.RequestType0{constructor(e){super(e)}};Nr.ProtocolRequestType0=bm;var wm=class extends Bo.RequestType{constructor(e){super(e,Bo.ParameterStructures.byName)}};Nr.ProtocolRequestType=wm;var Sm=class extends Bo.NotificationType0{constructor(e){super(e)}};Nr.ProtocolNotificationType0=Sm;var Rm=class extends Bo.NotificationType{constructor(e){super(e,Bo.ParameterStructures.byName)}};Nr.ProtocolNotificationType=Rm});var Ll=_(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.objectLiteral=Mt.typedArray=Mt.stringArray=Mt.array=Mt.func=Mt.error=Mt.number=Mt.string=Mt.boolean=void 0;function yL(t){return t===!0||t===!1}Mt.boolean=yL;function uR(t){return typeof t=="string"||t instanceof String}Mt.string=uR;function vL(t){return typeof t=="number"||t instanceof Number}Mt.number=vL;function _L(t){return t instanceof Error}Mt.error=_L;function bL(t){return typeof t=="function"}Mt.func=bL;function cR(t){return Array.isArray(t)}Mt.array=cR;function wL(t){return cR(t)&&t.every(e=>uR(e))}Mt.stringArray=wL;function SL(t,e){return Array.isArray(t)&&t.every(e)}Mt.typedArray=SL;function RL(t){return t!==null&&typeof t=="object"}Mt.objectLiteral=RL});var fR=_(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.ImplementationRequest=void 0;var lR=gt(),dR;(function(t){t.method="textDocument/implementation",t.messageDirection=lR.MessageDirection.clientToServer,t.type=new lR.ProtocolRequestType(t.method)})(dR||(jl.ImplementationRequest=dR={}))});var pR=_($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.TypeDefinitionRequest=void 0;var hR=gt(),gR;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=hR.MessageDirection.clientToServer,t.type=new hR.ProtocolRequestType(t.method)})(gR||($l.TypeDefinitionRequest=gR={}))});var vR=_(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.DidChangeWorkspaceFoldersNotification=Vo.WorkspaceFoldersRequest=void 0;var Wl=gt(),mR;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Wl.MessageDirection.serverToClient,t.type=new Wl.ProtocolRequestType0(t.method)})(mR||(Vo.WorkspaceFoldersRequest=mR={}));var yR;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Wl.MessageDirection.clientToServer,t.type=new Wl.ProtocolNotificationType(t.method)})(yR||(Vo.DidChangeWorkspaceFoldersNotification=yR={}))});var wR=_(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.ConfigurationRequest=void 0;var _R=gt(),bR;(function(t){t.method="workspace/configuration",t.messageDirection=_R.MessageDirection.serverToClient,t.type=new _R.ProtocolRequestType(t.method)})(bR||(Hl.ConfigurationRequest=bR={}))});var CR=_(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.ColorPresentationRequest=Go.DocumentColorRequest=void 0;var Ul=gt(),SR;(function(t){t.method="textDocument/documentColor",t.messageDirection=Ul.MessageDirection.clientToServer,t.type=new Ul.ProtocolRequestType(t.method)})(SR||(Go.DocumentColorRequest=SR={}));var RR;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Ul.MessageDirection.clientToServer,t.type=new Ul.ProtocolRequestType(t.method)})(RR||(Go.ColorPresentationRequest=RR={}))});var TR=_(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.FoldingRangeRefreshRequest=Yo.FoldingRangeRequest=void 0;var zl=gt(),DR;(function(t){t.method="textDocument/foldingRange",t.messageDirection=zl.MessageDirection.clientToServer,t.type=new zl.ProtocolRequestType(t.method)})(DR||(Yo.FoldingRangeRequest=DR={}));var ER;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=zl.MessageDirection.serverToClient,t.type=new zl.ProtocolRequestType0(t.method)})(ER||(Yo.FoldingRangeRefreshRequest=ER={}))});var OR=_(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.DeclarationRequest=void 0;var PR=gt(),qR;(function(t){t.method="textDocument/declaration",t.messageDirection=PR.MessageDirection.clientToServer,t.type=new PR.ProtocolRequestType(t.method)})(qR||(Kl.DeclarationRequest=qR={}))});var FR=_(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.SelectionRangeRequest=void 0;var xR=gt(),MR;(function(t){t.method="textDocument/selectionRange",t.messageDirection=xR.MessageDirection.clientToServer,t.type=new xR.ProtocolRequestType(t.method)})(MR||(Bl.SelectionRangeRequest=MR={}))});var NR=_(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.WorkDoneProgressCancelNotification=ts.WorkDoneProgressCreateRequest=ts.WorkDoneProgress=void 0;var CL=Xs(),Vl=gt(),IR;(function(t){t.type=new CL.ProgressType;function e(r){return r===t.type}t.is=e})(IR||(ts.WorkDoneProgress=IR={}));var kR;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Vl.MessageDirection.serverToClient,t.type=new Vl.ProtocolRequestType(t.method)})(kR||(ts.WorkDoneProgressCreateRequest=kR={}));var AR;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Vl.MessageDirection.clientToServer,t.type=new Vl.ProtocolNotificationType(t.method)})(AR||(ts.WorkDoneProgressCancelNotification=AR={}))});var WR=_(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.CallHierarchyOutgoingCallsRequest=rs.CallHierarchyIncomingCallsRequest=rs.CallHierarchyPrepareRequest=void 0;var Xo=gt(),LR;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=Xo.MessageDirection.clientToServer,t.type=new Xo.ProtocolRequestType(t.method)})(LR||(rs.CallHierarchyPrepareRequest=LR={}));var jR;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=Xo.MessageDirection.clientToServer,t.type=new Xo.ProtocolRequestType(t.method)})(jR||(rs.CallHierarchyIncomingCallsRequest=jR={}));var $R;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=Xo.MessageDirection.clientToServer,t.type=new Xo.ProtocolRequestType(t.method)})($R||(rs.CallHierarchyOutgoingCallsRequest=$R={}))});var VR=_(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.SemanticTokensRefreshRequest=Lr.SemanticTokensRangeRequest=Lr.SemanticTokensDeltaRequest=Lr.SemanticTokensRequest=Lr.SemanticTokensRegistrationType=Lr.TokenFormat=void 0;var Mi=gt(),HR;(function(t){t.Relative="relative"})(HR||(Lr.TokenFormat=HR={}));var Eu;(function(t){t.method="textDocument/semanticTokens",t.type=new Mi.RegistrationType(t.method)})(Eu||(Lr.SemanticTokensRegistrationType=Eu={}));var UR;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolRequestType(t.method),t.registrationMethod=Eu.method})(UR||(Lr.SemanticTokensRequest=UR={}));var zR;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolRequestType(t.method),t.registrationMethod=Eu.method})(zR||(Lr.SemanticTokensDeltaRequest=zR={}));var KR;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolRequestType(t.method),t.registrationMethod=Eu.method})(KR||(Lr.SemanticTokensRangeRequest=KR={}));var BR;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Mi.MessageDirection.serverToClient,t.type=new Mi.ProtocolRequestType0(t.method)})(BR||(Lr.SemanticTokensRefreshRequest=BR={}))});var XR=_(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.ShowDocumentRequest=void 0;var GR=gt(),YR;(function(t){t.method="window/showDocument",t.messageDirection=GR.MessageDirection.serverToClient,t.type=new GR.ProtocolRequestType(t.method)})(YR||(Gl.ShowDocumentRequest=YR={}))});var ZR=_(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.LinkedEditingRangeRequest=void 0;var JR=gt(),QR;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=JR.MessageDirection.clientToServer,t.type=new JR.ProtocolRequestType(t.method)})(QR||(Yl.LinkedEditingRangeRequest=QR={}))});var aC=_(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.WillDeleteFilesRequest=or.DidDeleteFilesNotification=or.DidRenameFilesNotification=or.WillRenameFilesRequest=or.DidCreateFilesNotification=or.WillCreateFilesRequest=or.FileOperationPatternKind=void 0;var pn=gt(),eC;(function(t){t.file="file",t.folder="folder"})(eC||(or.FileOperationPatternKind=eC={}));var tC;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolRequestType(t.method)})(tC||(or.WillCreateFilesRequest=tC={}));var rC;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolNotificationType(t.method)})(rC||(or.DidCreateFilesNotification=rC={}));var nC;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolRequestType(t.method)})(nC||(or.WillRenameFilesRequest=nC={}));var iC;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolNotificationType(t.method)})(iC||(or.DidRenameFilesNotification=iC={}));var sC;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolNotificationType(t.method)})(sC||(or.DidDeleteFilesNotification=sC={}));var oC;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolRequestType(t.method)})(oC||(or.WillDeleteFilesRequest=oC={}))});var fC=_(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.MonikerRequest=ns.MonikerKind=ns.UniquenessLevel=void 0;var uC=gt(),cC;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(cC||(ns.UniquenessLevel=cC={}));var lC;(function(t){t.$import="import",t.$export="export",t.local="local"})(lC||(ns.MonikerKind=lC={}));var dC;(function(t){t.method="textDocument/moniker",t.messageDirection=uC.MessageDirection.clientToServer,t.type=new uC.ProtocolRequestType(t.method)})(dC||(ns.MonikerRequest=dC={}))});var mC=_(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.TypeHierarchySubtypesRequest=is.TypeHierarchySupertypesRequest=is.TypeHierarchyPrepareRequest=void 0;var Jo=gt(),hC;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Jo.MessageDirection.clientToServer,t.type=new Jo.ProtocolRequestType(t.method)})(hC||(is.TypeHierarchyPrepareRequest=hC={}));var gC;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Jo.MessageDirection.clientToServer,t.type=new Jo.ProtocolRequestType(t.method)})(gC||(is.TypeHierarchySupertypesRequest=gC={}));var pC;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Jo.MessageDirection.clientToServer,t.type=new Jo.ProtocolRequestType(t.method)})(pC||(is.TypeHierarchySubtypesRequest=pC={}))});var _C=_(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.InlineValueRefreshRequest=Qo.InlineValueRequest=void 0;var Xl=gt(),yC;(function(t){t.method="textDocument/inlineValue",t.messageDirection=Xl.MessageDirection.clientToServer,t.type=new Xl.ProtocolRequestType(t.method)})(yC||(Qo.InlineValueRequest=yC={}));var vC;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=Xl.MessageDirection.serverToClient,t.type=new Xl.ProtocolRequestType0(t.method)})(vC||(Qo.InlineValueRefreshRequest=vC={}))});var RC=_(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.InlayHintRefreshRequest=ss.InlayHintResolveRequest=ss.InlayHintRequest=void 0;var Zo=gt(),bC;(function(t){t.method="textDocument/inlayHint",t.messageDirection=Zo.MessageDirection.clientToServer,t.type=new Zo.ProtocolRequestType(t.method)})(bC||(ss.InlayHintRequest=bC={}));var wC;(function(t){t.method="inlayHint/resolve",t.messageDirection=Zo.MessageDirection.clientToServer,t.type=new Zo.ProtocolRequestType(t.method)})(wC||(ss.InlayHintResolveRequest=wC={}));var SC;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=Zo.MessageDirection.serverToClient,t.type=new Zo.ProtocolRequestType0(t.method)})(SC||(ss.InlayHintRefreshRequest=SC={}))});var OC=_(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.DiagnosticRefreshRequest=mn.WorkspaceDiagnosticRequest=mn.DocumentDiagnosticRequest=mn.DocumentDiagnosticReportKind=mn.DiagnosticServerCancellationData=void 0;var qC=Xs(),DL=Ll(),ea=gt(),CC;(function(t){function e(r){let n=r;return n&&DL.boolean(n.retriggerRequest)}t.is=e})(CC||(mn.DiagnosticServerCancellationData=CC={}));var DC;(function(t){t.Full="full",t.Unchanged="unchanged"})(DC||(mn.DocumentDiagnosticReportKind=DC={}));var EC;(function(t){t.method="textDocument/diagnostic",t.messageDirection=ea.MessageDirection.clientToServer,t.type=new ea.ProtocolRequestType(t.method),t.partialResult=new qC.ProgressType})(EC||(mn.DocumentDiagnosticRequest=EC={}));var TC;(function(t){t.method="workspace/diagnostic",t.messageDirection=ea.MessageDirection.clientToServer,t.type=new ea.ProtocolRequestType(t.method),t.partialResult=new qC.ProgressType})(TC||(mn.WorkspaceDiagnosticRequest=TC={}));var PC;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=ea.MessageDirection.serverToClient,t.type=new ea.ProtocolRequestType0(t.method)})(PC||(mn.DiagnosticRefreshRequest=PC={}))});var NC=_(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.DidCloseNotebookDocumentNotification=Et.DidSaveNotebookDocumentNotification=Et.DidChangeNotebookDocumentNotification=Et.NotebookCellArrayChange=Et.DidOpenNotebookDocumentNotification=Et.NotebookDocumentSyncRegistrationType=Et.NotebookDocument=Et.NotebookCell=Et.ExecutionSummary=Et.NotebookCellKind=void 0;var Tu=ai(),jn=Ll(),ui=gt(),Cm;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}t.is=e})(Cm||(Et.NotebookCellKind=Cm={}));var Dm;(function(t){function e(i,s){let o={executionOrder:i};return(s===!0||s===!1)&&(o.success=s),o}t.create=e;function r(i){let s=i;return jn.objectLiteral(s)&&Tu.uinteger.is(s.executionOrder)&&(s.success===void 0||jn.boolean(s.success))}t.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}t.equals=n})(Dm||(Et.ExecutionSummary=Dm={}));var Jl;(function(t){function e(s,o){return{kind:s,document:o}}t.create=e;function r(s){let o=s;return jn.objectLiteral(o)&&Cm.is(o.kind)&&Tu.DocumentUri.is(o.document)&&(o.metadata===void 0||jn.objectLiteral(o.metadata))}t.is=r;function n(s,o){let a=new Set;return s.document!==o.document&&a.add("document"),s.kind!==o.kind&&a.add("kind"),s.executionSummary!==o.executionSummary&&a.add("executionSummary"),(s.metadata!==void 0||o.metadata!==void 0)&&!i(s.metadata,o.metadata)&&a.add("metadata"),(s.executionSummary!==void 0||o.executionSummary!==void 0)&&!Dm.equals(s.executionSummary,o.executionSummary)&&a.add("executionSummary"),a}t.diff=n;function i(s,o){if(s===o)return!0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object")return!1;let a=Array.isArray(s),u=Array.isArray(o);if(a!==u)return!1;if(a&&u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++)if(!i(s[c],o[c]))return!1}if(jn.objectLiteral(s)&&jn.objectLiteral(o)){let c=Object.keys(s),l=Object.keys(o);if(c.length!==l.length||(c.sort(),l.sort(),!i(c,l)))return!1;for(let f=0;f<c.length;f++){let d=c[f];if(!i(s[d],o[d]))return!1}}return!0}})(Jl||(Et.NotebookCell=Jl={}));var xC;(function(t){function e(n,i,s,o){return{uri:n,notebookType:i,version:s,cells:o}}t.create=e;function r(n){let i=n;return jn.objectLiteral(i)&&jn.string(i.uri)&&Tu.integer.is(i.version)&&jn.typedArray(i.cells,Jl.is)}t.is=r})(xC||(Et.NotebookDocument=xC={}));var ta;(function(t){t.method="notebookDocument/sync",t.messageDirection=ui.MessageDirection.clientToServer,t.type=new ui.RegistrationType(t.method)})(ta||(Et.NotebookDocumentSyncRegistrationType=ta={}));var MC;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=ui.MessageDirection.clientToServer,t.type=new ui.ProtocolNotificationType(t.method),t.registrationMethod=ta.method})(MC||(Et.DidOpenNotebookDocumentNotification=MC={}));var FC;(function(t){function e(n){let i=n;return jn.objectLiteral(i)&&Tu.uinteger.is(i.start)&&Tu.uinteger.is(i.deleteCount)&&(i.cells===void 0||jn.typedArray(i.cells,Jl.is))}t.is=e;function r(n,i,s){let o={start:n,deleteCount:i};return s!==void 0&&(o.cells=s),o}t.create=r})(FC||(Et.NotebookCellArrayChange=FC={}));var IC;(function(t){t.method="notebookDocument/didChange",t.messageDirection=ui.MessageDirection.clientToServer,t.type=new ui.ProtocolNotificationType(t.method),t.registrationMethod=ta.method})(IC||(Et.DidChangeNotebookDocumentNotification=IC={}));var kC;(function(t){t.method="notebookDocument/didSave",t.messageDirection=ui.MessageDirection.clientToServer,t.type=new ui.ProtocolNotificationType(t.method),t.registrationMethod=ta.method})(kC||(Et.DidSaveNotebookDocumentNotification=kC={}));var AC;(function(t){t.method="notebookDocument/didClose",t.messageDirection=ui.MessageDirection.clientToServer,t.type=new ui.ProtocolNotificationType(t.method),t.registrationMethod=ta.method})(AC||(Et.DidCloseNotebookDocumentNotification=AC={}))});var $C=_(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.InlineCompletionRequest=void 0;var LC=gt(),jC;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=LC.MessageDirection.clientToServer,t.type=new LC.ProtocolRequestType(t.method)})(jC||(Ql.InlineCompletionRequest=jC={}))});var ZD=_(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.WorkspaceSymbolRequest=E.CodeActionResolveRequest=E.CodeActionRequest=E.DocumentSymbolRequest=E.DocumentHighlightRequest=E.ReferencesRequest=E.DefinitionRequest=E.SignatureHelpRequest=E.SignatureHelpTriggerKind=E.HoverRequest=E.CompletionResolveRequest=E.CompletionRequest=E.CompletionTriggerKind=E.PublishDiagnosticsNotification=E.WatchKind=E.RelativePattern=E.FileChangeType=E.DidChangeWatchedFilesNotification=E.WillSaveTextDocumentWaitUntilRequest=E.WillSaveTextDocumentNotification=E.TextDocumentSaveReason=E.DidSaveTextDocumentNotification=E.DidCloseTextDocumentNotification=E.DidChangeTextDocumentNotification=E.TextDocumentContentChangeEvent=E.DidOpenTextDocumentNotification=E.TextDocumentSyncKind=E.TelemetryEventNotification=E.LogMessageNotification=E.ShowMessageRequest=E.ShowMessageNotification=E.MessageType=E.DidChangeConfigurationNotification=E.ExitNotification=E.ShutdownRequest=E.InitializedNotification=E.InitializeErrorCodes=E.InitializeRequest=E.WorkDoneProgressOptions=E.TextDocumentRegistrationOptions=E.StaticRegistrationOptions=E.PositionEncodingKind=E.FailureHandlingKind=E.ResourceOperationKind=E.UnregistrationRequest=E.RegistrationRequest=E.DocumentSelector=E.NotebookCellTextDocumentFilter=E.NotebookDocumentFilter=E.TextDocumentFilter=void 0;E.MonikerRequest=E.MonikerKind=E.UniquenessLevel=E.WillDeleteFilesRequest=E.DidDeleteFilesNotification=E.WillRenameFilesRequest=E.DidRenameFilesNotification=E.WillCreateFilesRequest=E.DidCreateFilesNotification=E.FileOperationPatternKind=E.LinkedEditingRangeRequest=E.ShowDocumentRequest=E.SemanticTokensRegistrationType=E.SemanticTokensRefreshRequest=E.SemanticTokensRangeRequest=E.SemanticTokensDeltaRequest=E.SemanticTokensRequest=E.TokenFormat=E.CallHierarchyPrepareRequest=E.CallHierarchyOutgoingCallsRequest=E.CallHierarchyIncomingCallsRequest=E.WorkDoneProgressCancelNotification=E.WorkDoneProgressCreateRequest=E.WorkDoneProgress=E.SelectionRangeRequest=E.DeclarationRequest=E.FoldingRangeRefreshRequest=E.FoldingRangeRequest=E.ColorPresentationRequest=E.DocumentColorRequest=E.ConfigurationRequest=E.DidChangeWorkspaceFoldersNotification=E.WorkspaceFoldersRequest=E.TypeDefinitionRequest=E.ImplementationRequest=E.ApplyWorkspaceEditRequest=E.ExecuteCommandRequest=E.PrepareRenameRequest=E.RenameRequest=E.PrepareSupportDefaultBehavior=E.DocumentOnTypeFormattingRequest=E.DocumentRangesFormattingRequest=E.DocumentRangeFormattingRequest=E.DocumentFormattingRequest=E.DocumentLinkResolveRequest=E.DocumentLinkRequest=E.CodeLensRefreshRequest=E.CodeLensResolveRequest=E.CodeLensRequest=E.WorkspaceSymbolResolveRequest=void 0;E.InlineCompletionRequest=E.DidCloseNotebookDocumentNotification=E.DidSaveNotebookDocumentNotification=E.DidChangeNotebookDocumentNotification=E.NotebookCellArrayChange=E.DidOpenNotebookDocumentNotification=E.NotebookDocumentSyncRegistrationType=E.NotebookDocument=E.NotebookCell=E.ExecutionSummary=E.NotebookCellKind=E.DiagnosticRefreshRequest=E.WorkspaceDiagnosticRequest=E.DocumentDiagnosticRequest=E.DocumentDiagnosticReportKind=E.DiagnosticServerCancellationData=E.InlayHintRefreshRequest=E.InlayHintResolveRequest=E.InlayHintRequest=E.InlineValueRefreshRequest=E.InlineValueRequest=E.TypeHierarchySupertypesRequest=E.TypeHierarchySubtypesRequest=E.TypeHierarchyPrepareRequest=void 0;var G=gt(),WC=ai(),Ut=Ll(),EL=fR();Object.defineProperty(E,"ImplementationRequest",{enumerable:!0,get:function(){return EL.ImplementationRequest}});var TL=pR();Object.defineProperty(E,"TypeDefinitionRequest",{enumerable:!0,get:function(){return TL.TypeDefinitionRequest}});var YD=vR();Object.defineProperty(E,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return YD.WorkspaceFoldersRequest}});Object.defineProperty(E,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return YD.DidChangeWorkspaceFoldersNotification}});var PL=wR();Object.defineProperty(E,"ConfigurationRequest",{enumerable:!0,get:function(){return PL.ConfigurationRequest}});var XD=CR();Object.defineProperty(E,"DocumentColorRequest",{enumerable:!0,get:function(){return XD.DocumentColorRequest}});Object.defineProperty(E,"ColorPresentationRequest",{enumerable:!0,get:function(){return XD.ColorPresentationRequest}});var JD=TR();Object.defineProperty(E,"FoldingRangeRequest",{enumerable:!0,get:function(){return JD.FoldingRangeRequest}});Object.defineProperty(E,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return JD.FoldingRangeRefreshRequest}});var qL=OR();Object.defineProperty(E,"DeclarationRequest",{enumerable:!0,get:function(){return qL.DeclarationRequest}});var OL=FR();Object.defineProperty(E,"SelectionRangeRequest",{enumerable:!0,get:function(){return OL.SelectionRangeRequest}});var Om=NR();Object.defineProperty(E,"WorkDoneProgress",{enumerable:!0,get:function(){return Om.WorkDoneProgress}});Object.defineProperty(E,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Om.WorkDoneProgressCreateRequest}});Object.defineProperty(E,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Om.WorkDoneProgressCancelNotification}});var xm=WR();Object.defineProperty(E,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return xm.CallHierarchyIncomingCallsRequest}});Object.defineProperty(E,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return xm.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(E,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return xm.CallHierarchyPrepareRequest}});var ra=VR();Object.defineProperty(E,"TokenFormat",{enumerable:!0,get:function(){return ra.TokenFormat}});Object.defineProperty(E,"SemanticTokensRequest",{enumerable:!0,get:function(){return ra.SemanticTokensRequest}});Object.defineProperty(E,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return ra.SemanticTokensDeltaRequest}});Object.defineProperty(E,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return ra.SemanticTokensRangeRequest}});Object.defineProperty(E,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return ra.SemanticTokensRefreshRequest}});Object.defineProperty(E,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return ra.SemanticTokensRegistrationType}});var xL=XR();Object.defineProperty(E,"ShowDocumentRequest",{enumerable:!0,get:function(){return xL.ShowDocumentRequest}});var ML=ZR();Object.defineProperty(E,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return ML.LinkedEditingRangeRequest}});var Js=aC();Object.defineProperty(E,"FileOperationPatternKind",{enumerable:!0,get:function(){return Js.FileOperationPatternKind}});Object.defineProperty(E,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Js.DidCreateFilesNotification}});Object.defineProperty(E,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Js.WillCreateFilesRequest}});Object.defineProperty(E,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Js.DidRenameFilesNotification}});Object.defineProperty(E,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Js.WillRenameFilesRequest}});Object.defineProperty(E,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Js.DidDeleteFilesNotification}});Object.defineProperty(E,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Js.WillDeleteFilesRequest}});var Mm=fC();Object.defineProperty(E,"UniquenessLevel",{enumerable:!0,get:function(){return Mm.UniquenessLevel}});Object.defineProperty(E,"MonikerKind",{enumerable:!0,get:function(){return Mm.MonikerKind}});Object.defineProperty(E,"MonikerRequest",{enumerable:!0,get:function(){return Mm.MonikerRequest}});var Fm=mC();Object.defineProperty(E,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Fm.TypeHierarchyPrepareRequest}});Object.defineProperty(E,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Fm.TypeHierarchySubtypesRequest}});Object.defineProperty(E,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Fm.TypeHierarchySupertypesRequest}});var QD=_C();Object.defineProperty(E,"InlineValueRequest",{enumerable:!0,get:function(){return QD.InlineValueRequest}});Object.defineProperty(E,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return QD.InlineValueRefreshRequest}});var Im=RC();Object.defineProperty(E,"InlayHintRequest",{enumerable:!0,get:function(){return Im.InlayHintRequest}});Object.defineProperty(E,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Im.InlayHintResolveRequest}});Object.defineProperty(E,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Im.InlayHintRefreshRequest}});var Pu=OC();Object.defineProperty(E,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Pu.DiagnosticServerCancellationData}});Object.defineProperty(E,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Pu.DocumentDiagnosticReportKind}});Object.defineProperty(E,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Pu.DocumentDiagnosticRequest}});Object.defineProperty(E,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Pu.WorkspaceDiagnosticRequest}});Object.defineProperty(E,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Pu.DiagnosticRefreshRequest}});var ci=NC();Object.defineProperty(E,"NotebookCellKind",{enumerable:!0,get:function(){return ci.NotebookCellKind}});Object.defineProperty(E,"ExecutionSummary",{enumerable:!0,get:function(){return ci.ExecutionSummary}});Object.defineProperty(E,"NotebookCell",{enumerable:!0,get:function(){return ci.NotebookCell}});Object.defineProperty(E,"NotebookDocument",{enumerable:!0,get:function(){return ci.NotebookDocument}});Object.defineProperty(E,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return ci.NotebookDocumentSyncRegistrationType}});Object.defineProperty(E,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return ci.DidOpenNotebookDocumentNotification}});Object.defineProperty(E,"NotebookCellArrayChange",{enumerable:!0,get:function(){return ci.NotebookCellArrayChange}});Object.defineProperty(E,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return ci.DidChangeNotebookDocumentNotification}});Object.defineProperty(E,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return ci.DidSaveNotebookDocumentNotification}});Object.defineProperty(E,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return ci.DidCloseNotebookDocumentNotification}});var FL=$C();Object.defineProperty(E,"InlineCompletionRequest",{enumerable:!0,get:function(){return FL.InlineCompletionRequest}});var Em;(function(t){function e(r){let n=r;return Ut.string(n)||Ut.string(n.language)||Ut.string(n.scheme)||Ut.string(n.pattern)}t.is=e})(Em||(E.TextDocumentFilter=Em={}));var Tm;(function(t){function e(r){let n=r;return Ut.objectLiteral(n)&&(Ut.string(n.notebookType)||Ut.string(n.scheme)||Ut.string(n.pattern))}t.is=e})(Tm||(E.NotebookDocumentFilter=Tm={}));var Pm;(function(t){function e(r){let n=r;return Ut.objectLiteral(n)&&(Ut.string(n.notebook)||Tm.is(n.notebook))&&(n.language===void 0||Ut.string(n.language))}t.is=e})(Pm||(E.NotebookCellTextDocumentFilter=Pm={}));var qm;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Ut.string(n)&&!Em.is(n)&&!Pm.is(n))return!1;return!0}t.is=e})(qm||(E.DocumentSelector=qm={}));var HC;(function(t){t.method="client/registerCapability",t.messageDirection=G.MessageDirection.serverToClient,t.type=new G.ProtocolRequestType(t.method)})(HC||(E.RegistrationRequest=HC={}));var UC;(function(t){t.method="client/unregisterCapability",t.messageDirection=G.MessageDirection.serverToClient,t.type=new G.ProtocolRequestType(t.method)})(UC||(E.UnregistrationRequest=UC={}));var zC;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(zC||(E.ResourceOperationKind=zC={}));var KC;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(KC||(E.FailureHandlingKind=KC={}));var BC;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(BC||(E.PositionEncodingKind=BC={}));var VC;(function(t){function e(r){let n=r;return n&&Ut.string(n.id)&&n.id.length>0}t.hasId=e})(VC||(E.StaticRegistrationOptions=VC={}));var GC;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||qm.is(n.documentSelector))}t.is=e})(GC||(E.TextDocumentRegistrationOptions=GC={}));var YC;(function(t){function e(n){let i=n;return Ut.objectLiteral(i)&&(i.workDoneProgress===void 0||Ut.boolean(i.workDoneProgress))}t.is=e;function r(n){let i=n;return i&&Ut.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=r})(YC||(E.WorkDoneProgressOptions=YC={}));var XC;(function(t){t.method="initialize",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(XC||(E.InitializeRequest=XC={}));var JC;(function(t){t.unknownProtocolVersion=1})(JC||(E.InitializeErrorCodes=JC={}));var QC;(function(t){t.method="initialized",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolNotificationType(t.method)})(QC||(E.InitializedNotification=QC={}));var ZC;(function(t){t.method="shutdown",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType0(t.method)})(ZC||(E.ShutdownRequest=ZC={}));var eD;(function(t){t.method="exit",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolNotificationType0(t.method)})(eD||(E.ExitNotification=eD={}));var tD;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolNotificationType(t.method)})(tD||(E.DidChangeConfigurationNotification=tD={}));var rD;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(rD||(E.MessageType=rD={}));var nD;(function(t){t.method="window/showMessage",t.messageDirection=G.MessageDirection.serverToClient,t.type=new G.ProtocolNotificationType(t.method)})(nD||(E.ShowMessageNotification=nD={}));var iD;(function(t){t.method="window/showMessageRequest",t.messageDirection=G.MessageDirection.serverToClient,t.type=new G.ProtocolRequestType(t.method)})(iD||(E.ShowMessageRequest=iD={}));var sD;(function(t){t.method="window/logMessage",t.messageDirection=G.MessageDirection.serverToClient,t.type=new G.ProtocolNotificationType(t.method)})(sD||(E.LogMessageNotification=sD={}));var oD;(function(t){t.method="telemetry/event",t.messageDirection=G.MessageDirection.serverToClient,t.type=new G.ProtocolNotificationType(t.method)})(oD||(E.TelemetryEventNotification=oD={}));var aD;(function(t){t.None=0,t.Full=1,t.Incremental=2})(aD||(E.TextDocumentSyncKind=aD={}));var uD;(function(t){t.method="textDocument/didOpen",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolNotificationType(t.method)})(uD||(E.DidOpenTextDocumentNotification=uD={}));var cD;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=r})(cD||(E.TextDocumentContentChangeEvent=cD={}));var lD;(function(t){t.method="textDocument/didChange",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolNotificationType(t.method)})(lD||(E.DidChangeTextDocumentNotification=lD={}));var dD;(function(t){t.method="textDocument/didClose",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolNotificationType(t.method)})(dD||(E.DidCloseTextDocumentNotification=dD={}));var fD;(function(t){t.method="textDocument/didSave",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolNotificationType(t.method)})(fD||(E.DidSaveTextDocumentNotification=fD={}));var hD;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(hD||(E.TextDocumentSaveReason=hD={}));var gD;(function(t){t.method="textDocument/willSave",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolNotificationType(t.method)})(gD||(E.WillSaveTextDocumentNotification=gD={}));var pD;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(pD||(E.WillSaveTextDocumentWaitUntilRequest=pD={}));var mD;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolNotificationType(t.method)})(mD||(E.DidChangeWatchedFilesNotification=mD={}));var yD;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(yD||(E.FileChangeType=yD={}));var vD;(function(t){function e(r){let n=r;return Ut.objectLiteral(n)&&(WC.URI.is(n.baseUri)||WC.WorkspaceFolder.is(n.baseUri))&&Ut.string(n.pattern)}t.is=e})(vD||(E.RelativePattern=vD={}));var _D;(function(t){t.Create=1,t.Change=2,t.Delete=4})(_D||(E.WatchKind=_D={}));var bD;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=G.MessageDirection.serverToClient,t.type=new G.ProtocolNotificationType(t.method)})(bD||(E.PublishDiagnosticsNotification=bD={}));var wD;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(wD||(E.CompletionTriggerKind=wD={}));var SD;(function(t){t.method="textDocument/completion",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(SD||(E.CompletionRequest=SD={}));var RD;(function(t){t.method="completionItem/resolve",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(RD||(E.CompletionResolveRequest=RD={}));var CD;(function(t){t.method="textDocument/hover",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(CD||(E.HoverRequest=CD={}));var DD;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(DD||(E.SignatureHelpTriggerKind=DD={}));var ED;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(ED||(E.SignatureHelpRequest=ED={}));var TD;(function(t){t.method="textDocument/definition",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(TD||(E.DefinitionRequest=TD={}));var PD;(function(t){t.method="textDocument/references",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(PD||(E.ReferencesRequest=PD={}));var qD;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(qD||(E.DocumentHighlightRequest=qD={}));var OD;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(OD||(E.DocumentSymbolRequest=OD={}));var xD;(function(t){t.method="textDocument/codeAction",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(xD||(E.CodeActionRequest=xD={}));var MD;(function(t){t.method="codeAction/resolve",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(MD||(E.CodeActionResolveRequest=MD={}));var FD;(function(t){t.method="workspace/symbol",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(FD||(E.WorkspaceSymbolRequest=FD={}));var ID;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(ID||(E.WorkspaceSymbolResolveRequest=ID={}));var kD;(function(t){t.method="textDocument/codeLens",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(kD||(E.CodeLensRequest=kD={}));var AD;(function(t){t.method="codeLens/resolve",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(AD||(E.CodeLensResolveRequest=AD={}));var ND;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=G.MessageDirection.serverToClient,t.type=new G.ProtocolRequestType0(t.method)})(ND||(E.CodeLensRefreshRequest=ND={}));var LD;(function(t){t.method="textDocument/documentLink",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(LD||(E.DocumentLinkRequest=LD={}));var jD;(function(t){t.method="documentLink/resolve",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(jD||(E.DocumentLinkResolveRequest=jD={}));var $D;(function(t){t.method="textDocument/formatting",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})($D||(E.DocumentFormattingRequest=$D={}));var WD;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(WD||(E.DocumentRangeFormattingRequest=WD={}));var HD;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(HD||(E.DocumentRangesFormattingRequest=HD={}));var UD;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(UD||(E.DocumentOnTypeFormattingRequest=UD={}));var zD;(function(t){t.Identifier=1})(zD||(E.PrepareSupportDefaultBehavior=zD={}));var KD;(function(t){t.method="textDocument/rename",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(KD||(E.RenameRequest=KD={}));var BD;(function(t){t.method="textDocument/prepareRename",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(BD||(E.PrepareRenameRequest=BD={}));var VD;(function(t){t.method="workspace/executeCommand",t.messageDirection=G.MessageDirection.clientToServer,t.type=new G.ProtocolRequestType(t.method)})(VD||(E.ExecuteCommandRequest=VD={}));var GD;(function(t){t.method="workspace/applyEdit",t.messageDirection=G.MessageDirection.serverToClient,t.type=new G.ProtocolRequestType("workspace/applyEdit")})(GD||(E.ApplyWorkspaceEditRequest=GD={}))});var tE=_(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.createProtocolConnection=void 0;var eE=Xs();function IL(t,e,r,n){return eE.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,eE.createMessageConnection)(t,e,r,n)}Zl.createProtocolConnection=IL});var nE=_(jr=>{"use strict";var kL=jr&&jr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ed=jr&&jr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&kL(e,t,r)};Object.defineProperty(jr,"__esModule",{value:!0});jr.LSPErrorCodes=jr.createProtocolConnection=void 0;ed(Xs(),jr);ed(ai(),jr);ed(gt(),jr);ed(ZD(),jr);var AL=tE();Object.defineProperty(jr,"createProtocolConnection",{enumerable:!0,get:function(){return AL.createProtocolConnection}});var rE;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(rE||(jr.LSPErrorCodes=rE={}))});var re=_(li=>{"use strict";var NL=li&&li.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iE=li&&li.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&NL(e,t,r)};Object.defineProperty(li,"__esModule",{value:!0});li.createProtocolConnection=void 0;var LL=vm();iE(vm(),li);iE(nE(),li);function jL(t,e,r,n){return(0,LL.createMessageConnection)(t,e,r,n)}li.createProtocolConnection=jL});var td=_(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.forEach=ar.mapAsync=ar.map=ar.clearTestMode=ar.setTestMode=ar.Semaphore=ar.Delayer=void 0;var Ou=re(),km=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,r=this.defaultDelay){return this.task=e,r>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(r>=0||this.timeout===void 0)&&(this.timeout=(0,Ou.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},r>=0?r:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};ar.Delayer=km;var Am=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ou.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};ar.Semaphore=Am;var Nm=!1;function $L(){Nm=!0}ar.setTestMode=$L;function WL(){Nm=!1}ar.clearTestMode=WL;var sE=15,qu=class{constructor(e=sE){this.yieldAfter=Nm===!0?Math.max(e,2):Math.max(e,sE),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,r=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||r<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function HL(t,e,r,n){if(t.length===0)return[];let i=new Array(t.length),s=new qu(n?.yieldAfter);function o(u){s.start();for(let c=u;c<t.length;c++)if(i[c]=e(t[c]),s.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let a=o(0);for(;a!==-1&&!(r!==void 0&&r.isCancellationRequested);)a=await new Promise(u=>{(0,Ou.RAL)().timer.setImmediate(()=>{u(o(a))})});return i}ar.map=HL;async function UL(t,e,r,n){if(t.length===0)return[];let i=new Array(t.length),s=new qu(n?.yieldAfter);async function o(u){s.start();for(let c=u;c<t.length;c++)if(i[c]=await e(t[c],r),s.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let a=await o(0);for(;a!==-1&&!(r!==void 0&&r.isCancellationRequested);)a=await new Promise(u=>{(0,Ou.RAL)().timer.setImmediate(()=>{u(o(a))})});return i}ar.mapAsync=UL;async function zL(t,e,r,n){if(t.length===0)return;let i=new qu(n?.yieldAfter);function s(a){i.start();for(let u=a;u<t.length;u++)if(e(t[u]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let o=s(0);for(;o!==-1&&!(r!==void 0&&r.isCancellationRequested);)o=await new Promise(a=>{(0,Ou.RAL)().timer.setImmediate(()=>{a(s(o))})})}ar.forEach=zL});var $m=_(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});var KL=require("vscode"),Lm=class extends KL.CompletionItem{constructor(e){super(e)}};jm.default=Lm});var Um=_(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});var BL=require("vscode"),Wm=class extends BL.CodeLens{constructor(e){super(e)}};Hm.default=Wm});var Bm=_(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});var VL=require("vscode"),zm=class extends VL.DocumentLink{constructor(e,r){super(e,r)}};Km.default=zm});var Ym=_(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});var GL=require("vscode"),Vm=class extends GL.CodeAction{constructor(e,r){super(e),this.data=r}};Gm.default=Vm});var Qm=_(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.ProtocolDiagnostic=na.DiagnosticCode=void 0;var YL=require("vscode"),Xm=gn(),oE;(function(t){function e(r){let n=r;return n!=null&&(Xm.number(n.value)||Xm.string(n.value))&&Xm.string(n.target)}t.is=e})(oE||(na.DiagnosticCode=oE={}));var Jm=class extends YL.Diagnostic{constructor(e,r,n,i){super(e,r,n),this.data=i,this.hasDiagnosticCode=!1}};na.ProtocolDiagnostic=Jm});var ty=_(ey=>{"use strict";Object.defineProperty(ey,"__esModule",{value:!0});var XL=require("vscode"),Zm=class extends XL.CallHierarchyItem{constructor(e,r,n,i,s,o,a){super(e,r,n,i,s,o),a!==void 0&&(this.data=a)}};ey.default=Zm});var iy=_(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});var JL=require("vscode"),ry=class extends JL.TypeHierarchyItem{constructor(e,r,n,i,s,o,a){super(e,r,n,i,s,o),a!==void 0&&(this.data=a)}};ny.default=ry});var ay=_(oy=>{"use strict";Object.defineProperty(oy,"__esModule",{value:!0});var rd=require("vscode"),sy=class extends rd.SymbolInformation{constructor(e,r,n,i,s){let o=!(i instanceof rd.Uri);super(e,r,n,o?i:new rd.Location(i,new rd.Range(0,0,0,0))),this.hasRange=o,s!==void 0&&(this.data=s)}};oy.default=sy});var ly=_(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0});var QL=require("vscode"),uy=class extends QL.InlayHint{constructor(e,r,n){super(e,r,n)}};cy.default=uy});var lE=_(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.createConverter=void 0;var Ft=require("vscode"),_e=re(),Qs=gn(),aE=td(),ZL=$m(),ej=Um(),tj=Bm(),uE=Ym(),cE=Qm(),rj=ty(),nj=iy(),ij=ay(),sj=ly(),dy;(function(t){function e(r){let n=r;return n&&!!n.inserting&&!!n.replacing}t.is=e})(dy||(dy={}));function oj(t){let r=t||(y=>y.toString());function n(y){return r(y)}function i(y){return{uri:r(y.uri)}}function s(y){return{uri:r(y.uri),languageId:y.languageId,version:y.version,text:y.getText()}}function o(y){return{uri:r(y.uri),version:y.version}}function a(y){return{textDocument:s(y)}}function u(y){let k=y;return!!k.document&&!!k.contentChanges}function c(y){let k=y;return!!k.uri&&!!k.version}function l(y,k,se){if(c(y))return{textDocument:{uri:r(y.uri),version:y.version},contentChanges:[{text:y.getText()}]};if(u(y)){let ze=k,M=se;return{textDocument:{uri:r(ze),version:M},contentChanges:y.contentChanges.map(P=>{let q=P.range;return{range:{start:{line:q.start.line,character:q.start.character},end:{line:q.end.line,character:q.end.character}},rangeLength:P.rangeLength,text:P.text}})}}else throw Error("Unsupported text document change parameter")}function f(y){return{textDocument:i(y)}}function d(y,k=!1){let se={textDocument:i(y)};return k&&(se.text=y.getText()),se}function g(y){switch(y){case Ft.TextDocumentSaveReason.Manual:return _e.TextDocumentSaveReason.Manual;case Ft.TextDocumentSaveReason.AfterDelay:return _e.TextDocumentSaveReason.AfterDelay;case Ft.TextDocumentSaveReason.FocusOut:return _e.TextDocumentSaveReason.FocusOut}return _e.TextDocumentSaveReason.Manual}function p(y){return{textDocument:i(y.document),reason:g(y.reason)}}function b(y){return{files:y.files.map(k=>({uri:r(k)}))}}function C(y){return{files:y.files.map(k=>({oldUri:r(k.oldUri),newUri:r(k.newUri)}))}}function D(y){return{files:y.files.map(k=>({uri:r(k)}))}}function w(y){return{files:y.files.map(k=>({uri:r(k)}))}}function S(y){return{files:y.files.map(k=>({oldUri:r(k.oldUri),newUri:r(k.newUri)}))}}function O(y){return{files:y.files.map(k=>({uri:r(k)}))}}function A(y,k){return{textDocument:i(y),position:he(k)}}function z(y){switch(y){case Ft.CompletionTriggerKind.TriggerCharacter:return _e.CompletionTriggerKind.TriggerCharacter;case Ft.CompletionTriggerKind.TriggerForIncompleteCompletions:return _e.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return _e.CompletionTriggerKind.Invoked}}function U(y,k,se){return{textDocument:i(y),position:he(k),context:{triggerKind:z(se.triggerKind),triggerCharacter:se.triggerCharacter}}}function K(y){switch(y){case Ft.SignatureHelpTriggerKind.Invoke:return _e.SignatureHelpTriggerKind.Invoked;case Ft.SignatureHelpTriggerKind.TriggerCharacter:return _e.SignatureHelpTriggerKind.TriggerCharacter;case Ft.SignatureHelpTriggerKind.ContentChange:return _e.SignatureHelpTriggerKind.ContentChange}}function ue(y){return{label:y.label}}function V(y){return y.map(ue)}function N(y){return{label:y.label,parameters:V(y.parameters)}}function Q(y){return y.map(N)}function J(y){return y===void 0?y:{signatures:Q(y.signatures),activeSignature:y.activeSignature,activeParameter:y.activeParameter}}function ye(y,k,se){return{textDocument:i(y),position:he(k),context:{isRetrigger:se.isRetrigger,triggerCharacter:se.triggerCharacter,triggerKind:K(se.triggerKind),activeSignatureHelp:J(se.activeSignatureHelp)}}}function he(y){return{line:y.line,character:y.character}}function F(y){return y==null?y:{line:y.line>_e.uinteger.MAX_VALUE?_e.uinteger.MAX_VALUE:y.line,character:y.character>_e.uinteger.MAX_VALUE?_e.uinteger.MAX_VALUE:y.character}}function X(y,k){return aE.map(y,F,k)}function ge(y){return y.map(F)}function le(y){return y==null?y:{start:F(y.start),end:F(y.end)}}function oe(y){return y.map(le)}function at(y){return y==null?y:_e.Location.create(n(y.uri),le(y.range))}function ct(y){switch(y){case Ft.DiagnosticSeverity.Error:return _e.DiagnosticSeverity.Error;case Ft.DiagnosticSeverity.Warning:return _e.DiagnosticSeverity.Warning;case Ft.DiagnosticSeverity.Information:return _e.DiagnosticSeverity.Information;case Ft.DiagnosticSeverity.Hint:return _e.DiagnosticSeverity.Hint}}function Tr(y){if(!y)return;let k=[];for(let se of y){let ze=hr(se);ze!==void 0&&k.push(ze)}return k.length>0?k:void 0}function hr(y){switch(y){case Ft.DiagnosticTag.Unnecessary:return _e.DiagnosticTag.Unnecessary;case Ft.DiagnosticTag.Deprecated:return _e.DiagnosticTag.Deprecated;default:return}}function Zr(y){return{message:y.message,location:at(y.location)}}function Pr(y){return y.map(Zr)}function ni(y){if(y!=null)return Qs.number(y)||Qs.string(y)?y:{value:y.value,target:n(y.target)}}function Rt(y){let k=_e.Diagnostic.create(le(y.range),y.message),se=y instanceof cE.ProtocolDiagnostic?y:void 0;se!==void 0&&se.data!==void 0&&(k.data=se.data);let ze=ni(y.code);return cE.DiagnosticCode.is(ze)?se!==void 0&&se.hasDiagnosticCode?k.code=ze:(k.code=ze.value,k.codeDescription={href:ze.target}):k.code=ze,Qs.number(y.severity)&&(k.severity=ct(y.severity)),Array.isArray(y.tags)&&(k.tags=Tr(y.tags)),y.relatedInformation&&(k.relatedInformation=Pr(y.relatedInformation)),y.source&&(k.source=y.source),k}function qr(y,k){return y==null?y:aE.map(y,Rt,k)}function en(y){return y==null?y:y.map(Rt)}function tn(y,k){switch(y){case"$string":return k;case _e.MarkupKind.PlainText:return{kind:y,value:k};case _e.MarkupKind.Markdown:return{kind:y,value:k.value};default:return`Unsupported Markup content received. Kind is: ${y}`}}function yt(y){switch(y){case Ft.CompletionItemTag.Deprecated:return _e.CompletionItemTag.Deprecated}}function Or(y){if(y===void 0)return y;let k=[];for(let se of y){let ze=yt(se);ze!==void 0&&k.push(ze)}return k}function nr(y,k){return k!==void 0?k:y+1}function xr(y,k=!1){let se,ze;Qs.string(y.label)?se=y.label:(se=y.label.label,k&&(y.label.detail!==void 0||y.label.description!==void 0)&&(ze={detail:y.label.detail,description:y.label.description}));let M={label:se};ze!==void 0&&(M.labelDetails=ze);let v=y instanceof ZL.default?y:void 0;y.detail&&(M.detail=y.detail),y.documentation&&(!v||v.documentationFormat==="$string"?M.documentation=y.documentation:M.documentation=tn(v.documentationFormat,y.documentation)),y.filterText&&(M.filterText=y.filterText),Mr(M,y),Qs.number(y.kind)&&(M.kind=nr(y.kind,v&&v.originalItemKind)),y.sortText&&(M.sortText=y.sortText),y.additionalTextEdits&&(M.additionalTextEdits=vt(y.additionalTextEdits)),y.commitCharacters&&(M.commitCharacters=y.commitCharacters.slice()),y.command&&(M.command=te(y.command)),(y.preselect===!0||y.preselect===!1)&&(M.preselect=y.preselect);let P=Or(y.tags);if(v){if(v.data!==void 0&&(M.data=v.data),v.deprecated===!0||v.deprecated===!1){if(v.deprecated===!0&&P!==void 0&&P.length>0){let q=P.indexOf(Ft.CompletionItemTag.Deprecated);q!==-1&&P.splice(q,1)}M.deprecated=v.deprecated}v.insertTextMode!==void 0&&(M.insertTextMode=v.insertTextMode)}return P!==void 0&&P.length>0&&(M.tags=P),M.insertTextMode===void 0&&y.keepWhitespace===!0&&(M.insertTextMode=_e.InsertTextMode.adjustIndentation),M}function Mr(y,k){let se=_e.InsertTextFormat.PlainText,ze,M;k.textEdit?(ze=k.textEdit.newText,M=k.textEdit.range):k.insertText instanceof Ft.SnippetString?(se=_e.InsertTextFormat.Snippet,ze=k.insertText.value):ze=k.insertText,k.range&&(M=k.range),y.insertTextFormat=se,k.fromEdit&&ze!==void 0&&M!==void 0?y.textEdit=At(ze,M):y.insertText=ze}function At(y,k){return dy.is(k)?_e.InsertReplaceEdit.create(y,le(k.inserting),le(k.replacing)):{newText:y,range:le(k)}}function Fr(y){return{range:le(y.range),newText:y.newText}}function vt(y){return y==null?y:y.map(Fr)}function Nt(y){return y<=Ft.SymbolKind.TypeParameter?y+1:_e.SymbolKind.Property}function Yt(y){return y}function rn(y){return y.map(Yt)}function Ir(y,k,se){return{textDocument:i(y),position:he(k),context:{includeDeclaration:se.includeDeclaration}}}async function ii(y,k){let se=_e.CodeAction.create(y.title);if(y instanceof uE.default&&y.data!==void 0&&(se.data=y.data),y.kind!==void 0&&(se.kind=T(y.kind)),y.diagnostics!==void 0&&(se.diagnostics=await qr(y.diagnostics,k)),y.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return y.command!==void 0&&(se.command=te(y.command)),y.isPreferred!==void 0&&(se.isPreferred=y.isPreferred),y.disabled!==void 0&&(se.disabled={reason:y.disabled.reason}),se}function qi(y){let k=_e.CodeAction.create(y.title);if(y instanceof uE.default&&y.data!==void 0&&(k.data=y.data),y.kind!==void 0&&(k.kind=T(y.kind)),y.diagnostics!==void 0&&(k.diagnostics=en(y.diagnostics)),y.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return y.command!==void 0&&(k.command=te(y.command)),y.isPreferred!==void 0&&(k.isPreferred=y.isPreferred),y.disabled!==void 0&&(k.disabled={reason:y.disabled.reason}),k}async function An(y,k){if(y==null)return y;let se;return y.only&&Qs.string(y.only.value)&&(se=[y.only.value]),_e.CodeActionContext.create(await qr(y.diagnostics,k),se,gr(y.triggerKind))}function Oi(y){if(y==null)return y;let k;return y.only&&Qs.string(y.only.value)&&(k=[y.only.value]),_e.CodeActionContext.create(en(y.diagnostics),k,gr(y.triggerKind))}function gr(y){switch(y){case Ft.CodeActionTriggerKind.Invoke:return _e.CodeActionTriggerKind.Invoked;case Ft.CodeActionTriggerKind.Automatic:return _e.CodeActionTriggerKind.Automatic;default:return}}function T(y){if(y!=null)return y.value}function j(y){return y==null?y:_e.InlineValueContext.create(y.frameId,le(y.stoppedLocation))}function Y(y,k,se){return{context:_e.InlineCompletionContext.create(se.triggerKind,se.selectedCompletionInfo),textDocument:i(y),position:F(k)}}function te(y){let k=_e.Command.create(y.title,y.command);return y.arguments&&(k.arguments=y.arguments),k}function je(y){let k=_e.CodeLens.create(le(y.range));return y.command&&(k.command=te(y.command)),y instanceof ej.default&&y.data&&(k.data=y.data),k}function Ne(y,k){let se={tabSize:y.tabSize,insertSpaces:y.insertSpaces};return k.trimTrailingWhitespace&&(se.trimTrailingWhitespace=!0),k.trimFinalNewlines&&(se.trimFinalNewlines=!0),k.insertFinalNewline&&(se.insertFinalNewline=!0),se}function Ye(y){return{textDocument:i(y)}}function et(y){return{textDocument:i(y)}}function De(y){let k=_e.DocumentLink.create(le(y.range));y.target&&(k.target=n(y.target)),y.tooltip!==void 0&&(k.tooltip=y.tooltip);let se=y instanceof tj.default?y:void 0;return se&&se.data&&(k.data=se.data),k}function Ue(y){return{textDocument:i(y)}}function Me(y){let k={name:y.name,kind:Nt(y.kind),uri:n(y.uri),range:le(y.range),selectionRange:le(y.selectionRange)};return y.detail!==void 0&&y.detail.length>0&&(k.detail=y.detail),y.tags!==void 0&&(k.tags=rn(y.tags)),y instanceof rj.default&&y.data!==void 0&&(k.data=y.data),k}function tt(y){let k={name:y.name,kind:Nt(y.kind),uri:n(y.uri),range:le(y.range),selectionRange:le(y.selectionRange)};return y.detail!==void 0&&y.detail.length>0&&(k.detail=y.detail),y.tags!==void 0&&(k.tags=rn(y.tags)),y instanceof nj.default&&y.data!==void 0&&(k.data=y.data),k}function Ct(y){let k=y instanceof ij.default?{name:y.name,kind:Nt(y.kind),location:y.hasRange?at(y.location):{uri:r(y.location.uri)},data:y.data}:{name:y.name,kind:Nt(y.kind),location:at(y.location)};return y.tags!==void 0&&(k.tags=rn(y.tags)),y.containerName!==""&&(k.containerName=y.containerName),k}function Wt(y){let k=typeof y.label=="string"?y.label:y.label.map(Yi),se=_e.InlayHint.create(F(y.position),k);return y.kind!==void 0&&(se.kind=y.kind),y.textEdits!==void 0&&(se.textEdits=vt(y.textEdits)),y.tooltip!==void 0&&(se.tooltip=Xi(y.tooltip)),y.paddingLeft!==void 0&&(se.paddingLeft=y.paddingLeft),y.paddingRight!==void 0&&(se.paddingRight=y.paddingRight),y instanceof sj.default&&y.data!==void 0&&(se.data=y.data),se}function Yi(y){let k=_e.InlayHintLabelPart.create(y.value);return y.location!==void 0&&(k.location=at(y.location)),y.command!==void 0&&(k.command=te(y.command)),y.tooltip!==void 0&&(k.tooltip=Xi(y.tooltip)),k}function Xi(y){return typeof y=="string"?y:{kind:_e.MarkupKind.Markdown,value:y.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:s,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:f,asSaveTextDocumentParams:d,asWillSaveTextDocumentParams:p,asDidCreateFilesParams:b,asDidRenameFilesParams:C,asDidDeleteFilesParams:D,asWillCreateFilesParams:w,asWillRenameFilesParams:S,asWillDeleteFilesParams:O,asTextDocumentPositionParams:A,asCompletionParams:U,asSignatureHelpParams:ye,asWorkerPosition:he,asRange:le,asRanges:oe,asPosition:F,asPositions:X,asPositionsSync:ge,asLocation:at,asDiagnosticSeverity:ct,asDiagnosticTag:hr,asDiagnostic:Rt,asDiagnostics:qr,asDiagnosticsSync:en,asCompletionItem:xr,asTextEdit:Fr,asSymbolKind:Nt,asSymbolTag:Yt,asSymbolTags:rn,asReferenceParams:Ir,asCodeAction:ii,asCodeActionSync:qi,asCodeActionContext:An,asCodeActionContextSync:Oi,asInlineValueContext:j,asCommand:te,asCodeLens:je,asFormattingOptions:Ne,asDocumentSymbolParams:Ye,asCodeLensParams:et,asDocumentLink:De,asDocumentLinkParams:Ue,asCallHierarchyItem:Me,asTypeHierarchyItem:tt,asInlayHint:Wt,asWorkspaceSymbol:Ct,asInlineCompletionParams:Y}}nd.createConverter=oj});var hE=_(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.createConverter=void 0;var Z=require("vscode"),me=re(),yn=gn(),$e=td(),aj=$m(),uj=Um(),cj=Bm(),lj=Ym(),dE=Qm(),dj=ty(),fj=iy(),hj=ay(),gj=ly(),fE=re(),id;(function(t){function e(r){let n=r;return n&&yn.string(n.language)&&yn.string(n.value)}t.is=e})(id||(id={}));function pj(t,e,r){let i=t||(h=>Z.Uri.parse(h));function s(h){return i(h)}function o(h){let x=[];for(let H of h)if(typeof H=="string")x.push(H);else if(fE.NotebookCellTextDocumentFilter.is(H))if(typeof H.notebook=="string")x.push({notebookType:H.notebook,language:H.language});else{let ce=H.notebook.notebookType??"*";x.push({notebookType:ce,scheme:H.notebook.scheme,pattern:H.notebook.pattern,language:H.language})}else fE.TextDocumentFilter.is(H)&&x.push({language:H.language,scheme:H.scheme,pattern:H.pattern});return x}async function a(h,x){return $e.map(h,c,x)}function u(h){let x=new Array(h.length);for(let H=0;H<h.length;H++)x[H]=c(h[H]);return x}function c(h){let x=new dE.ProtocolDiagnostic(p(h.range),h.message,C(h.severity),h.data);if(h.code!==void 0){if(typeof h.code=="string"||typeof h.code=="number")me.CodeDescription.is(h.codeDescription)?x.code={value:h.code,target:s(h.codeDescription.href)}:x.code=h.code;else if(dE.DiagnosticCode.is(h.code)){x.hasDiagnosticCode=!0;let H=h.code;x.code={value:H.value,target:s(H.target)}}}return h.source&&(x.source=h.source),h.relatedInformation&&(x.relatedInformation=l(h.relatedInformation)),Array.isArray(h.tags)&&(x.tags=f(h.tags)),x}function l(h){let x=new Array(h.length);for(let H=0;H<h.length;H++){let ce=h[H];x[H]=new Z.DiagnosticRelatedInformation(ct(ce.location),ce.message)}return x}function f(h){if(!h)return;let x=[];for(let H of h){let ce=d(H);ce!==void 0&&x.push(ce)}return x.length>0?x:void 0}function d(h){switch(h){case me.DiagnosticTag.Unnecessary:return Z.DiagnosticTag.Unnecessary;case me.DiagnosticTag.Deprecated:return Z.DiagnosticTag.Deprecated;default:return}}function g(h){return h?new Z.Position(h.line,h.character):void 0}function p(h){return h?new Z.Range(h.start.line,h.start.character,h.end.line,h.end.character):void 0}async function b(h,x){return $e.map(h,H=>new Z.Range(H.start.line,H.start.character,H.end.line,H.end.character),x)}function C(h){if(h==null)return Z.DiagnosticSeverity.Error;switch(h){case me.DiagnosticSeverity.Error:return Z.DiagnosticSeverity.Error;case me.DiagnosticSeverity.Warning:return Z.DiagnosticSeverity.Warning;case me.DiagnosticSeverity.Information:return Z.DiagnosticSeverity.Information;case me.DiagnosticSeverity.Hint:return Z.DiagnosticSeverity.Hint}return Z.DiagnosticSeverity.Error}function D(h){if(yn.string(h))return S(h);if(id.is(h))return S().appendCodeblock(h.value,h.language);if(Array.isArray(h)){let x=[];for(let H of h){let ce=S();id.is(H)?ce.appendCodeblock(H.value,H.language):ce.appendMarkdown(H),x.push(ce)}return x}else return S(h)}function w(h){if(yn.string(h))return h;switch(h.kind){case me.MarkupKind.Markdown:return S(h.value);case me.MarkupKind.PlainText:return h.value;default:return`Unsupported Markup content received. Kind is: ${h.kind}`}}function S(h){let x;if(h===void 0||typeof h=="string")x=new Z.MarkdownString(h);else switch(h.kind){case me.MarkupKind.Markdown:x=new Z.MarkdownString(h.value);break;case me.MarkupKind.PlainText:x=new Z.MarkdownString,x.appendText(h.value);break;default:x=new Z.MarkdownString,x.appendText(`Unsupported Markup content received. Kind is: ${h.kind}`);break}return x.isTrusted=e,x.supportHtml=r,x}function O(h){if(h)return new Z.Hover(D(h.contents),p(h.range))}async function A(h,x,H){if(!h)return;if(Array.isArray(h))return $e.map(h,oi=>V(oi,x),H);let ce=h,{defaultRange:Ht,commitCharacters:Xt}=z(ce,x),Qe=await $e.map(ce.items,oi=>V(oi,Xt,Ht,ce.itemDefaults?.insertTextMode,ce.itemDefaults?.insertTextFormat,ce.itemDefaults?.data),H);return new Z.CompletionList(Qe,ce.isIncomplete)}function z(h,x){let H=h.itemDefaults?.editRange,ce=h.itemDefaults?.commitCharacters??x;return me.Range.is(H)?{defaultRange:p(H),commitCharacters:ce}:H!==void 0?{defaultRange:{inserting:p(H.insert),replacing:p(H.replace)},commitCharacters:ce}:{defaultRange:void 0,commitCharacters:ce}}function U(h){return me.CompletionItemKind.Text<=h&&h<=me.CompletionItemKind.TypeParameter?[h-1,void 0]:[Z.CompletionItemKind.Text,h]}function K(h){switch(h){case me.CompletionItemTag.Deprecated:return Z.CompletionItemTag.Deprecated}}function ue(h){if(h==null)return[];let x=[];for(let H of h){let ce=K(H);ce!==void 0&&x.push(ce)}return x}function V(h,x,H,ce,Ht,Xt){let Qe=ue(h.tags),oi=N(h),nt=new aj.default(oi);h.detail&&(nt.detail=h.detail),h.documentation&&(nt.documentation=w(h.documentation),nt.documentationFormat=yn.string(h.documentation)?"$string":h.documentation.kind),h.filterText&&(nt.filterText=h.filterText);let pl=Q(h,H,Ht);if(pl&&(nt.insertText=pl.text,nt.range=pl.range,nt.fromEdit=pl.fromEdit),yn.number(h.kind)){let[ON,DS]=U(h.kind);nt.kind=ON,DS&&(nt.originalItemKind=DS)}h.sortText&&(nt.sortText=h.sortText),h.additionalTextEdits&&(nt.additionalTextEdits=F(h.additionalTextEdits));let RS=h.commitCharacters!==void 0?yn.stringArray(h.commitCharacters)?h.commitCharacters:void 0:x;RS&&(nt.commitCharacters=RS.slice()),h.command&&(nt.command=vt(h.command)),(h.deprecated===!0||h.deprecated===!1)&&(nt.deprecated=h.deprecated,h.deprecated===!0&&Qe.push(Z.CompletionItemTag.Deprecated)),(h.preselect===!0||h.preselect===!1)&&(nt.preselect=h.preselect);let CS=h.data??Xt;CS!==void 0&&(nt.data=CS),Qe.length>0&&(nt.tags=Qe);let ap=h.insertTextMode??ce;return ap!==void 0&&(nt.insertTextMode=ap,ap===me.InsertTextMode.asIs&&(nt.keepWhitespace=!0)),nt}function N(h){return me.CompletionItemLabelDetails.is(h.labelDetails)?{label:h.label,detail:h.labelDetails.detail,description:h.labelDetails.description}:h.label}function Q(h,x,H){let ce=h.insertTextFormat??H;if(h.textEdit!==void 0||x!==void 0){let[Ht,Xt]=h.textEdit!==void 0?J(h.textEdit):[x,h.textEditText??h.label];return ce===me.InsertTextFormat.Snippet?{text:new Z.SnippetString(Xt),range:Ht,fromEdit:!0}:{text:Xt,range:Ht,fromEdit:!0}}else return h.insertText?ce===me.InsertTextFormat.Snippet?{text:new Z.SnippetString(h.insertText),fromEdit:!1}:{text:h.insertText,fromEdit:!1}:void 0}function J(h){return me.InsertReplaceEdit.is(h)?[{inserting:p(h.insert),replacing:p(h.replace)},h.newText]:[p(h.range),h.newText]}function ye(h){if(h)return new Z.TextEdit(p(h.range),h.newText)}async function he(h,x){if(h)return $e.map(h,ye,x)}function F(h){if(!h)return;let x=new Array(h.length);for(let H=0;H<h.length;H++)x[H]=ye(h[H]);return x}async function X(h,x){if(!h)return;let H=new Z.SignatureHelp;return yn.number(h.activeSignature)?H.activeSignature=h.activeSignature:H.activeSignature=0,yn.number(h.activeParameter)?H.activeParameter=h.activeParameter:H.activeParameter=0,h.signatures&&(H.signatures=await ge(h.signatures,x)),H}async function ge(h,x){return $e.mapAsync(h,le,x)}async function le(h,x){let H=new Z.SignatureInformation(h.label);return h.documentation!==void 0&&(H.documentation=w(h.documentation)),h.parameters!==void 0&&(H.parameters=await oe(h.parameters,x)),h.activeParameter!==void 0&&(H.activeParameter=h.activeParameter),H}function oe(h,x){return $e.map(h,at,x)}function at(h){let x=new Z.ParameterInformation(h.label);return h.documentation&&(x.documentation=w(h.documentation)),x}function ct(h){return h?new Z.Location(i(h.uri),p(h.range)):void 0}async function Tr(h,x){if(h)return Pr(h,x)}async function hr(h,x){if(h)return Pr(h,x)}function Zr(h){if(!h)return;let x={targetUri:i(h.targetUri),targetRange:p(h.targetRange),originSelectionRange:p(h.originSelectionRange),targetSelectionRange:p(h.targetSelectionRange)};if(!x.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return x}async function Pr(h,x){if(h)if(yn.array(h)){if(h.length===0)return[];if(me.LocationLink.is(h[0])){let H=h;return $e.map(H,Zr,x)}else{let H=h;return $e.map(H,ct,x)}}else return me.LocationLink.is(h)?[Zr(h)]:ct(h)}async function ni(h,x){if(h)return $e.map(h,ct,x)}async function Rt(h,x){if(h)return $e.map(h,qr,x)}function qr(h){let x=new Z.DocumentHighlight(p(h.range));return yn.number(h.kind)&&(x.kind=en(h.kind)),x}function en(h){switch(h){case me.DocumentHighlightKind.Text:return Z.DocumentHighlightKind.Text;case me.DocumentHighlightKind.Read:return Z.DocumentHighlightKind.Read;case me.DocumentHighlightKind.Write:return Z.DocumentHighlightKind.Write}return Z.DocumentHighlightKind.Text}async function tn(h,x){if(h)return $e.map(h,xr,x)}function yt(h){return h<=me.SymbolKind.TypeParameter?h-1:Z.SymbolKind.Property}function Or(h){switch(h){case me.SymbolTag.Deprecated:return Z.SymbolTag.Deprecated;default:return}}function nr(h){if(h==null)return;let x=[];for(let H of h){let ce=Or(H);ce!==void 0&&x.push(ce)}return x.length===0?void 0:x}function xr(h){let x=h.data,H=h.location,ce=H.range===void 0||x!==void 0?new hj.default(h.name,yt(h.kind),h.containerName??"",H.range===void 0?i(H.uri):new Z.Location(i(h.location.uri),p(H.range)),x):new Z.SymbolInformation(h.name,yt(h.kind),h.containerName??"",new Z.Location(i(h.location.uri),p(H.range)));return Fr(ce,h),ce}async function Mr(h,x){if(h!=null)return $e.map(h,At,x)}function At(h){let x=new Z.DocumentSymbol(h.name,h.detail||"",yt(h.kind),p(h.range),p(h.selectionRange));if(Fr(x,h),h.children!==void 0&&h.children.length>0){let H=[];for(let ce of h.children)H.push(At(ce));x.children=H}return x}function Fr(h,x){h.tags=nr(x.tags),x.deprecated&&(h.tags?h.tags.includes(Z.SymbolTag.Deprecated)||(h.tags=h.tags.concat(Z.SymbolTag.Deprecated)):h.tags=[Z.SymbolTag.Deprecated])}function vt(h){let x={title:h.title,command:h.command};return h.arguments&&(x.arguments=h.arguments),x}async function Nt(h,x){if(h)return $e.map(h,vt,x)}let Yt=new Map;Yt.set(me.CodeActionKind.Empty,Z.CodeActionKind.Empty),Yt.set(me.CodeActionKind.QuickFix,Z.CodeActionKind.QuickFix),Yt.set(me.CodeActionKind.Refactor,Z.CodeActionKind.Refactor),Yt.set(me.CodeActionKind.RefactorExtract,Z.CodeActionKind.RefactorExtract),Yt.set(me.CodeActionKind.RefactorInline,Z.CodeActionKind.RefactorInline),Yt.set(me.CodeActionKind.RefactorRewrite,Z.CodeActionKind.RefactorRewrite),Yt.set(me.CodeActionKind.Source,Z.CodeActionKind.Source),Yt.set(me.CodeActionKind.SourceOrganizeImports,Z.CodeActionKind.SourceOrganizeImports);function rn(h){if(h==null)return;let x=Yt.get(h);if(x)return x;let H=h.split(".");x=Z.CodeActionKind.Empty;for(let ce of H)x=x.append(ce);return x}function Ir(h){if(h!=null)return h.map(x=>rn(x))}async function ii(h,x){if(h==null)return;let H=new lj.default(h.title,h.data);return h.kind!==void 0&&(H.kind=rn(h.kind)),h.diagnostics!==void 0&&(H.diagnostics=u(h.diagnostics)),h.edit!==void 0&&(H.edit=await gr(h.edit,x)),h.command!==void 0&&(H.command=vt(h.command)),h.isPreferred!==void 0&&(H.isPreferred=h.isPreferred),h.disabled!==void 0&&(H.disabled={reason:h.disabled.reason}),H}function qi(h,x){return $e.mapAsync(h,async H=>me.Command.is(H)?vt(H):ii(H,x),x)}function An(h){if(!h)return;let x=new uj.default(p(h.range));return h.command&&(x.command=vt(h.command)),h.data!==void 0&&h.data!==null&&(x.data=h.data),x}async function Oi(h,x){if(h)return $e.map(h,An,x)}async function gr(h,x){if(!h)return;let H=new Map;if(h.changeAnnotations!==void 0){let Xt=h.changeAnnotations;await $e.forEach(Object.keys(Xt),Qe=>{let oi=T(Xt[Qe]);H.set(Qe,oi)},x)}let ce=Xt=>{if(Xt!==void 0)return H.get(Xt)},Ht=new Z.WorkspaceEdit;if(h.documentChanges){let Xt=h.documentChanges;await $e.forEach(Xt,Qe=>{if(me.CreateFile.is(Qe))Ht.createFile(i(Qe.uri),Qe.options,ce(Qe.annotationId));else if(me.RenameFile.is(Qe))Ht.renameFile(i(Qe.oldUri),i(Qe.newUri),Qe.options,ce(Qe.annotationId));else if(me.DeleteFile.is(Qe))Ht.deleteFile(i(Qe.uri),Qe.options,ce(Qe.annotationId));else if(me.TextDocumentEdit.is(Qe)){let oi=i(Qe.textDocument.uri);for(let nt of Qe.edits)me.AnnotatedTextEdit.is(nt)?Ht.replace(oi,p(nt.range),nt.newText,ce(nt.annotationId)):Ht.replace(oi,p(nt.range),nt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Qe,void 0,4)}`)},x)}else if(h.changes){let Xt=h.changes;await $e.forEach(Object.keys(Xt),Qe=>{Ht.set(i(Qe),F(Xt[Qe]))},x)}return Ht}function T(h){if(h!==void 0)return{label:h.label,needsConfirmation:!!h.needsConfirmation,description:h.description}}function j(h){let x=p(h.range),H=h.target?s(h.target):void 0,ce=new cj.default(x,H);return h.tooltip!==void 0&&(ce.tooltip=h.tooltip),h.data!==void 0&&h.data!==null&&(ce.data=h.data),ce}async function Y(h,x){if(h)return $e.map(h,j,x)}function te(h){return new Z.Color(h.red,h.green,h.blue,h.alpha)}function je(h){return new Z.ColorInformation(p(h.range),te(h.color))}async function Ne(h,x){if(h)return $e.map(h,je,x)}function Ye(h){let x=new Z.ColorPresentation(h.label);return x.additionalTextEdits=F(h.additionalTextEdits),h.textEdit&&(x.textEdit=ye(h.textEdit)),x}async function et(h,x){if(h)return $e.map(h,Ye,x)}function De(h){if(h)switch(h){case me.FoldingRangeKind.Comment:return Z.FoldingRangeKind.Comment;case me.FoldingRangeKind.Imports:return Z.FoldingRangeKind.Imports;case me.FoldingRangeKind.Region:return Z.FoldingRangeKind.Region}}function Ue(h){return new Z.FoldingRange(h.startLine,h.endLine,De(h.kind))}async function Me(h,x){if(h)return $e.map(h,Ue,x)}function tt(h){return new Z.SelectionRange(p(h.range),h.parent?tt(h.parent):void 0)}async function Ct(h,x){return Array.isArray(h)?$e.map(h,tt,x):[]}function Wt(h){return me.InlineValueText.is(h)?new Z.InlineValueText(p(h.range),h.text):me.InlineValueVariableLookup.is(h)?new Z.InlineValueVariableLookup(p(h.range),h.variableName,h.caseSensitiveLookup):new Z.InlineValueEvaluatableExpression(p(h.range),h.expression)}async function Yi(h,x){return Array.isArray(h)?$e.map(h,Wt,x):[]}async function Xi(h,x){let H=typeof h.label=="string"?h.label:await $e.map(h.label,y,x),ce=new gj.default(g(h.position),H);return h.kind!==void 0&&(ce.kind=h.kind),h.textEdits!==void 0&&(ce.textEdits=await he(h.textEdits,x)),h.tooltip!==void 0&&(ce.tooltip=k(h.tooltip)),h.paddingLeft!==void 0&&(ce.paddingLeft=h.paddingLeft),h.paddingRight!==void 0&&(ce.paddingRight=h.paddingRight),h.data!==void 0&&(ce.data=h.data),ce}function y(h){let x=new Z.InlayHintLabelPart(h.value);return h.location!==void 0&&(x.location=ct(h.location)),h.tooltip!==void 0&&(x.tooltip=k(h.tooltip)),h.command!==void 0&&(x.command=vt(h.command)),x}function k(h){return typeof h=="string"?h:S(h)}async function se(h,x){if(Array.isArray(h))return $e.mapAsync(h,Xi,x)}function ze(h){if(h===null)return;let x=new dj.default(yt(h.kind),h.name,h.detail||"",s(h.uri),p(h.range),p(h.selectionRange),h.data);return h.tags!==void 0&&(x.tags=nr(h.tags)),x}async function M(h,x){if(h!==null)return $e.map(h,ze,x)}async function v(h,x){return new Z.CallHierarchyIncomingCall(ze(h.from),await b(h.fromRanges,x))}async function P(h,x){if(h!==null)return $e.mapAsync(h,v,x)}async function q(h,x){return new Z.CallHierarchyOutgoingCall(ze(h.to),await b(h.fromRanges,x))}async function R(h,x){if(h!==null)return $e.mapAsync(h,q,x)}async function m(h,x){if(h!=null)return new Z.SemanticTokens(new Uint32Array(h.data),h.resultId)}function I(h){return new Z.SemanticTokensEdit(h.start,h.deleteCount,h.data!==void 0?new Uint32Array(h.data):void 0)}async function W(h,x){if(h!=null)return new Z.SemanticTokensEdits(h.edits.map(I),h.resultId)}function ve(h){return h}async function ht(h,x){if(h!=null)return new Z.LinkedEditingRanges(await b(h.ranges,x),rt(h.wordPattern))}function rt(h){if(h!=null)return new RegExp(h)}function kr(h){if(h===null)return;let x=new fj.default(yt(h.kind),h.name,h.detail||"",s(h.uri),p(h.range),p(h.selectionRange),h.data);return h.tags!==void 0&&(x.tags=nr(h.tags)),x}async function nn(h,x){if(h!==null)return $e.map(h,kr,x)}function Nn(h){if(yn.string(h))return h;if(me.RelativePattern.is(h)){if(me.URI.is(h.baseUri))return new Z.RelativePattern(s(h.baseUri),h.pattern);if(me.WorkspaceFolder.is(h.baseUri)){let x=Z.workspace.getWorkspaceFolder(s(h.baseUri.uri));return x!==void 0?new Z.RelativePattern(x,h.pattern):void 0}}}async function Oe(h,x){if(!h)return;if(Array.isArray(h))return $e.map(h,Ht=>si(Ht),x);let H=h,ce=await $e.map(H.items,Ht=>si(Ht),x);return new Z.InlineCompletionList(ce)}function si(h){let x;typeof h.insertText=="string"?x=h.insertText:x=new Z.SnippetString(h.insertText.value);let H;h.command&&(H=vt(h.command));let ce=new Z.InlineCompletionItem(x,p(h.range),H);return h.filterText&&(ce.filterText=h.filterText),ce}return{asUri:s,asDocumentSelector:o,asDiagnostics:a,asDiagnostic:c,asRange:p,asRanges:b,asPosition:g,asDiagnosticSeverity:C,asDiagnosticTag:d,asHover:O,asCompletionResult:A,asCompletionItem:V,asTextEdit:ye,asTextEdits:he,asSignatureHelp:X,asSignatureInformations:ge,asSignatureInformation:le,asParameterInformations:oe,asParameterInformation:at,asDeclarationResult:Tr,asDefinitionResult:hr,asLocation:ct,asReferences:ni,asDocumentHighlights:Rt,asDocumentHighlight:qr,asDocumentHighlightKind:en,asSymbolKind:yt,asSymbolTag:Or,asSymbolTags:nr,asSymbolInformations:tn,asSymbolInformation:xr,asDocumentSymbols:Mr,asDocumentSymbol:At,asCommand:vt,asCommands:Nt,asCodeAction:ii,asCodeActionKind:rn,asCodeActionKinds:Ir,asCodeActionResult:qi,asCodeLens:An,asCodeLenses:Oi,asWorkspaceEdit:gr,asDocumentLink:j,asDocumentLinks:Y,asFoldingRangeKind:De,asFoldingRange:Ue,asFoldingRanges:Me,asColor:te,asColorInformation:je,asColorInformations:Ne,asColorPresentation:Ye,asColorPresentations:et,asSelectionRange:tt,asSelectionRanges:Ct,asInlineValue:Wt,asInlineValues:Yi,asInlayHint:Xi,asInlayHints:se,asSemanticTokensLegend:ve,asSemanticTokens:m,asSemanticTokensEdit:I,asSemanticTokensEdits:W,asCallHierarchyItem:ze,asCallHierarchyItems:M,asCallHierarchyIncomingCall:v,asCallHierarchyIncomingCalls:P,asCallHierarchyOutgoingCall:q,asCallHierarchyOutgoingCalls:R,asLinkedEditingRanges:ht,asTypeHierarchyItem:kr,asTypeHierarchyItems:nn,asGlobPattern:Nn,asInlineCompletionResult:Oe,asInlineCompletionItem:si}}sd.createConverter=pj});var pt=_(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.generateUuid=vn.parse=vn.isUUID=vn.v4=vn.empty=void 0;var xu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Mu=class t extends xu{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};Mu._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Mu._timeHighBits=["8","9","a","b"];vn.empty=new xu("00000000-0000-0000-0000-000000000000");function gE(){return new Mu}vn.v4=gE;var mj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function pE(t){return mj.test(t)}vn.isUUID=pE;function yj(t){if(!pE(t))throw new Error("invalid uuid");return new xu(t)}vn.parse=yj;function vj(){return gE().asHex()}vn.generateUuid=vj});var hy=_(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.ProgressPart=void 0;var mE=require("vscode"),yE=re(),vE=gn(),fy=class{constructor(e,r,n){this._client=e,this._token=r,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(yE.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&mE.window.withProgress({location:mE.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(r,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=r,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(yE.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,s)=>{this._resolve=i,this._reject=s})})}report(e){if(this._infinite&&vE.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(vE.number(e.percentage)){let r=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,r-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};od.ProgressPart=fy});var Le=_(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.WorkspaceFeature=zt.TextDocumentLanguageFeature=zt.TextDocumentEventFeature=zt.DynamicDocumentFeature=zt.DynamicFeature=zt.StaticFeature=zt.ensure=zt.LSPCancellationError=void 0;var Zs=require("vscode"),gy=re(),pr=gn(),_E=pt(),py=class extends Zs.CancellationError{constructor(e){super(),this.data=e}};zt.LSPCancellationError=py;function _j(t,e){return t[e]===void 0&&(t[e]={}),t[e]}zt.ensure=_j;var bE;(function(t){function e(r){let n=r;return n!=null&&pr.func(n.fillClientCapabilities)&&pr.func(n.initialize)&&pr.func(n.getState)&&pr.func(n.clear)&&(n.fillInitializeParams===void 0||pr.func(n.fillInitializeParams))}t.is=e})(bE||(zt.StaticFeature=bE={}));var wE;(function(t){function e(r){let n=r;return n!=null&&pr.func(n.fillClientCapabilities)&&pr.func(n.initialize)&&pr.func(n.getState)&&pr.func(n.clear)&&(n.fillInitializeParams===void 0||pr.func(n.fillInitializeParams))&&pr.func(n.register)&&pr.func(n.unregister)&&n.registrationType!==void 0}t.is=e})(wE||(zt.DynamicFeature=wE={}));var Fu=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),r=0;for(let i of e){r++;for(let s of Zs.workspace.textDocuments)if(Zs.languages.match(i,s)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=r>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};zt.DynamicDocumentFeature=Fu;var my=class extends Fu{static textDocumentFilter(e,r){for(let n of e)if(Zs.languages.match(n,r)>0)return!0;return!1}constructor(e,r,n,i,s,o,a){super(e),this._event=r,this._type=n,this._middleware=i,this._createParams=s,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new Zs.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(r=>{this.callback(r).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let r=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(n),this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>r(i)):r(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,r,n){this._onNotificationSent.fire({textDocument:e,type:r,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let r of this._selectors.values())if(Zs.languages.match(r,e)>0)return{send:n=>this.callback(n)}}};zt.TextDocumentEventFeature=my;var yy=class extends Fu{constructor(e,r){super(e),this._registrationType=r,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let r=e.data.registerOptions.documentSelector;r!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(r))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let r=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:r[0],data:e,provider:r[1]})}unregister(e){let r=this._registrations.get(e);r!==void 0&&r.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,r){if(r){if(gy.TextDocumentRegistrationOptions.is(r)){let n=gy.StaticRegistrationOptions.hasId(r)?r.id:_E.generateUuid(),i=r.documentSelector??e;if(i)return[n,Object.assign({},r,{documentSelector:i})]}else if(pr.boolean(r)&&r===!0||gy.WorkDoneProgressOptions.is(r)){if(!e)return[void 0,void 0];let n=pr.boolean(r)&&r===!0?{documentSelector:e}:Object.assign({},r,{documentSelector:e});return[_E.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,r){if(!(!e||!r))return pr.boolean(r)&&r===!0?{documentSelector:e}:Object.assign({},r,{documentSelector:e})}getProvider(e){for(let r of this._registrations.values()){let n=r.data.registerOptions.documentSelector;if(n!==null&&Zs.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return r.provider}}getAllProviders(){let e=[];for(let r of this._registrations.values())e.push(r.provider);return e}};zt.TextDocumentLanguageFeature=yy;var vy=class{constructor(e,r){this._client=e,this._registrationType=r,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let r=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:r[0],provider:r[1]})}unregister(e){let r=this._registrations.get(e);r!==void 0&&r.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let r of this._registrations.values())e.push(r.provider);return e}};zt.WorkspaceFeature=vy});var RE=_((sY,SE)=>{var bj=typeof process=="object"&&process&&process.platform==="win32";SE.exports=bj?{sep:"\\"}:{sep:"/"}});var PE=_((oY,TE)=>{"use strict";TE.exports=DE;function DE(t,e,r){t instanceof RegExp&&(t=CE(t,r)),e instanceof RegExp&&(e=CE(e,r));var n=EE(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function CE(t,e){var r=e.match(t);return r?r[0]:null}DE.range=EE;function EE(t,e,r){var n,i,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),l=u;if(u>=0&&c>0){if(t===e)return[u,c];for(n=[],s=r.length;l>=0&&!a;)l==u?(n.push(l),u=r.indexOf(t,l+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,l+1)),l=u<c&&u>=0?u:c;n.length&&(a=[s,o])}return a}});var AE=_((aY,kE)=>{var qE=PE();kE.exports=Rj;var OE="\0SLASH"+Math.random()+"\0",xE="\0OPEN"+Math.random()+"\0",by="\0CLOSE"+Math.random()+"\0",ME="\0COMMA"+Math.random()+"\0",FE="\0PERIOD"+Math.random()+"\0";function _y(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function wj(t){return t.split("\\\\").join(OE).split("\\{").join(xE).split("\\}").join(by).split("\\,").join(ME).split("\\.").join(FE)}function Sj(t){return t.split(OE).join("\\").split(xE).join("{").split(by).join("}").split(ME).join(",").split(FE).join(".")}function IE(t){if(!t)return[""];var e=[],r=qE("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=IE(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Rj(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Iu(wj(t),!0).map(Sj)):[]}function Cj(t){return"{"+t+"}"}function Dj(t){return/^-?0\d/.test(t)}function Ej(t,e){return t<=e}function Tj(t,e){return t>=e}function Iu(t,e){var r=[],n=qE("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Iu(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=u||c,f=n.body.indexOf(",")>=0;if(!l&&!f)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+by+n.post,Iu(t)):[t];var d;if(l)d=n.body.split(/\.\./);else if(d=IE(n.body),d.length===1&&(d=Iu(d[0],!1).map(Cj),d.length===1))return s.map(function(V){return n.pre+d[0]+V});var g;if(l){var p=_y(d[0]),b=_y(d[1]),C=Math.max(d[0].length,d[1].length),D=d.length==3?Math.abs(_y(d[2])):1,w=Ej,S=b<p;S&&(D*=-1,w=Tj);var O=d.some(Dj);g=[];for(var A=p;w(A,b);A+=D){var z;if(c)z=String.fromCharCode(A),z==="\\"&&(z="");else if(z=String(A),O){var U=C-z.length;if(U>0){var K=new Array(U+1).join("0");A<0?z="-"+K+z.slice(1):z=K+z}}g.push(z)}}else{g=[];for(var ue=0;ue<d.length;ue++)g.push.apply(g,Iu(d[ue],!1))}for(var ue=0;ue<g.length;ue++)for(var o=0;o<s.length;o++){var a=i+g[ue]+s[o];(!e||l||a)&&r.push(a)}}return r}});var ud=_((cY,Dy)=>{var an=Dy.exports=(t,e,r={})=>(ad(e),!r.nocomment&&e.charAt(0)==="#"?!1:new ia(e,r).match(t));Dy.exports=an;var Ry=RE();an.sep=Ry.sep;var $n=Symbol("globstar **");an.GLOBSTAR=$n;var Pj=AE(),NE={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Cy="[^/]",wy=Cy+"*?",qj="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Oj="(?:(?!(?:\\/|^)\\.).)*?",$E=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),LE=$E("().*{}+?[]^$\\!"),xj=$E("[.("),jE=/\/+/;an.filter=(t,e={})=>(r,n,i)=>an(r,t,e);var os=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};an.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return an;let e=an,r=(n,i,s)=>e(n,i,os(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,os(t,s))}},r.Minimatch.defaults=n=>e.defaults(os(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,os(t,i)),r.defaults=n=>e.defaults(os(t,n)),r.makeRe=(n,i)=>e.makeRe(n,os(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,os(t,i)),r.match=(n,i,s)=>e.match(n,i,os(t,s)),r};an.braceExpand=(t,e)=>WE(t,e);var WE=(t,e={})=>(ad(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Pj(t)),Mj=1024*64,ad=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Mj)throw new TypeError("pattern is too long")},Sy=Symbol("subparse");an.makeRe=(t,e)=>new ia(t,e||{}).makeRe();an.match=(t,e,r={})=>{let n=new ia(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var Fj=t=>t.replace(/\\(.)/g,"$1"),Ij=t=>t.replace(/\\([^-\]])/g,"$1"),kj=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Aj=t=>t.replace(/[[\]\\]/g,"\\$&"),ia=class{constructor(e,r){ad(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(jE)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,u=r.length;s<a&&o<u;s++,o++){this.debug("matchOne loop");var c=r[o],l=e[s];if(this.debug(r,c,l),c===!1)return!1;if(c===$n){this.debug("GLOBSTAR",[r,c,l]);var f=s,d=o+1;if(d===u){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;f<a;){var g=e[f];if(this.debug(`
globstar while`,e,f,r,d,g),this.matchOne(e.slice(f),r.slice(d),n))return this.debug("globstar found match!",f,a,g),!0;if(g==="."||g===".."||!i.dot&&g.charAt(0)==="."){this.debug("dot detected!",e,f,r,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,f,r,d),f===a))}var p;if(typeof c=="string"?(p=l===c,this.debug("string match",c,l,p)):(p=l.match(c),this.debug("pattern match",c,l,p)),!p)return!1}if(s===a&&o===u)return!0;if(s===a)return n;if(o===u)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return WE(this.pattern,this.options)}parse(e,r){ad(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return $n;if(e==="")return"";let i="",s=!1,o=!1,a=[],u=[],c,l=!1,f=-1,d=-1,g,p,b,C=e.charAt(0)===".",D=n.dot||C,w=()=>C?"":D?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",S=U=>U.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",O=()=>{if(c){switch(c){case"*":i+=wy,s=!0;break;case"?":i+=Cy,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let U=0,K;U<e.length&&(K=e.charAt(U));U++){if(this.debug("%s	%s %s %j",e,U,i,K),o){if(K==="/")return!1;LE[K]&&(i+="\\"),i+=K,o=!1;continue}switch(K){case"/":return!1;case"\\":if(l&&e.charAt(U+1)==="-"){i+=K;continue}O(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,U,i,K),l){this.debug("  in class"),K==="!"&&U===d+1&&(K="^"),i+=K;continue}this.debug("call clearStateChar %j",c),O(),c=K,n.noext&&O();continue;case"(":{if(l){i+="(";continue}if(!c){i+="\\(";continue}let ue={type:c,start:U-1,reStart:i.length,open:NE[c].open,close:NE[c].close};this.debug(this.pattern,"	",ue),a.push(ue),i+=ue.open,ue.start===0&&ue.type!=="!"&&(C=!0,i+=S(e.slice(U+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let ue=a[a.length-1];if(l||!ue){i+="\\)";continue}a.pop(),O(),s=!0,p=ue,i+=p.close,p.type==="!"&&u.push(Object.assign(p,{reEnd:i.length}));continue}case"|":{let ue=a[a.length-1];if(l||!ue){i+="\\|";continue}O(),i+="|",ue.start===0&&ue.type!=="!"&&(C=!0,i+=S(e.slice(U+1)));continue}case"[":if(O(),l){i+="\\"+K;continue}l=!0,d=U,f=i.length,i+=K;continue;case"]":if(U===d+1||!l){i+="\\"+K;continue}g=e.substring(d+1,U);try{RegExp("["+Aj(Ij(g))+"]"),i+=K}catch{i=i.substring(0,f)+"(?:$.)"}s=!0,l=!1;continue;default:O(),LE[K]&&!(K==="^"&&l)&&(i+="\\"),i+=K;break}}for(l&&(g=e.slice(d+1),b=this.parse(g,Sy),i=i.substring(0,f)+"\\["+b[0],s=s||b[1]),p=a.pop();p;p=a.pop()){let U;U=i.slice(p.reStart+p.open.length),this.debug("setting tail",i,p),U=U.replace(/((?:\\{2}){0,64})(\\?)\|/g,(ue,V,N)=>(N||(N="\\"),V+V+N+"|")),this.debug(`tail=%j
   %s`,U,U,p,i);let K=p.type==="*"?wy:p.type==="?"?Cy:"\\"+p.type;s=!0,i=i.slice(0,p.reStart)+K+"\\("+U}O(),o&&(i+="\\\\");let A=xj[i.charAt(0)];for(let U=u.length-1;U>-1;U--){let K=u[U],ue=i.slice(0,K.reStart),V=i.slice(K.reStart,K.reEnd-8),N=i.slice(K.reEnd),Q=i.slice(K.reEnd-8,K.reEnd)+N,J=ue.split(")").length,ye=ue.split("(").length-J,he=N;for(let X=0;X<ye;X++)he=he.replace(/\)[+*?]?/,"");N=he;let F=N===""&&r!==Sy?"(?:$|\\/)":"";i=ue+V+N+F+Q}if(i!==""&&s&&(i="(?=.)"+i),A&&(i=w()+i),r===Sy)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return Fj(e);let z=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",z),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?wy:r.dot?qj:Oj,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?kj(a):a===$n?$n:a._src).reduce((a,u)=>(a[a.length-1]===$n&&u===$n||a.push(u),a),[]),o.forEach((a,u)=>{a!==$n||o[u-1]===$n||(u===0?o.length>1?o[u+1]="(?:\\/|"+n+"\\/)?"+o[u+1]:o[u]=n:u===o.length-1?o[u-1]+="(?:\\/|"+n+")?":(o[u-1]+="(?:\\/|\\/"+n+"\\/)"+o[u+1],o[u+1]=$n))}),o.filter(a=>a!==$n).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;Ry.sep!=="/"&&(e=e.split(Ry.sep).join("/")),e=e.split(jE),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],u=e;if(n.matchBase&&a.length===1&&(u=[s]),this.matchOne(u,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return an.defaults(e).Minimatch}};an.Minimatch=ia});var Fy=_(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.DiagnosticFeature=as.DiagnosticPullMode=as.vsdiag=void 0;var Nj=ud(),Fe=require("vscode"),Tt=re(),Lj=pt(),Ey=Le();function cd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var _n;(function(t){let e;(function(r){r.full="full",r.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(_n||(as.vsdiag=_n={}));var ld;(function(t){t.onType="onType",t.onSave="onSave"})(ld||(as.DiagnosticPullMode=ld={}));var ur;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(ur||(ur={}));var Ty=class t{constructor(){this.open=new Set,this._onOpen=new Fe.EventEmitter,this._onClose=new Fe.EventEmitter,t.fillTabResources(this.open);let e=r=>{if(r.closed.length===0&&r.opened.length===0)return;let n=this.open,i=new Set;t.fillTabResources(i);let s=new Set,o=new Set(i);for(let a of n.values())i.has(a)?o.delete(a):s.add(a);if(this.open=i,s.size>0){let a=new Set;for(let u of s)a.add(Fe.Uri.parse(u));this._onClose.fire(a)}if(o.size>0){let a=new Set;for(let u of o)a.add(Fe.Uri.parse(u));this._onOpen.fire(a)}};Fe.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Fe.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Fe.Uri?Fe.window.activeTextEditor?.document.uri===e:Fe.window.activeTextEditor?.document===e}isVisible(e){let r=e instanceof Fe.Uri?e:e.uri;return this.open.has(r.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,r){let n=e??new Set;for(let i of Fe.window.tabGroups.all)for(let s of i.tabs){let o=s.input,a;o instanceof Fe.TabInputText?a=o.uri:o instanceof Fe.TabInputTextDiff?a=o.modified:o instanceof Fe.TabInputCustom&&(a=o.uri),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),r!==void 0&&r.add(a))}}},Lt;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(Lt||(Lt={}));var Fi;(function(t){function e(r){return r instanceof Fe.Uri?r.toString():r.uri.toString()}t.asKey=e})(Fi||(Fi={}));var Py=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,r,n){let i=e===Lt.document?this.documentPullStates:this.workspacePullStates,[s,o,a]=r instanceof Fe.Uri?[r.toString(),r,n]:[r.uri.toString(),r.uri,r.version],u=i.get(s);return u===void 0&&(u={document:o,pulledVersion:a,resultId:void 0},i.set(s,u)),u}update(e,r,n,i){let s=e===Lt.document?this.documentPullStates:this.workspacePullStates,[o,a,u,c]=r instanceof Fe.Uri?[r.toString(),r,n,i]:[r.uri.toString(),r.uri,r.version,n],l=s.get(o);l===void 0?(l={document:a,pulledVersion:u,resultId:c},s.set(o,l)):(l.pulledVersion=u,l.resultId=c)}unTrack(e,r){let n=Fi.asKey(r);(e===Lt.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,r){let n=Fi.asKey(r);return(e===Lt.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,r){let n=Fi.asKey(r);return(e===Lt.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[r,n]of this.workspacePullStates)this.documentPullStates.has(r)&&(n=this.documentPullStates.get(r)),n.resultId!==void 0&&e.push({uri:r,value:n.resultId});return e}},qy=class{constructor(e,r,n){this.client=e,this.tabs=r,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new Fe.EventEmitter,this.provider=this.createProvider(),this.diagnostics=Fe.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new Py,this.workspaceErrorCounter=0}knows(e,r){let n=r instanceof Fe.Uri?r:r.uri;return this.documentStates.tracks(e,r)||this.openRequests.has(n.toString())}forget(e,r){this.documentStates.unTrack(e,r)}pull(e,r){if(this.isDisposed)return;let n=e instanceof Fe.Uri?e:e.uri;this.pullAsync(e).then(()=>{r&&r()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,r){if(this.isDisposed)return;let n=e instanceof Fe.Uri,i=n?e:e.uri,s=i.toString();r=n?r:e.version;let o=this.openRequests.get(s),a=n?this.documentStates.track(Lt.document,e,r):this.documentStates.track(Lt.document,e);if(o===void 0){let u=new Fe.CancellationTokenSource;this.openRequests.set(s,{state:ur.active,document:e,version:r,tokenSource:u});let c,l;try{c=await this.provider.provideDiagnostics(e,a.resultId,u.token)??{kind:_n.DocumentDiagnosticReportKind.full,items:[]}}catch(f){if(f instanceof Ey.LSPCancellationError&&Tt.DiagnosticServerCancellationData.is(f.data)&&f.data.retriggerRequest===!1&&(l={state:ur.outDated,document:e}),l===void 0&&f instanceof Fe.CancellationError)l={state:ur.reschedule,document:e};else throw f}if(l=l??this.openRequests.get(s),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(s),!this.tabs.isVisible(e)){this.documentStates.unTrack(Lt.document,e);return}if(l.state===ur.outDated)return;c!==void 0&&(c.kind===_n.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,c.items),a.pulledVersion=r,a.resultId=c.resultId),l.state===ur.reschedule&&this.pull(e)}else o.state===ur.active?(o.tokenSource.cancel(),this.openRequests.set(s,{state:ur.reschedule,document:o.document})):o.state===ur.outDated&&this.openRequests.set(s,{state:ur.reschedule,document:o.document})}forgetDocument(e){let r=e instanceof Fe.Uri?e:e.uri,n=r.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:ur.reschedule,document:e}):this.pull(e,()=>{this.forget(Lt.document,e)}):(i!==void 0&&(i.state===ur.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:ur.outDated,document:e})),this.diagnostics.delete(r),this.forget(Lt.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,Tt.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Ey.LSPCancellationError)&&!Tt.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,Tt.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new Fe.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(r=>({uri:this.client.protocol2CodeConverter.asUri(r.uri),value:r.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,r=>{if(!(!r||this.isDisposed))for(let n of r.items)n.kind===_n.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(Lt.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(Lt.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(r,n,i)=>{let s=(a,u,c)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof Fe.Uri?a:a.uri)},previousResultId:u};return this.isDisposed===!0||!this.client.isRunning()?{kind:_n.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(Tt.DocumentDiagnosticRequest.type,l,c).then(async f=>f==null||this.isDisposed||c.isCancellationRequested?{kind:_n.DocumentDiagnosticReportKind.full,items:[]}:f.kind===Tt.DocumentDiagnosticReportKind.Full?{kind:_n.DocumentDiagnosticReportKind.full,resultId:f.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(f.items,c)}:{kind:_n.DocumentDiagnosticReportKind.unChanged,resultId:f.resultId},f=>this.client.handleFailedRequest(Tt.DocumentDiagnosticRequest.type,c,f,{kind:_n.DocumentDiagnosticReportKind.full,items:[]}))},o=this.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(r,n,i,s):s(r,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(r,n,i)=>{let s=async c=>c.kind===Tt.DocumentDiagnosticReportKind.Full?{kind:_n.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(c.uri),resultId:c.resultId,version:c.version,items:await this.client.protocol2CodeConverter.asDiagnostics(c.items,n)}:{kind:_n.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(c.uri),resultId:c.resultId,version:c.version},o=c=>{let l=[];for(let f of c)l.push({uri:this.client.code2ProtocolConverter.asUri(f.uri),value:f.value});return l},a=(c,l)=>{let f=(0,Lj.generateUuid)(),d=this.client.onProgress(Tt.WorkspaceDiagnosticRequest.partialResult,f,async p=>{if(p==null){i(null);return}let b={items:[]};for(let C of p.items)try{b.items.push(await s(C))}catch(D){this.client.error("Converting workspace diagnostics failed.",D)}i(b)}),g={identifier:this.options.identifier,previousResultIds:o(c),partialResultToken:f};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(Tt.WorkspaceDiagnosticRequest.type,g,l).then(async p=>{if(l.isCancellationRequested)return{items:[]};let b={items:[]};for(let C of p.items)b.items.push(await s(C));return d.dispose(),i(b),{items:[]}},p=>(d.dispose(),this.client.handleFailedRequest(Tt.DocumentDiagnosticRequest.type,l,p,{items:[]})))},u=this.client.middleware;return u.provideWorkspaceDiagnostics?u.provideWorkspaceDiagnostics(r,n,i,a):a(r,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,r]of this.openRequests)r.state===ur.active&&r.tokenSource.cancel(),this.openRequests.set(e,{state:ur.outDated,document:r.document});this.diagnostics.dispose()}},Oy=class{constructor(e){this.diagnosticRequestor=e,this.documents=new Tt.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let r=Fi.asKey(e);this.documents.has(r)||(this.documents.set(r,e,Tt.Touch.Last),this.trigger())}remove(e){let r=Fi.asKey(e);this.documents.delete(r),this.documents.size===0?this.stop():r===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,Tt.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let r=Fi.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(r,e,Tt.Touch.Last),r===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?Fi.asKey(this.endDocument):void 0}},xy=class{constructor(e,r,n){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},s=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),o=[],a=p=>{let b=n.documentSelector;if(i.match!==void 0)return i.match(b,p);for(let C of b)if(Tt.TextDocumentFilter.is(C)){if(typeof C=="string"||C.language!==void 0&&C.language!=="*"||C.scheme!==void 0&&C.scheme!=="*"&&C.scheme!==p.scheme)return!1;if(C.pattern!==void 0){let D=new Nj.Minimatch(C.pattern,{noext:!0});if(!D.makeRe()||!D.match(p.fsPath))return!1}}return!0},u=p=>p instanceof Fe.Uri?a(p):Fe.languages.match(s,p)>0&&r.isVisible(p),c=p=>p instanceof Fe.Uri?this.activeTextDocument?.uri.toString()===p.toString():this.activeTextDocument===p;this.diagnosticRequestor=new qy(e,r,n),this.backgroundScheduler=new Oy(this.diagnosticRequestor);let l=p=>{!u(p)||!n.interFileDependencies||c(p)||this.backgroundScheduler.add(p)};this.activeTextDocument=Fe.window.activeTextEditor?.document,Fe.window.onDidChangeActiveTextEditor(p=>{let b=this.activeTextDocument;this.activeTextDocument=p?.document,b!==void 0&&l(b),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let f=e.getFeature(Tt.DidOpenTextDocumentNotification.method);o.push(f.onNotificationSent(p=>{let b=p.textDocument;this.diagnosticRequestor.knows(Lt.document,b)||u(b)&&this.diagnosticRequestor.pull(b,()=>{l(b)})})),o.push(r.onOpen(p=>{for(let b of p){if(this.diagnosticRequestor.knows(Lt.document,b))continue;let C=b.toString(),D;for(let w of Fe.workspace.textDocuments)if(C===w.uri.toString()){D=w;break}D!==void 0&&u(D)&&this.diagnosticRequestor.pull(D,()=>{l(D)})}}));let d=new Set;for(let p of Fe.workspace.textDocuments)u(p)&&(this.diagnosticRequestor.pull(p,()=>{l(p)}),d.add(p.uri.toString()));if(i.onTabs===!0)for(let p of r.getTabResources())!d.has(p.toString())&&u(p)&&this.diagnosticRequestor.pull(p,()=>{l(p)});if(i.onChange===!0){let p=e.getFeature(Tt.DidChangeTextDocumentNotification.method);o.push(p.onNotificationSent(async b=>{let C=b.textDocument;(i.filter===void 0||!i.filter(C,ld.onType))&&this.diagnosticRequestor.knows(Lt.document,C)&&this.diagnosticRequestor.pull(C,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let p=e.getFeature(Tt.DidSaveTextDocumentNotification.method);o.push(p.onNotificationSent(b=>{let C=b.textDocument;(i.filter===void 0||!i.filter(C,ld.onSave))&&this.diagnosticRequestor.knows(Lt.document,C)&&this.diagnosticRequestor.pull(b.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let g=e.getFeature(Tt.DidCloseTextDocumentNotification.method);o.push(g.onNotificationSent(p=>{this.cleanUpDocument(p.textDocument)})),r.onClose(p=>{for(let b of p)this.cleanUpDocument(b)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let p of Fe.workspace.textDocuments)u(p)&&this.diagnosticRequestor.pull(p)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=Fe.Disposable.from(...o,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(Lt.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},My=class extends Ey.TextDocumentLanguageFeature{constructor(e){super(e,Tt.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let r=cd(cd(e,"textDocument"),"diagnostic");r.dynamicRegistration=!0,r.relatedDocumentSupport=!1,cd(cd(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,r){this._client.onRequest(Tt.DiagnosticRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeDiagnosticsEmitter.fire()});let[i,s]=this.getRegistration(r,e.diagnosticProvider);!i||!s||this.register({id:i,registerOptions:s})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new Ty);let r=new xy(this._client,this.tabs,e);return[r.disposable,r]}};as.DiagnosticFeature=My});var zE=_(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.NotebookDocumentSyncFeature=void 0;var cr=require("vscode"),jj=ud(),Ii=re(),$j=pt(),HE=gn();function UE(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var sa;(function(t){let e;(function(r){function n(d,g){return{version:d.version,uri:g.asUri(d.uri)}}r.asVersionedNotebookDocumentIdentifier=n;function i(d,g,p){let b=Ii.NotebookDocument.create(p.asUri(d.uri),d.notebookType,d.version,s(g,p));return Object.keys(d.metadata).length>0&&(b.metadata=o(d.metadata)),b}r.asNotebookDocument=i;function s(d,g){return d.map(p=>a(p,g))}r.asNotebookCells=s;function o(d){return c(new Set,d)}r.asMetadata=o;function a(d,g){let p=Ii.NotebookCell.create(u(d.kind),g.asUri(d.document.uri));return Object.keys(d.metadata).length>0&&(p.metadata=o(d.metadata)),d.executionSummary!==void 0&&HE.number(d.executionSummary.executionOrder)&&HE.boolean(d.executionSummary.success)&&(p.executionSummary={executionOrder:d.executionSummary.executionOrder,success:d.executionSummary.success}),p}r.asNotebookCell=a;function u(d){switch(d){case cr.NotebookCellKind.Markup:return Ii.NotebookCellKind.Markup;case cr.NotebookCellKind.Code:return Ii.NotebookCellKind.Code}}function c(d,g){if(d.has(g))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(g)){let p=[];for(let b of g)if(b!==null&&typeof b=="object"||Array.isArray(b))p.push(c(d,b));else{if(b instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");p.push(b)}return p}else{let p=Object.keys(g),b=Object.create(null);for(let C of p){let D=g[C];if(D!==null&&typeof D=="object"||Array.isArray(D))b[C]=c(d,D);else{if(D instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");b[C]=D}}return b}}function l(d,g){let p=g.asChangeTextDocumentParams(d,d.document.uri,d.document.version);return{document:p.textDocument,changes:p.contentChanges}}r.asTextContentChange=l;function f(d,g){let p=Object.create(null);if(d.metadata&&(p.metadata=t.c2p.asMetadata(d.metadata)),d.cells!==void 0){let b=Object.create(null),C=d.cells;C.structure&&(b.structure={array:{start:C.structure.array.start,deleteCount:C.structure.array.deleteCount,cells:C.structure.array.cells!==void 0?C.structure.array.cells.map(D=>t.c2p.asNotebookCell(D,g)):void 0},didOpen:C.structure.didOpen!==void 0?C.structure.didOpen.map(D=>g.asOpenTextDocumentParams(D.document).textDocument):void 0,didClose:C.structure.didClose!==void 0?C.structure.didClose.map(D=>g.asCloseTextDocumentParams(D.document).textDocument):void 0}),C.data!==void 0&&(b.data=C.data.map(D=>t.c2p.asNotebookCell(D,g))),C.textContent!==void 0&&(b.textContent=C.textContent.map(D=>t.c2p.asTextContentChange(D,g))),Object.keys(b).length>0&&(p.cells=b)}return p}r.asNotebookDocumentChangeEvent=f})(e=t.c2p||(t.c2p={}))})(sa||(sa={}));var Iy;(function(t){function e(a,u,c){let l=a.length,f=u.length,d=0;for(;d<f&&d<l&&r(a[d],u[d],c);)d++;if(d<f&&d<l){let g=l-1,p=f-1;for(;g>=0&&p>=0&&r(a[g],u[p],c);)g--,p--;let b=g+1-d,C=d===p+1?void 0:u.slice(d,p+1);return C!==void 0?{start:d,deleteCount:b,cells:C}:{start:d,deleteCount:b}}else return d<f?{start:d,deleteCount:0,cells:u.slice(d)}:d<l?{start:d,deleteCount:l-d}:void 0}t.computeDiff=e;function r(a,u,c=!0){return a.kind!==u.kind||a.document.uri.toString()!==u.document.uri.toString()||a.document.languageId!==u.document.languageId||!n(a.executionSummary,u.executionSummary)?!1:!c||c&&s(a.metadata,u.metadata)}function n(a,u){return a===u?!0:a===void 0||u===void 0?!1:a.executionOrder===u.executionOrder&&a.success===u.success&&i(a.timing,u.timing)}function i(a,u){return a===u?!0:a===void 0||u===void 0?!1:a.startTime===u.startTime&&a.endTime===u.endTime}function s(a,u){if(a===u)return!0;if(a==null||u===null||u===void 0||typeof a!=typeof u||typeof a!="object")return!1;let c=Array.isArray(a),l=Array.isArray(u);if(c!==l)return!1;if(c&&l){if(a.length!==u.length)return!1;for(let f=0;f<a.length;f++)if(!s(a[f],u[f]))return!1}if(o(a)&&o(u)){let f=Object.keys(a),d=Object.keys(u);if(f.length!==d.length||(f.sort(),d.sort(),!s(f,d)))return!1;for(let g=0;g<f.length;g++){let p=f[g];if(!s(a[p],u[p]))return!1}return!0}return!1}function o(a){return a!==null&&typeof a=="object"}t.isObjectLiteral=o})(Iy||(Iy={}));var ky;(function(t){function e(r,n){if(typeof r=="string")return r==="*"||n.notebookType===r;if(r.notebookType!==void 0&&r.notebookType!=="*"&&n.notebookType!==r.notebookType)return!1;let i=n.uri;if(r.scheme!==void 0&&r.scheme!=="*"&&i.scheme!==r.scheme)return!1;if(r.pattern!==void 0){let s=new jj.Minimatch(r.pattern,{noext:!0});if(!s.makeRe()||!s.match(i.fsPath))return!1}return!0}t.matchNotebook=e})(ky||(ky={}));var dd;(function(t){function e(n){let i=n.notebookSelector,s=[];for(let o of i){let a=(typeof o.notebook=="string"?o.notebook:o.notebook?.notebookType)??"*",u=typeof o.notebook=="string"?void 0:o.notebook?.scheme,c=typeof o.notebook=="string"?void 0:o.notebook?.pattern;if(o.cells!==void 0)for(let l of o.cells)s.push(r(a,u,c,l.language));else s.push(r(a,u,c,void 0))}return s}t.asDocumentSelector=e;function r(n,i,s,o){return i===void 0&&s===void 0?{notebook:n,language:o}:{notebook:{notebookType:n,scheme:i,pattern:s},language:o}}})(dd||(dd={}));var fd;(function(t){function e(r){return{cells:r,uris:new Set(r.map(n=>n.document.uri.toString()))}}t.create=e})(fd||(fd={}));var oa=class{constructor(e,r){this.client=e,this.options=r,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(dd.asDocumentSelector(r)),cr.workspace.onDidOpenNotebookDocument(n=>{this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n)},void 0,this.disposables);for(let n of cr.workspace.notebookDocuments)this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n);cr.workspace.onDidChangeNotebookDocument(n=>this.didChangeNotebookDocument(n),void 0,this.disposables),this.options.save===!0&&cr.workspace.onDidSaveNotebookDocument(n=>this.didSave(n),void 0,this.disposables),cr.workspace.onDidCloseNotebookDocument(n=>{this.didClose(n),this.notebookDidOpen.delete(n.uri.toString())},void 0,this.disposables)}getState(){for(let e of cr.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return cr.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,r){if(cr.languages.match(this.selector,r.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,r);if(n!==void 0){let s=n.uris.has(r.document.uri.toString());if(i&&s||!i&&!s)return;if(i){let o=this.getMatchingCells(e);if(o!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,o);a!==void 0&&this.doSendChange(a,o).catch(()=>{})}}}else i&&this.doSendOpen(e,[r]).catch(()=>{})}didChangeNotebookCellTextDocument(e,r){cr.languages.match(this.selector,r.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[r]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,r){let n=this.notebookSyncInfo.get(e.uri.toString());if(n===void 0)return;let i=r.document.uri,s=n.cells.findIndex(o=>o.document.uri.toString()===i.toString());if(s!==-1)if(s===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let o=n.cells.slice(),a=o.splice(s,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:s,deleteCount:1},didClose:a}}},o).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,r=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(n!==void 0)if(r!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,r);i!==void 0&&this.doSendChange(i,r).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(r===void 0)return;this.doSendOpen(e,r).catch(()=>{})}}didChangeNotebookDocument(e){let r=e.notebook,n=this.notebookSyncInfo.get(r.uri.toString());if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(r);if(i===void 0)return;this.didOpen(r,i,n)}else{let i=this.getMatchingCells(r);if(i===void 0){this.didClose(r,n);return}let s=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);s!==void 0&&this.doSendChange(s,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,r=this.notebookSyncInfo.get(e.uri.toString())){if(r===void 0)return;let n=e.getCells().filter(i=>r.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){let r=this.getMatchingCells(e);if(r!==void 0)return this.doSendOpen(e,r)}async doSendOpen(e,r){let n=async(s,o)=>{let a=sa.c2p.asNotebookDocument(s,o,this.client.code2ProtocolConverter),u=o.map(c=>this.client.code2ProtocolConverter.asTextDocumentItem(c.document));try{await this.client.sendNotification(Ii.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:u})}catch(c){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",c),c}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),fd.create(r)),i?.didOpen!==void 0?i.didOpen(e,r,n):n(e,r)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,r=this.getMatchingCells(e.notebook)){let n=async s=>{try{await this.client.sendNotification(Ii.DidChangeNotebookDocumentNotification.type,{notebookDocument:sa.c2p.asVersionedNotebookDocumentIdentifier(s.notebook,this.client.code2ProtocolConverter),change:sa.c2p.asNotebookDocumentChangeEvent(s,this.client.code2ProtocolConverter)})}catch(o){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",o),o}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),fd.create(r??[])),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let r=async i=>{try{await this.client.sendNotification(Ii.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(s){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",s),s}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,r):r(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,r){let n=async(s,o)=>{try{await this.client.sendNotification(Ii.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)},cellTextDocuments:o.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,r,n):n(e,r)}asNotebookDocumentChangeEvent(e,r,n,i){if(r!==void 0&&r.notebook!==e)throw new Error("Notebook must be identical");let s={notebook:e};r?.metadata!==void 0&&(s.metadata=sa.c2p.asMetadata(r.metadata));let o;if(r?.cellChanges!==void 0&&r.cellChanges.length>0){let a=[];o=new Set(i.map(u=>u.document.uri.toString()));for(let u of r.cellChanges)o.has(u.cell.document.uri.toString())&&(u.executionSummary!==void 0||u.metadata!==void 0)&&a.push(u.cell);a.length>0&&(s.cells=s.cells??{},s.cells.data=a)}if((r?.contentChanges!==void 0&&r.contentChanges.length>0||r===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,u=i,c=Iy.computeDiff(a,u,!1),l,f;if(c!==void 0){l=c.cells===void 0?new Map:new Map(c.cells.map(p=>[p.document.uri.toString(),p])),f=c.deleteCount===0?new Map:new Map(a.slice(c.start,c.start+c.deleteCount).map(p=>[p.document.uri.toString(),p]));for(let p of Array.from(f.keys()))l.has(p)&&(f.delete(p),l.delete(p));s.cells=s.cells??{};let d=[],g=[];if(l.size>0||f.size>0){for(let p of l.values())d.push(p);for(let p of f.values())g.push(p)}s.cells.structure={array:c,didOpen:d,didClose:g}}}return Object.keys(s).length>1?s:void 0}getMatchingCells(e,r=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||ky.matchNotebook(n.notebook,e)){let i=this.filterCells(e,r,n.cells);return i.length===0?void 0:i}}}cellMatches(e,r){let n=this.getMatchingCells(e,[r]);return n!==void 0&&n[0]===r}filterCells(e,r,n){let i=n!==void 0?r.filter(s=>{let o=s.document.languageId;return n.some(a=>a.language==="*"||o===a.language)}):r;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},hd=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Ii.NotebookDocumentSyncRegistrationType.type,cr.workspace.onDidOpenTextDocument(r=>{if(r.uri.scheme!==t.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(r);if(!(n===void 0||i===void 0))for(let s of this.registrations.values())s instanceof oa&&s.didOpenNotebookCellTextDocument(n,i)}),cr.workspace.onDidChangeTextDocument(r=>{if(r.contentChanges.length===0)return;let n=r.document;if(n.uri.scheme!==t.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(n);if(i!==void 0)for(let s of this.registrations.values())s instanceof oa&&s.didChangeNotebookCellTextDocument(i,r)}),cr.workspace.onDidCloseTextDocument(r=>{if(r.uri.scheme!==t.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(r);if(!(n===void 0||i===void 0))for(let s of this.registrations.values())s instanceof oa&&s.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let r=e.getState();if(r.kind==="document"&&r.registrations===!0&&r.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let r=UE(UE(e,"notebookDocument"),"synchronization");r.dynamicRegistration=!0,r.executionSummarySupport=!0}preInitialize(e){let r=e.notebookDocumentSync;r!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(dd.asDocumentSelector(r)))}initialize(e){let r=e.notebookDocumentSync;if(r===void 0)return;let n=r.id??$j.generateUuid();this.register({id:n,registerOptions:r})}register(e){let r=new oa(this.client,e.registerOptions);this.registrations.set(e.id,r)}unregister(e){let r=this.registrations.get(e);r&&r.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&cr.languages.match(this.dedicatedChannel,e)>0)return!0;for(let r of this.registrations.values())if(r.handles(e))return!0;return!1}getProvider(e){for(let r of this.registrations.values())if(r.handles(e.document))return r}findNotebookDocumentAndCell(e){let r=e.uri.toString();for(let n of cr.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===r)return[n,i];return[void 0,void 0]}};gd.NotebookDocumentSyncFeature=hd;hd.CellScheme="vscode-notebook-cell"});var BE=_(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.SyncConfigurationFeature=us.toJSONObject=us.ConfigurationFeature=void 0;var aa=require("vscode"),ku=re(),Wj=gn(),Hj=pt(),KE=Le(),Ay=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(ku.ConfigurationRequest.type,(r,n)=>{let i=o=>{let a=[];for(let u of o.items){let c=u.scopeUri!==void 0&&u.scopeUri!==null?this._client.protocol2CodeConverter.asUri(u.scopeUri):void 0;a.push(this.getConfiguration(c,u.section!==null?u.section:void 0))}return a},s=e.middleware.workspace;return s&&s.configuration?s.configuration(r,n,i):i(r,n)})}getConfiguration(e,r){let n=null;if(r){let i=r.lastIndexOf(".");if(i===-1)n=eo(aa.workspace.getConfiguration(void 0,e).get(r));else{let s=aa.workspace.getConfiguration(r.substr(0,i),e);s&&(n=eo(s.get(r.substr(i+1))))}}else{let i=aa.workspace.getConfiguration(void 0,e);n={};for(let s of Object.keys(i))i.has(s)&&(n[s]=eo(i.get(s)))}return n===void 0&&(n=null),n}clear(){}};us.ConfigurationFeature=Ay;function eo(t){if(t){if(Array.isArray(t))return t.map(eo);if(typeof t=="object"){let e=Object.create(null);for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=eo(t[r]));return e}}return t}us.toJSONObject=eo;var Ny=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return ku.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,KE.ensure)((0,KE.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:Hj.generateUuid(),registerOptions:{section:e}})}register(e){let r=aa.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,r),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let r=this._listeners.get(e);r&&(this._listeners.delete(e),r.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,r){if(this.isCleared)return;let n;if(Wj.string(e)?n=[e]:n=e,n!==void 0&&r!==void 0&&!n.some(a=>r.affectsConfiguration(a)))return;let i=async o=>o===void 0?this._client.sendNotification(ku.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(ku.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)}),s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(n,i):i(n)).catch(o=>{this._client.error(`Sending notification ${ku.DidChangeConfigurationNotification.type.method} failed`,o)})}extractSettingsInformation(e){function r(s,o){let a=s;for(let u=0;u<o.length-1;u++){let c=a[o[u]];c||(c=Object.create(null),a[o[u]]=c),a=c}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),u=null;if(a>=0?u=aa.workspace.getConfiguration(o.substr(0,a),n).get(o.substr(a+1)):u=aa.workspace.getConfiguration(void 0,n).get(o),u){let c=e[s].split(".");r(i,c)[c[c.length-1]]=eo(u)}}return i}};us.SyncConfigurationFeature=Ny});var VE=_($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.DidSaveTextDocumentFeature=$r.WillSaveWaitUntilFeature=$r.WillSaveFeature=$r.DidChangeTextDocumentFeature=$r.DidCloseTextDocumentFeature=$r.DidOpenTextDocumentFeature=void 0;var un=require("vscode"),it=re(),bt=Le(),ua=pt(),Ly=class extends bt.TextDocumentEventFeature{constructor(e,r){super(e,un.workspace.onDidOpenTextDocument,it.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,bt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=r}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,bt.ensure)((0,bt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.openClose&&this.register({id:ua.generateUuid(),registerOptions:{documentSelector:r}})}get registrationType(){return it.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let r=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);un.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&un.languages.match(r,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));(s.didOpen?s.didOpen(n,o):o(n)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,n)}})}getTextDocument(e){return e}notificationSent(e,r,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,r,n)}};$r.DidOpenTextDocumentFeature=Ly;var jy=class extends bt.TextDocumentEventFeature{constructor(e,r,n){super(e,un.workspace.onDidCloseTextDocument,it.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,bt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=r,this._pendingTextDocumentChanges=n}get registrationType(){return it.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,bt.ensure)((0,bt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.openClose&&this.register({id:ua.generateUuid(),registerOptions:{documentSelector:r}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,r,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,r,n)}unregister(e){let r=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(un.languages.match(r,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(s.didClose?s.didClose(i,o):o(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};$r.DidCloseTextDocumentFeature=jy;var $y=class extends bt.DynamicDocumentFeature{constructor(e,r){super(e),this._changeData=new Map,this._onNotificationSent=new un.EventEmitter,this._onPendingChangeAdded=new un.EventEmitter,this._pendingTextDocumentChanges=r,this._syncKind=it.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return it.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,bt.ensure)((0,bt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.change!==void 0&&n.change!==it.TextDocumentSyncKind.None&&this.register({id:ua.generateUuid(),registerOptions:Object.assign({},{documentSelector:r},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=un.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let r=e.document.uri,n=e.document.version,i=[];for(let s of this._changeData.values())if(un.languages.match(s.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let o=this._client.middleware;if(s.syncKind===it.TextDocumentSyncKind.Incremental){let a=async u=>{let c=this._client.code2ProtocolConverter.asChangeTextDocumentParams(u,r,n);await this._client.sendNotification(it.DidChangeTextDocumentNotification.type,c),this.notificationSent(u.document,it.DidChangeTextDocumentNotification.type,c)};i.push(o.didChange?o.didChange(e,u=>a(u)):a(e))}else if(s.syncKind===it.TextDocumentSyncKind.Full){let a=async u=>{let c=u.document.uri.toString();this._pendingTextDocumentChanges.set(c,u.document),this._onPendingChangeAdded.fire()};i.push(o.didChange?o.didChange(e,u=>a(u)):a(e))}}return Promise.all(i).then(void 0,s=>{throw this._client.error(`Sending document notification ${it.DidChangeTextDocumentNotification.type.method} failed`,s),s})}notificationSent(e,r,n){this._onNotificationSent.fire({textDocument:e,type:r,params:n})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=it.TextDocumentSyncKind.None;else{this._syncKind=it.TextDocumentSyncKind.None;for(let r of this._changeData.values())if(this.updateSyncKind(r.syncKind),this._syncKind===it.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=it.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let r;if(e.size===0)r=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{r=[];for(let n of this._pendingTextDocumentChanges)e.has(n[0])||(r.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return r}getProvider(e){for(let r of this._changeData.values())if(un.languages.match(r.documentSelector,e)>0)return{send:n=>this.callback(n)}}updateSyncKind(e){if(this._syncKind!==it.TextDocumentSyncKind.Full)switch(e){case it.TextDocumentSyncKind.Full:this._syncKind=e;break;case it.TextDocumentSyncKind.Incremental:this._syncKind===it.TextDocumentSyncKind.None&&(this._syncKind=it.TextDocumentSyncKind.Incremental);break}}};$r.DidChangeTextDocumentFeature=$y;var Wy=class extends bt.TextDocumentEventFeature{constructor(e){super(e,un.workspace.onWillSaveTextDocument,it.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,r=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(r),r=>r.document,(r,n)=>bt.TextDocumentEventFeature.textDocumentFilter(r,n.document))}get registrationType(){return it.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let r=(0,bt.ensure)((0,bt.ensure)(e,"textDocument"),"synchronization");r.willSave=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.willSave&&this.register({id:ua.generateUuid(),registerOptions:{documentSelector:r}})}getTextDocument(e){return e.document}};$r.WillSaveFeature=Wy;var Hy=class extends bt.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return it.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let r=(0,bt.ensure)((0,bt.ensure)(e,"textDocument"),"synchronization");r.willSaveWaitUntil=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.willSaveWaitUntil&&this.register({id:ua.generateUuid(),registerOptions:{documentSelector:r}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=un.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(bt.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let r=this._client.middleware,n=i=>this._client.sendRequest(it.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async s=>{let o=await this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(r.willSaveWaitUntil?r.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};$r.WillSaveWaitUntilFeature=Hy;var Uy=class extends bt.TextDocumentEventFeature{constructor(e){super(e,un.workspace.onDidSaveTextDocument,it.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,r=>e.code2ProtocolConverter.asSaveTextDocumentParams(r,this._includeText),r=>r,bt.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return it.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,bt.ensure)((0,bt.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;if(r&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:ua.generateUuid(),registerOptions:Object.assign({},{documentSelector:r},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};$r.DidSaveTextDocumentFeature=Uy});var GE=_(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.CompletionItemFeature=void 0;var Uj=require("vscode"),Ie=re(),zy=Le(),zj=pt(),Kj=[Ie.CompletionItemKind.Text,Ie.CompletionItemKind.Method,Ie.CompletionItemKind.Function,Ie.CompletionItemKind.Constructor,Ie.CompletionItemKind.Field,Ie.CompletionItemKind.Variable,Ie.CompletionItemKind.Class,Ie.CompletionItemKind.Interface,Ie.CompletionItemKind.Module,Ie.CompletionItemKind.Property,Ie.CompletionItemKind.Unit,Ie.CompletionItemKind.Value,Ie.CompletionItemKind.Enum,Ie.CompletionItemKind.Keyword,Ie.CompletionItemKind.Snippet,Ie.CompletionItemKind.Color,Ie.CompletionItemKind.File,Ie.CompletionItemKind.Reference,Ie.CompletionItemKind.Folder,Ie.CompletionItemKind.EnumMember,Ie.CompletionItemKind.Constant,Ie.CompletionItemKind.Struct,Ie.CompletionItemKind.Event,Ie.CompletionItemKind.Operator,Ie.CompletionItemKind.TypeParameter],Ky=class extends zy.TextDocumentLanguageFeature{constructor(e){super(e,Ie.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let r=(0,zy.ensure)((0,zy.ensure)(e,"textDocument"),"completion");r.dynamicRegistration=!0,r.contextSupport=!0,r.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Ie.MarkupKind.Markdown,Ie.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Ie.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Ie.InsertTextMode.asIs,Ie.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},r.insertTextMode=Ie.InsertTextMode.adjustIndentation,r.completionItemKind={valueSet:Kj},r.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,r){let n=this.getRegistrationOptions(r,e.completionProvider);n&&this.register({id:zj.generateUuid(),registerOptions:n})}registerLanguageProvider(e,r){this.labelDetailsSupport.set(r,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,s=e.documentSelector,o={provideCompletionItems:(a,u,c,l)=>{let f=this._client,d=this._client.middleware,g=(p,b,C,D)=>f.sendRequest(Ie.CompletionRequest.type,f.code2ProtocolConverter.asCompletionParams(p,b,C),D).then(w=>D.isCancellationRequested?null:f.protocol2CodeConverter.asCompletionResult(w,i,D),w=>f.handleFailedRequest(Ie.CompletionRequest.type,D,w,null));return d.provideCompletionItem?d.provideCompletionItem(a,u,l,c,g):g(a,u,l,c)},resolveCompletionItem:e.resolveProvider?(a,u)=>{let c=this._client,l=this._client.middleware,f=(d,g)=>c.sendRequest(Ie.CompletionResolveRequest.type,c.code2ProtocolConverter.asCompletionItem(d,!!this.labelDetailsSupport.get(r)),g).then(p=>g.isCancellationRequested?null:c.protocol2CodeConverter.asCompletionItem(p),p=>c.handleFailedRequest(Ie.CompletionResolveRequest.type,g,p,d));return l.resolveCompletionItem?l.resolveCompletionItem(a,u,f):f(a,u)}:void 0};return[Uj.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),o,...n),o]}};pd.CompletionItemFeature=Ky});var YE=_(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.HoverFeature=void 0;var Bj=require("vscode"),Au=re(),By=Le(),Vj=pt(),Vy=class extends By.TextDocumentLanguageFeature{constructor(e){super(e,Au.HoverRequest.type)}fillClientCapabilities(e){let r=(0,By.ensure)((0,By.ensure)(e,"textDocument"),"hover");r.dynamicRegistration=!0,r.contentFormat=[Au.MarkupKind.Markdown,Au.MarkupKind.PlainText]}initialize(e,r){let n=this.getRegistrationOptions(r,e.hoverProvider);n&&this.register({id:Vj.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideHover:(i,s,o)=>{let a=this._client,u=(l,f,d)=>a.sendRequest(Au.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,f),d).then(g=>d.isCancellationRequested?null:a.protocol2CodeConverter.asHover(g),g=>a.handleFailedRequest(Au.HoverRequest.type,d,g,null)),c=a.middleware;return c.provideHover?c.provideHover(i,s,o,u):u(i,s,o)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return Bj.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};md.HoverFeature=Vy});var XE=_(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.DefinitionFeature=void 0;var Gj=require("vscode"),Gy=re(),Yy=Le(),Yj=pt(),Xy=class extends Yy.TextDocumentLanguageFeature{constructor(e){super(e,Gy.DefinitionRequest.type)}fillClientCapabilities(e){let r=(0,Yy.ensure)((0,Yy.ensure)(e,"textDocument"),"definition");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.definitionProvider);n&&this.register({id:Yj.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDefinition:(i,s,o)=>{let a=this._client,u=(l,f,d)=>a.sendRequest(Gy.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,f),d).then(g=>d.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(g,d),g=>a.handleFailedRequest(Gy.DefinitionRequest.type,d,g,null)),c=a.middleware;return c.provideDefinition?c.provideDefinition(i,s,o,u):u(i,s,o)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return Gj.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};yd.DefinitionFeature=Xy});var QE=_(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.SignatureHelpFeature=void 0;var JE=require("vscode"),Nu=re(),Jy=Le(),Xj=pt(),Qy=class extends Jy.TextDocumentLanguageFeature{constructor(e){super(e,Nu.SignatureHelpRequest.type)}fillClientCapabilities(e){let r=(0,Jy.ensure)((0,Jy.ensure)(e,"textDocument"),"signatureHelp");r.dynamicRegistration=!0,r.signatureInformation={documentationFormat:[Nu.MarkupKind.Markdown,Nu.MarkupKind.PlainText]},r.signatureInformation.parameterInformation={labelOffsetSupport:!0},r.signatureInformation.activeParameterSupport=!0,r.contextSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.signatureHelpProvider);n&&this.register({id:Xj.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideSignatureHelp:(n,i,s,o)=>{let a=this._client,u=(l,f,d,g)=>a.sendRequest(Nu.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,f,d),g).then(p=>g.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(p,g),p=>a.handleFailedRequest(Nu.SignatureHelpRequest.type,g,p,null)),c=a.middleware;return c.provideSignatureHelp?c.provideSignatureHelp(n,i,o,s,u):u(n,i,o,s)}};return[this.registerProvider(e,r),r]}registerProvider(e,r){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return JE.languages.registerSignatureHelpProvider(n,r,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return JE.languages.registerSignatureHelpProvider(n,r,i)}}};vd.SignatureHelpFeature=Qy});var ZE=_(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.DocumentHighlightFeature=void 0;var Jj=require("vscode"),Zy=re(),ev=Le(),Qj=pt(),tv=class extends ev.TextDocumentLanguageFeature{constructor(e){super(e,Zy.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,ev.ensure)((0,ev.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentHighlightProvider);n&&this.register({id:Qj.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentHighlights:(i,s,o)=>{let a=this._client,u=(l,f,d)=>a.sendRequest(Zy.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,f),d).then(g=>d.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(g,d),g=>a.handleFailedRequest(Zy.DocumentHighlightRequest.type,d,g,null)),c=a.middleware;return c.provideDocumentHighlights?c.provideDocumentHighlights(i,s,o,u):u(i,s,o)}};return[Jj.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};_d.DocumentHighlightFeature=tv});var iv=_(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.DocumentSymbolFeature=di.SupportedSymbolTags=di.SupportedSymbolKinds=void 0;var Zj=require("vscode"),Ge=re(),rv=Le(),e2=pt();di.SupportedSymbolKinds=[Ge.SymbolKind.File,Ge.SymbolKind.Module,Ge.SymbolKind.Namespace,Ge.SymbolKind.Package,Ge.SymbolKind.Class,Ge.SymbolKind.Method,Ge.SymbolKind.Property,Ge.SymbolKind.Field,Ge.SymbolKind.Constructor,Ge.SymbolKind.Enum,Ge.SymbolKind.Interface,Ge.SymbolKind.Function,Ge.SymbolKind.Variable,Ge.SymbolKind.Constant,Ge.SymbolKind.String,Ge.SymbolKind.Number,Ge.SymbolKind.Boolean,Ge.SymbolKind.Array,Ge.SymbolKind.Object,Ge.SymbolKind.Key,Ge.SymbolKind.Null,Ge.SymbolKind.EnumMember,Ge.SymbolKind.Struct,Ge.SymbolKind.Event,Ge.SymbolKind.Operator,Ge.SymbolKind.TypeParameter];di.SupportedSymbolTags=[Ge.SymbolTag.Deprecated];var nv=class extends rv.TextDocumentLanguageFeature{constructor(e){super(e,Ge.DocumentSymbolRequest.type)}fillClientCapabilities(e){let r=(0,rv.ensure)((0,rv.ensure)(e,"textDocument"),"documentSymbol");r.dynamicRegistration=!0,r.symbolKind={valueSet:di.SupportedSymbolKinds},r.hierarchicalDocumentSymbolSupport=!0,r.tagSupport={valueSet:di.SupportedSymbolTags},r.labelSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentSymbolProvider);n&&this.register({id:e2.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentSymbols:(s,o)=>{let a=this._client,u=async(l,f)=>{try{let d=await a.sendRequest(Ge.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),f);if(f.isCancellationRequested||d===void 0||d===null)return null;if(d.length===0)return[];{let g=d[0];return Ge.DocumentSymbol.is(g)?await a.protocol2CodeConverter.asDocumentSymbols(d,f):await a.protocol2CodeConverter.asSymbolInformations(d,f)}}catch(d){return a.handleFailedRequest(Ge.DocumentSymbolRequest.type,f,d,null)}},c=a.middleware;return c.provideDocumentSymbols?c.provideDocumentSymbols(s,o,u):u(s,o)}},i=e.label!==void 0?{label:e.label}:void 0;return[Zj.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n,i),n]}};di.DocumentSymbolFeature=nv});var tT=_(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.WorkspaceSymbolFeature=void 0;var t2=require("vscode"),Lu=re(),sv=Le(),eT=iv(),r2=pt(),ov=class extends sv.WorkspaceFeature{constructor(e){super(e,Lu.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let r=(0,sv.ensure)((0,sv.ensure)(e,"workspace"),"symbol");r.dynamicRegistration=!0,r.symbolKind={valueSet:eT.SupportedSymbolKinds},r.tagSupport={valueSet:eT.SupportedSymbolTags},r.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:r2.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let r={provideWorkspaceSymbols:(n,i)=>{let s=this._client,o=(u,c)=>s.sendRequest(Lu.WorkspaceSymbolRequest.type,{query:u},c).then(l=>c.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformations(l,c),l=>s.handleFailedRequest(Lu.WorkspaceSymbolRequest.type,c,l,null)),a=s.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,o):o(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let s=this._client,o=(u,c)=>s.sendRequest(Lu.WorkspaceSymbolResolveRequest.type,s.code2ProtocolConverter.asWorkspaceSymbol(u),c).then(l=>c.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformation(l),l=>s.handleFailedRequest(Lu.WorkspaceSymbolResolveRequest.type,c,l,null)),a=s.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,o):o(n,i)}:void 0};return[t2.languages.registerWorkspaceSymbolProvider(r),r]}};bd.WorkspaceSymbolFeature=ov});var rT=_(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.ReferencesFeature=void 0;var n2=require("vscode"),av=re(),uv=Le(),i2=pt(),cv=class extends uv.TextDocumentLanguageFeature{constructor(e){super(e,av.ReferencesRequest.type)}fillClientCapabilities(e){(0,uv.ensure)((0,uv.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.referencesProvider);n&&this.register({id:i2.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideReferences:(i,s,o,a)=>{let u=this._client,c=(f,d,g,p)=>u.sendRequest(av.ReferencesRequest.type,u.code2ProtocolConverter.asReferenceParams(f,d,g),p).then(b=>p.isCancellationRequested?null:u.protocol2CodeConverter.asReferences(b,p),b=>u.handleFailedRequest(av.ReferencesRequest.type,p,b,null)),l=u.middleware;return l.provideReferences?l.provideReferences(i,s,o,a,c):c(i,s,o,a)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return n2.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};wd.ReferencesFeature=cv});var nT=_(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.CodeActionFeature=void 0;var s2=require("vscode"),cn=re(),o2=pt(),lv=Le(),dv=class extends lv.TextDocumentLanguageFeature{constructor(e){super(e,cn.CodeActionRequest.type)}fillClientCapabilities(e){let r=(0,lv.ensure)((0,lv.ensure)(e,"textDocument"),"codeAction");r.dynamicRegistration=!0,r.isPreferredSupport=!0,r.disabledSupport=!0,r.dataSupport=!0,r.resolveSupport={properties:["edit"]},r.codeActionLiteralSupport={codeActionKind:{valueSet:[cn.CodeActionKind.Empty,cn.CodeActionKind.QuickFix,cn.CodeActionKind.Refactor,cn.CodeActionKind.RefactorExtract,cn.CodeActionKind.RefactorInline,cn.CodeActionKind.RefactorRewrite,cn.CodeActionKind.Source,cn.CodeActionKind.SourceOrganizeImports]}},r.honorsChangeAnnotations=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.codeActionProvider);n&&this.register({id:o2.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideCodeActions:(i,s,o,a)=>{let u=this._client,c=async(f,d,g,p)=>{let b={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(d),context:u.code2ProtocolConverter.asCodeActionContextSync(g)};return u.sendRequest(cn.CodeActionRequest.type,b,p).then(C=>p.isCancellationRequested||C===null||C===void 0?null:u.protocol2CodeConverter.asCodeActionResult(C,p),C=>u.handleFailedRequest(cn.CodeActionRequest.type,p,C,null))},l=u.middleware;return l.provideCodeActions?l.provideCodeActions(i,s,o,a,c):c(i,s,o,a)},resolveCodeAction:e.resolveProvider?(i,s)=>{let o=this._client,a=this._client.middleware,u=async(c,l)=>o.sendRequest(cn.CodeActionResolveRequest.type,o.code2ProtocolConverter.asCodeActionSync(c),l).then(f=>l.isCancellationRequested?c:o.protocol2CodeConverter.asCodeAction(f,l),f=>o.handleFailedRequest(cn.CodeActionResolveRequest.type,l,f,c));return a.resolveCodeAction?a.resolveCodeAction(i,s,u):u(i,s)}:void 0};return[s2.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}};Sd.CodeActionFeature=dv});var sT=_(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.CodeLensFeature=void 0;var iT=require("vscode"),ca=re(),a2=pt(),ju=Le(),fv=class extends ju.TextDocumentLanguageFeature{constructor(e){super(e,ca.CodeLensRequest.type)}fillClientCapabilities(e){(0,ju.ensure)((0,ju.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,ju.ensure)((0,ju.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,r){this._client.onRequest(ca.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(r,e.codeLensProvider);i&&this.register({id:a2.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new iT.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(s,o)=>{let a=this._client,u=(l,f)=>a.sendRequest(ca.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),f).then(d=>f.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(d,f),d=>a.handleFailedRequest(ca.CodeLensRequest.type,f,d,null)),c=a.middleware;return c.provideCodeLenses?c.provideCodeLenses(s,o,u):u(s,o)},resolveCodeLens:e.resolveProvider?(s,o)=>{let a=this._client,u=(l,f)=>a.sendRequest(ca.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),f).then(d=>f.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(d),d=>a.handleFailedRequest(ca.CodeLensResolveRequest.type,f,d,l)),c=a.middleware;return c.resolveCodeLens?c.resolveCodeLens(s,o,u):u(s,o)}:void 0};return[iT.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};Rd.CodeLensFeature=fv});var oT=_(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.DocumentOnTypeFormattingFeature=cs.DocumentRangeFormattingFeature=cs.DocumentFormattingFeature=void 0;var Cd=require("vscode"),Wn=re(),mv=pt(),ki=Le(),la;(function(t){function e(r){let n=Cd.workspace.getConfiguration("files",r);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}t.fromConfiguration=e})(la||(la={}));var hv=class extends ki.TextDocumentLanguageFeature{constructor(e){super(e,Wn.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,ki.ensure)((0,ki.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentFormattingProvider);n&&this.register({id:mv.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentFormattingEdits:(i,s,o)=>{let a=this._client,u=(l,f,d)=>{let g={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(f,la.fromConfiguration(l))};return a.sendRequest(Wn.DocumentFormattingRequest.type,g,d).then(p=>d.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(p,d),p=>a.handleFailedRequest(Wn.DocumentFormattingRequest.type,d,p,null))},c=a.middleware;return c.provideDocumentFormattingEdits?c.provideDocumentFormattingEdits(i,s,o,u):u(i,s,o)}};return[Cd.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};cs.DocumentFormattingFeature=hv;var gv=class extends ki.TextDocumentLanguageFeature{constructor(e){super(e,Wn.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let r=(0,ki.ensure)((0,ki.ensure)(e,"textDocument"),"rangeFormatting");r.dynamicRegistration=!0,r.rangesSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentRangeFormattingProvider);n&&this.register({id:mv.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,s,o,a)=>{let u=this._client,c=(f,d,g,p)=>{let b={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(d),options:u.code2ProtocolConverter.asFormattingOptions(g,la.fromConfiguration(f))};return u.sendRequest(Wn.DocumentRangeFormattingRequest.type,b,p).then(C=>p.isCancellationRequested?null:u.protocol2CodeConverter.asTextEdits(C,p),C=>u.handleFailedRequest(Wn.DocumentRangeFormattingRequest.type,p,C,null))},l=u.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,s,o,a,c):c(i,s,o,a)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(i,s,o,a)=>{let u=this._client,c=(f,d,g,p)=>{let b={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),ranges:u.code2ProtocolConverter.asRanges(d),options:u.code2ProtocolConverter.asFormattingOptions(g,la.fromConfiguration(f))};return u.sendRequest(Wn.DocumentRangesFormattingRequest.type,b,p).then(C=>p.isCancellationRequested?null:u.protocol2CodeConverter.asTextEdits(C,p),C=>u.handleFailedRequest(Wn.DocumentRangesFormattingRequest.type,p,C,null))},l=u.middleware;return l.provideDocumentRangesFormattingEdits?l.provideDocumentRangesFormattingEdits(i,s,o,a,c):c(i,s,o,a)}),[Cd.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};cs.DocumentRangeFormattingFeature=gv;var pv=class extends ki.TextDocumentLanguageFeature{constructor(e){super(e,Wn.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,ki.ensure)((0,ki.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentOnTypeFormattingProvider);n&&this.register({id:mv.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideOnTypeFormattingEdits:(s,o,a,u,c)=>{let l=this._client,f=(g,p,b,C,D)=>{let w={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(g),position:l.code2ProtocolConverter.asPosition(p),ch:b,options:l.code2ProtocolConverter.asFormattingOptions(C,la.fromConfiguration(g))};return l.sendRequest(Wn.DocumentOnTypeFormattingRequest.type,w,D).then(S=>D.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(S,D),S=>l.handleFailedRequest(Wn.DocumentOnTypeFormattingRequest.type,D,S,null))},d=l.middleware;return d.provideOnTypeFormattingEdits?d.provideOnTypeFormattingEdits(s,o,a,u,c,f):f(s,o,a,u,c)}},i=e.moreTriggerCharacter||[];return[Cd.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n,e.firstTriggerCharacter,...i),n]}};cs.DocumentOnTypeFormattingFeature=pv});var uT=_(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.RenameFeature=void 0;var u2=require("vscode"),to=re(),c2=pt(),aT=gn(),yv=Le(),vv=class extends yv.TextDocumentLanguageFeature{constructor(e){super(e,to.RenameRequest.type)}fillClientCapabilities(e){let r=(0,yv.ensure)((0,yv.ensure)(e,"textDocument"),"rename");r.dynamicRegistration=!0,r.prepareSupport=!0,r.prepareSupportDefaultBehavior=to.PrepareSupportDefaultBehavior.Identifier,r.honorsChangeAnnotations=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.renameProvider);n&&(aT.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:c2.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let r=e.documentSelector,n={provideRenameEdits:(i,s,o,a)=>{let u=this._client,c=(f,d,g,p)=>{let b={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),position:u.code2ProtocolConverter.asPosition(d),newName:g};return u.sendRequest(to.RenameRequest.type,b,p).then(C=>p.isCancellationRequested?null:u.protocol2CodeConverter.asWorkspaceEdit(C,p),C=>u.handleFailedRequest(to.RenameRequest.type,p,C,null,!1))},l=u.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,s,o,a,c):c(i,s,o,a)},prepareRename:e.prepareProvider?(i,s,o)=>{let a=this._client,u=(l,f,d)=>{let g={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(f)};return a.sendRequest(to.PrepareRenameRequest.type,g,d).then(p=>d.isCancellationRequested?null:to.Range.is(p)?a.protocol2CodeConverter.asRange(p):this.isDefaultBehavior(p)?p.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):p&&to.Range.is(p.range)?{range:a.protocol2CodeConverter.asRange(p.range),placeholder:p.placeholder}:Promise.reject(new Error("The element can't be renamed.")),p=>{throw typeof p.message=="string"?new Error(p.message):new Error("The element can't be renamed.")})},c=a.middleware;return c.prepareRename?c.prepareRename(i,s,o,u):u(i,s,o)}:void 0};return[this.registerProvider(r,n),n]}registerProvider(e,r){return u2.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}isDefaultBehavior(e){let r=e;return r&&aT.boolean(r.defaultBehavior)}};Dd.RenameFeature=vv});var cT=_(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.DocumentLinkFeature=void 0;var l2=require("vscode"),$u=re(),_v=Le(),d2=pt(),bv=class extends _v.TextDocumentLanguageFeature{constructor(e){super(e,$u.DocumentLinkRequest.type)}fillClientCapabilities(e){let r=(0,_v.ensure)((0,_v.ensure)(e,"textDocument"),"documentLink");r.dynamicRegistration=!0,r.tooltipSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentLinkProvider);n&&this.register({id:d2.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentLinks:(i,s)=>{let o=this._client,a=(c,l)=>o.sendRequest($u.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(c),l).then(f=>l.isCancellationRequested?null:o.protocol2CodeConverter.asDocumentLinks(f,l),f=>o.handleFailedRequest($u.DocumentLinkRequest.type,l,f,null)),u=o.middleware;return u.provideDocumentLinks?u.provideDocumentLinks(i,s,a):a(i,s)},resolveDocumentLink:e.resolveProvider?(i,s)=>{let o=this._client,a=(c,l)=>o.sendRequest($u.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(c),l).then(f=>l.isCancellationRequested?c:o.protocol2CodeConverter.asDocumentLink(f),f=>o.handleFailedRequest($u.DocumentLinkResolveRequest.type,l,f,c)),u=o.middleware;return u.resolveDocumentLink?u.resolveDocumentLink(i,s,a):a(i,s)}:void 0};return[l2.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Ed.DocumentLinkFeature=bv});var dT=_(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.ExecuteCommandFeature=void 0;var f2=require("vscode"),wv=re(),h2=pt(),lT=Le(),Sv=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return wv.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,lT.ensure)((0,lT.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:h2.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let r=this._client,n=r.middleware,i=(s,o)=>{let a={command:s,arguments:o};return r.sendRequest(wv.ExecuteCommandRequest.type,a).then(void 0,u=>r.handleFailedRequest(wv.ExecuteCommandRequest.type,void 0,u,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(f2.commands.registerCommand(o,(...a)=>n.executeCommand?n.executeCommand(o,a,i):i(o,a)));this._commands.set(e.id,s)}}unregister(e){let r=this._commands.get(e);r&&r.forEach(n=>n.dispose())}clear(){this._commands.forEach(e=>{e.forEach(r=>r.dispose())}),this._commands.clear()}};Td.ExecuteCommandFeature=Sv});var fT=_(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.FileSystemWatcherFeature=void 0;var g2=require("vscode"),ro=re(),Pd=Le(),Rv=class{constructor(e,r){this._client=e,this._notifyFileEvent=r,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return ro.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,Pd.ensure)((0,Pd.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,Pd.ensure)((0,Pd.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,r){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let r=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let s=!0,o=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(s=(n.kind&ro.WatchKind.Create)!==0,o=(n.kind&ro.WatchKind.Change)!==0,a=(n.kind&ro.WatchKind.Delete)!==0);let u=g2.workspace.createFileSystemWatcher(i,!s,!o,!a);this.hookListeners(u,s,o,a,r),r.push(u)}this._watchers.set(e.id,r)}registerRaw(e,r){let n=[];for(let i of r)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,r,n,i,s){r&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:ro.FileChangeType.Created}),null,s),n&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:ro.FileChangeType.Changed}),null,s),i&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:ro.FileChangeType.Deleted}),null,s)}unregister(e){let r=this._watchers.get(e);if(r)for(let n of r)n.dispose()}clear(){this._watchers.forEach(e=>{for(let r of e)r.dispose()}),this._watchers.clear()}};qd.FileSystemWatcherFeature=Rv});var hT=_(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.ColorProviderFeature=void 0;var p2=require("vscode"),Wu=re(),Cv=Le(),Dv=class extends Cv.TextDocumentLanguageFeature{constructor(e){super(e,Wu.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Cv.ensure)((0,Cv.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideColorPresentations:(i,s,o)=>{let a=this._client,u=(l,f,d)=>{let g={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f.document),range:a.code2ProtocolConverter.asRange(f.range)};return a.sendRequest(Wu.ColorPresentationRequest.type,g,d).then(p=>d.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(p,d),p=>a.handleFailedRequest(Wu.ColorPresentationRequest.type,d,p,null))},c=a.middleware;return c.provideColorPresentations?c.provideColorPresentations(i,s,o,u):u(i,s,o)},provideDocumentColors:(i,s)=>{let o=this._client,a=(c,l)=>{let f={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(c)};return o.sendRequest(Wu.DocumentColorRequest.type,f,l).then(d=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(d,l),d=>o.handleFailedRequest(Wu.DocumentColorRequest.type,l,d,null))},u=o.middleware;return u.provideDocumentColors?u.provideDocumentColors(i,s,a):a(i,s)}};return[p2.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Od.ColorProviderFeature=Dv});var gT=_(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.ImplementationFeature=void 0;var m2=require("vscode"),Ev=re(),Tv=Le(),Pv=class extends Tv.TextDocumentLanguageFeature{constructor(e){super(e,Ev.ImplementationRequest.type)}fillClientCapabilities(e){let r=(0,Tv.ensure)((0,Tv.ensure)(e,"textDocument"),"implementation");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideImplementation:(i,s,o)=>{let a=this._client,u=(l,f,d)=>a.sendRequest(Ev.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,f),d).then(g=>d.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(g,d),g=>a.handleFailedRequest(Ev.ImplementationRequest.type,d,g,null)),c=a.middleware;return c.provideImplementation?c.provideImplementation(i,s,o,u):u(i,s,o)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return m2.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};xd.ImplementationFeature=Pv});var pT=_(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.TypeDefinitionFeature=void 0;var y2=require("vscode"),qv=re(),Hu=Le(),Ov=class extends Hu.TextDocumentLanguageFeature{constructor(e){super(e,qv.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,Hu.ensure)((0,Hu.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let r=(0,Hu.ensure)((0,Hu.ensure)(e,"textDocument"),"typeDefinition");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideTypeDefinition:(i,s,o)=>{let a=this._client,u=(l,f,d)=>a.sendRequest(qv.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,f),d).then(g=>d.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(g,d),g=>a.handleFailedRequest(qv.TypeDefinitionRequest.type,d,g,null)),c=a.middleware;return c.provideTypeDefinition?c.provideTypeDefinition(i,s,o,u):u(i,s,o)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return y2.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Md.TypeDefinitionFeature=Ov});var mT=_(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.WorkspaceFoldersFeature=da.arrayDiff=void 0;var v2=pt(),Fd=require("vscode"),Uu=re();function xv(t,e){if(t!=null)return t[e]}function Mv(t,e){return t.filter(r=>e.indexOf(r)<0)}da.arrayDiff=Mv;var Fv=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Uu.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let r=Fd.workspace.workspaceFolders;this.initializeWithFolders(r),r===void 0?e.workspaceFolders=null:e.workspaceFolders=r.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let r=this._client;r.onRequest(Uu.WorkspaceFoldersRequest.type,s=>{let o=()=>{let u=Fd.workspace.workspaceFolders;return u===void 0?null:u.map(l=>this.asProtocol(l))},a=r.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(s,o):o(s)});let n=xv(xv(xv(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=v2.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let r;if(this._initialFolders&&e){let n=Mv(this._initialFolders,e),i=Mv(e,this._initialFolders);(i.length>0||n.length>0)&&(r=this.doSendEvent(i,n))}else this._initialFolders?r=this.doSendEvent([],this._initialFolders):e&&(r=this.doSendEvent(e,[]));r!==void 0&&r.catch(n=>{this._client.error(`Sending notification ${Uu.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,r){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:r.map(i=>this.asProtocol(i))}};return this._client.sendNotification(Uu.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let r=e.id,n=this._client,i=Fd.workspace.onDidChangeWorkspaceFolders(s=>{let o=c=>this.doSendEvent(c.added,c.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(s,o):o(s)).catch(c=>{this._client.error(`Sending notification ${Uu.DidChangeWorkspaceFoldersNotification.type.method} failed`,c)})});this._listeners.set(r,i),this.sendInitialEvent(Fd.workspace.workspaceFolders)}unregister(e){let r=this._listeners.get(e);r!==void 0&&(this._listeners.delete(e),r.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};da.WorkspaceFoldersFeature=Fv});var vT=_(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.FoldingRangeFeature=void 0;var yT=require("vscode"),no=re(),zu=Le(),Iv=class extends zu.TextDocumentLanguageFeature{constructor(e){super(e,no.FoldingRangeRequest.type)}fillClientCapabilities(e){let r=(0,zu.ensure)((0,zu.ensure)(e,"textDocument"),"foldingRange");r.dynamicRegistration=!0,r.rangeLimit=5e3,r.lineFoldingOnly=!0,r.foldingRangeKind={valueSet:[no.FoldingRangeKind.Comment,no.FoldingRangeKind.Imports,no.FoldingRangeKind.Region]},r.foldingRange={collapsedText:!1},(0,zu.ensure)((0,zu.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,r){this._client.onRequest(no.FoldingRangeRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeFoldingRange.fire()});let[n,i]=this.getRegistration(r,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new yT.EventEmitter,i={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(s,o,a)=>{let u=this._client,c=(f,d,g)=>{let p={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f)};return u.sendRequest(no.FoldingRangeRequest.type,p,g).then(b=>g.isCancellationRequested?null:u.protocol2CodeConverter.asFoldingRanges(b,g),b=>u.handleFailedRequest(no.FoldingRangeRequest.type,g,b,null))},l=u.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(s,o,a,c):c(s,o,a)}};return[yT.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),i),{provider:i,onDidChangeFoldingRange:n}]}};Id.FoldingRangeFeature=Iv});var _T=_(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.DeclarationFeature=void 0;var _2=require("vscode"),kv=re(),Av=Le(),Nv=class extends Av.TextDocumentLanguageFeature{constructor(e){super(e,kv.DeclarationRequest.type)}fillClientCapabilities(e){let r=(0,Av.ensure)((0,Av.ensure)(e,"textDocument"),"declaration");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDeclaration:(i,s,o)=>{let a=this._client,u=(l,f,d)=>a.sendRequest(kv.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,f),d).then(g=>d.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(g,d),g=>a.handleFailedRequest(kv.DeclarationRequest.type,d,g,null)),c=a.middleware;return c.provideDeclaration?c.provideDeclaration(i,s,o,u):u(i,s,o)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return _2.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};kd.DeclarationFeature=Nv});var bT=_(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.SelectionRangeFeature=void 0;var b2=require("vscode"),Lv=re(),jv=Le(),$v=class extends jv.TextDocumentLanguageFeature{constructor(e){super(e,Lv.SelectionRangeRequest.type)}fillClientCapabilities(e){let r=(0,jv.ensure)((0,jv.ensure)(e,"textDocument"),"selectionRange");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideSelectionRanges:(i,s,o)=>{let a=this._client,u=async(l,f,d)=>{let g={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:a.code2ProtocolConverter.asPositionsSync(f,d)};return a.sendRequest(Lv.SelectionRangeRequest.type,g,d).then(p=>d.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(p,d),p=>a.handleFailedRequest(Lv.SelectionRangeRequest.type,d,p,null))},c=a.middleware;return c.provideSelectionRanges?c.provideSelectionRanges(i,s,o,u):u(i,s,o)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return b2.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Ad.SelectionRangeFeature=$v});var ST=_(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.ProgressFeature=void 0;var wT=re(),w2=hy();function S2(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var Wv=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:wT.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){S2(e,"window").workDoneProgress=!0}initialize(){let e=this._client,r=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new w2.ProgressPart(this._client,i.token,r))};e.onRequest(wT.WorkDoneProgressCreateRequest.type,n)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};Nd.ProgressFeature=Wv});var RT=_(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.CallHierarchyFeature=void 0;var R2=require("vscode"),io=re(),Hv=Le(),Uv=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,r,n){let i=this.client,s=this.middleware,o=(a,u,c)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,u);return i.sendRequest(io.CallHierarchyPrepareRequest.type,l,c).then(f=>c.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(f,c),f=>i.handleFailedRequest(io.CallHierarchyPrepareRequest.type,c,f,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,r,n,o):o(e,r,n)}provideCallHierarchyIncomingCalls(e,r){let n=this.client,i=this.middleware,s=(o,a)=>{let u={item:n.code2ProtocolConverter.asCallHierarchyItem(o)};return n.sendRequest(io.CallHierarchyIncomingCallsRequest.type,u,a).then(c=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(c,a),c=>n.handleFailedRequest(io.CallHierarchyIncomingCallsRequest.type,a,c,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,r,s):s(e,r)}provideCallHierarchyOutgoingCalls(e,r){let n=this.client,i=this.middleware,s=(o,a)=>{let u={item:n.code2ProtocolConverter.asCallHierarchyItem(o)};return n.sendRequest(io.CallHierarchyOutgoingCallsRequest.type,u,a).then(c=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(c,a),c=>n.handleFailedRequest(io.CallHierarchyOutgoingCallsRequest.type,a,c,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,r,s):s(e,r)}},zv=class extends Hv.TextDocumentLanguageFeature{constructor(e){super(e,io.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=e,n=(0,Hv.ensure)((0,Hv.ensure)(r,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=this._client,n=new Uv(r);return[R2.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};Ld.CallHierarchyFeature=zv});var CT=_($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.SemanticTokensFeature=void 0;var jd=require("vscode"),Re=re(),Ku=Le(),C2=gn(),Kv=class extends Ku.TextDocumentLanguageFeature{constructor(e){super(e,Re.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let r=(0,Ku.ensure)((0,Ku.ensure)(e,"textDocument"),"semanticTokens");r.dynamicRegistration=!0,r.tokenTypes=[Re.SemanticTokenTypes.namespace,Re.SemanticTokenTypes.type,Re.SemanticTokenTypes.class,Re.SemanticTokenTypes.enum,Re.SemanticTokenTypes.interface,Re.SemanticTokenTypes.struct,Re.SemanticTokenTypes.typeParameter,Re.SemanticTokenTypes.parameter,Re.SemanticTokenTypes.variable,Re.SemanticTokenTypes.property,Re.SemanticTokenTypes.enumMember,Re.SemanticTokenTypes.event,Re.SemanticTokenTypes.function,Re.SemanticTokenTypes.method,Re.SemanticTokenTypes.macro,Re.SemanticTokenTypes.keyword,Re.SemanticTokenTypes.modifier,Re.SemanticTokenTypes.comment,Re.SemanticTokenTypes.string,Re.SemanticTokenTypes.number,Re.SemanticTokenTypes.regexp,Re.SemanticTokenTypes.operator,Re.SemanticTokenTypes.decorator],r.tokenModifiers=[Re.SemanticTokenModifiers.declaration,Re.SemanticTokenModifiers.definition,Re.SemanticTokenModifiers.readonly,Re.SemanticTokenModifiers.static,Re.SemanticTokenModifiers.deprecated,Re.SemanticTokenModifiers.abstract,Re.SemanticTokenModifiers.async,Re.SemanticTokenModifiers.modification,Re.SemanticTokenModifiers.documentation,Re.SemanticTokenModifiers.defaultLibrary],r.formats=[Re.TokenFormat.Relative],r.requests={range:!0,full:{delta:!0}},r.multilineTokenSupport=!1,r.overlappingTokenSupport=!1,r.serverCancelSupport=!0,r.augmentsSyntaxTokens=!0,(0,Ku.ensure)((0,Ku.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,r){this._client.onRequest(Re.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[i,s]=this.getRegistration(r,e.semanticTokensProvider);!i||!s||this.register({id:i,registerOptions:s})}registerLanguageProvider(e){let r=e.documentSelector,n=C2.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,s=new jd.EventEmitter,o=n?{onDidChangeSemanticTokens:s.event,provideDocumentSemanticTokens:(g,p)=>{let b=this._client,C=b.middleware,D=(w,S)=>{let O={textDocument:b.code2ProtocolConverter.asTextDocumentIdentifier(w)};return b.sendRequest(Re.SemanticTokensRequest.type,O,S).then(A=>S.isCancellationRequested?null:b.protocol2CodeConverter.asSemanticTokens(A,S),A=>b.handleFailedRequest(Re.SemanticTokensRequest.type,S,A,null))};return C.provideDocumentSemanticTokens?C.provideDocumentSemanticTokens(g,p,D):D(g,p)},provideDocumentSemanticTokensEdits:i?(g,p,b)=>{let C=this._client,D=C.middleware,w=(S,O,A)=>{let z={textDocument:C.code2ProtocolConverter.asTextDocumentIdentifier(S),previousResultId:O};return C.sendRequest(Re.SemanticTokensDeltaRequest.type,z,A).then(async U=>A.isCancellationRequested?null:Re.SemanticTokens.is(U)?await C.protocol2CodeConverter.asSemanticTokens(U,A):await C.protocol2CodeConverter.asSemanticTokensEdits(U,A),U=>C.handleFailedRequest(Re.SemanticTokensDeltaRequest.type,A,U,null))};return D.provideDocumentSemanticTokensEdits?D.provideDocumentSemanticTokensEdits(g,p,b,w):w(g,p,b)}:void 0}:void 0,u=e.range===!0?{provideDocumentRangeSemanticTokens:(g,p,b)=>{let C=this._client,D=C.middleware,w=(S,O,A)=>{let z={textDocument:C.code2ProtocolConverter.asTextDocumentIdentifier(S),range:C.code2ProtocolConverter.asRange(O)};return C.sendRequest(Re.SemanticTokensRangeRequest.type,z,A).then(U=>A.isCancellationRequested?null:C.protocol2CodeConverter.asSemanticTokens(U,A),U=>C.handleFailedRequest(Re.SemanticTokensRangeRequest.type,A,U,null))};return D.provideDocumentRangeSemanticTokens?D.provideDocumentRangeSemanticTokens(g,p,b,w):w(g,p,b)}}:void 0,c=[],l=this._client,f=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),d=l.protocol2CodeConverter.asDocumentSelector(r);return o!==void 0&&c.push(jd.languages.registerDocumentSemanticTokensProvider(d,o,f)),u!==void 0&&c.push(jd.languages.registerDocumentRangeSemanticTokensProvider(d,u,f)),[new jd.Disposable(()=>c.forEach(g=>g.dispose())),{range:u,full:o,onDidChangeSemanticTokensEmitter:s}]}};$d.SemanticTokensFeature=Kv});var TT=_(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.WillDeleteFilesFeature=Wr.WillRenameFilesFeature=Wr.WillCreateFilesFeature=Wr.DidDeleteFilesFeature=Wr.DidRenameFilesFeature=Wr.DidCreateFilesFeature=void 0;var bn=require("vscode"),D2=ud(),Ai=re(),E2=pt();function DT(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function T2(t,e){return t[e]}function ET(t,e,r){t[e]=r}var Bu=class t{constructor(e,r,n,i,s){this._client=e,this._event=r,this._registrationType=n,this._clientCapability=i,this._serverCapability=s,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let r=DT(DT(e,"workspace"),"fileOperations");ET(r,"dynamicRegistration",!0),ET(r,this._clientCapability,!0)}initialize(e){let r=e.workspace?.fileOperations,n=r!==void 0?T2(r,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:E2.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let r=e.registerOptions.filters.map(n=>{let i=new D2.Minimatch(n.pattern.glob,t.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,r)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,r){let n=await Promise.all(e.files.map(async s=>{let o=r(s),a=o.fsPath.replace(/\\/g,"/");for(let u of this._filters.values())for(let c of u)if(!(c.scheme!==void 0&&c.scheme!==o.scheme)){if(c.matcher.match(a)){if(c.kind===void 0)return!0;let l=await this.getFileType(o);if(l===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(l===bn.FileType.File&&c.kind===Ai.FileOperationPatternKind.file||l===bn.FileType.Directory&&c.kind===Ai.FileOperationPatternKind.folder)return!0}else if(c.kind===Ai.FileOperationPatternKind.folder&&await t.getFileType(o)===bn.FileType.Directory&&c.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((s,o)=>n[o]);return{...e,files:i}}static async getFileType(e){try{return(await bn.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let r={dot:!0};return e?.ignoreCase===!0&&(r.nocase=!0),r}},Wd=class extends Bu{constructor(e,r,n,i,s,o,a){super(e,r,n,i,s),this._notificationType=n,this._accessUri=o,this._createParams=a}async send(e){let r=await this.filter(e,this._accessUri);if(r.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(r,n)}}},Hd=class extends Wd{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let r=e.fsPath;if(this._fsPathFileTypes.has(r))return this._fsPathFileTypes.get(r);let n=await Bu.getFileType(e);return n&&this._fsPathFileTypes.set(r,n),n}async cacheFileTypes(e,r){await this.filter(e,r)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},Bv=class extends Wd{constructor(e){super(e,bn.workspace.onDidCreateFiles,Ai.DidCreateFilesNotification.type,"didCreate","didCreate",r=>r,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,r):r(e)}};Wr.DidCreateFilesFeature=Bv;var Vv=class extends Hd{constructor(e){super(e,bn.workspace.onDidRenameFiles,Ai.DidRenameFilesNotification.type,"didRename","didRename",r=>r.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=bn.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,r=>r.oldUri))}doSend(e,r){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,r):r(e)}};Wr.DidRenameFilesFeature=Vv;var Gv=class extends Hd{constructor(e){super(e,bn.workspace.onDidDeleteFiles,Ai.DidDeleteFilesNotification.type,"didDelete","didDelete",r=>r,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=bn.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,r=>r))}doSend(e,r){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,r):r(e)}};Wr.DidDeleteFilesFeature=Gv;var Vu=class extends Bu{constructor(e,r,n,i,s,o,a){super(e,r,n,i,s),this._requestType=n,this._accessUri=o,this._createParams=a}async send(e){let r=this.waitUntil(e);e.waitUntil(r)}async waitUntil(e){let r=await this.filter(e,this._accessUri);if(r.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(r,n)}else return}},Yv=class extends Vu{constructor(e){super(e,bn.workspace.onWillCreateFiles,Ai.WillCreateFilesRequest.type,"willCreate","willCreate",r=>r,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,r):r(e)}};Wr.WillCreateFilesFeature=Yv;var Xv=class extends Vu{constructor(e){super(e,bn.workspace.onWillRenameFiles,Ai.WillRenameFilesRequest.type,"willRename","willRename",r=>r.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,r):r(e)}};Wr.WillRenameFilesFeature=Xv;var Jv=class extends Vu{constructor(e){super(e,bn.workspace.onWillDeleteFiles,Ai.WillDeleteFilesRequest.type,"willDelete","willDelete",r=>r,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,r):r(e)}};Wr.WillDeleteFilesFeature=Jv});var PT=_(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.LinkedEditingFeature=void 0;var P2=require("vscode"),Qv=re(),Zv=Le(),e_=class extends Zv.TextDocumentLanguageFeature{constructor(e){super(e,Qv.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let r=(0,Zv.ensure)((0,Zv.ensure)(e,"textDocument"),"linkedEditingRange");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideLinkedEditingRanges:(i,s,o)=>{let a=this._client,u=(l,f,d)=>a.sendRequest(Qv.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,f),d).then(g=>d.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(g,d),g=>a.handleFailedRequest(Qv.LinkedEditingRangeRequest.type,d,g,null)),c=a.middleware;return c.provideLinkedEditingRange?c.provideLinkedEditingRange(i,s,o,u):u(i,s,o)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return P2.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Ud.LinkedEditingFeature=e_});var qT=_(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.TypeHierarchyFeature=void 0;var q2=require("vscode"),so=re(),t_=Le(),r_=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,r,n){let i=this.client,s=this.middleware,o=(a,u,c)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,u);return i.sendRequest(so.TypeHierarchyPrepareRequest.type,l,c).then(f=>c.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(f,c),f=>i.handleFailedRequest(so.TypeHierarchyPrepareRequest.type,c,f,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(e,r,n,o):o(e,r,n)}provideTypeHierarchySupertypes(e,r){let n=this.client,i=this.middleware,s=(o,a)=>{let u={item:n.code2ProtocolConverter.asTypeHierarchyItem(o)};return n.sendRequest(so.TypeHierarchySupertypesRequest.type,u,a).then(c=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(c,a),c=>n.handleFailedRequest(so.TypeHierarchySupertypesRequest.type,a,c,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,r,s):s(e,r)}provideTypeHierarchySubtypes(e,r){let n=this.client,i=this.middleware,s=(o,a)=>{let u={item:n.code2ProtocolConverter.asTypeHierarchyItem(o)};return n.sendRequest(so.TypeHierarchySubtypesRequest.type,u,a).then(c=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(c,a),c=>n.handleFailedRequest(so.TypeHierarchySubtypesRequest.type,a,c,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,r,s):s(e,r)}},n_=class extends t_.TextDocumentLanguageFeature{constructor(e){super(e,so.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=(0,t_.ensure)((0,t_.ensure)(e,"textDocument"),"typeHierarchy");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=this._client,n=new r_(r);return[q2.languages.registerTypeHierarchyProvider(r.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};zd.TypeHierarchyFeature=n_});var xT=_(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.InlineValueFeature=void 0;var OT=require("vscode"),Kd=re(),Gu=Le(),i_=class extends Gu.TextDocumentLanguageFeature{constructor(e){super(e,Kd.InlineValueRequest.type)}fillClientCapabilities(e){(0,Gu.ensure)((0,Gu.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,Gu.ensure)((0,Gu.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,r){this._client.onRequest(Kd.InlineValueRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(r,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new OT.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(s,o,a,u)=>{let c=this._client,l=(d,g,p,b)=>{let C={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(g),context:c.code2ProtocolConverter.asInlineValueContext(p)};return c.sendRequest(Kd.InlineValueRequest.type,C,b).then(D=>b.isCancellationRequested?null:c.protocol2CodeConverter.asInlineValues(D,b),D=>c.handleFailedRequest(Kd.InlineValueRequest.type,b,D,null))},f=c.middleware;return f.provideInlineValues?f.provideInlineValues(s,o,a,u,l):l(s,o,a,u)}};return[this.registerProvider(r,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,r){return OT.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Bd.InlineValueFeature=i_});var FT=_(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.InlayHintsFeature=void 0;var MT=require("vscode"),fa=re(),Yu=Le(),s_=class extends Yu.TextDocumentLanguageFeature{constructor(e){super(e,fa.InlayHintRequest.type)}fillClientCapabilities(e){let r=(0,Yu.ensure)((0,Yu.ensure)(e,"textDocument"),"inlayHint");r.dynamicRegistration=!0,r.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,Yu.ensure)((0,Yu.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,r){this._client.onRequest(fa.InlayHintRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(r,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new MT.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(s,o,a)=>{let u=this._client,c=async(f,d,g)=>{let p={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(d)};try{let b=await u.sendRequest(fa.InlayHintRequest.type,p,g);return g.isCancellationRequested?null:u.protocol2CodeConverter.asInlayHints(b,g)}catch(b){return u.handleFailedRequest(fa.InlayHintRequest.type,g,b,null)}},l=u.middleware;return l.provideInlayHints?l.provideInlayHints(s,o,a,c):c(s,o,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(s,o)=>{let a=this._client,u=async(l,f)=>{try{let d=await a.sendRequest(fa.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),f);if(f.isCancellationRequested)return null;let g=a.protocol2CodeConverter.asInlayHint(d,f);return f.isCancellationRequested?null:g}catch(d){return a.handleFailedRequest(fa.InlayHintResolveRequest.type,f,d,null)}},c=a.middleware;return c.resolveInlayHint?c.resolveInlayHint(s,o,u):u(s,o)}:void 0,[this.registerProvider(r,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,r){return MT.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Vd.InlayHintsFeature=s_});var IT=_(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.InlineCompletionItemFeature=void 0;var O2=require("vscode"),o_=re(),a_=Le(),x2=pt(),u_=class extends a_.TextDocumentLanguageFeature{constructor(e){super(e,o_.InlineCompletionRequest.type)}fillClientCapabilities(e){let r=(0,a_.ensure)((0,a_.ensure)(e,"textDocument"),"inlineCompletion");r.dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.inlineCompletionProvider);n&&this.register({id:x2.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideInlineCompletionItems:(i,s,o,a)=>{let u=this._client,c=this._client.middleware,l=(f,d,g,p)=>u.sendRequest(o_.InlineCompletionRequest.type,u.code2ProtocolConverter.asInlineCompletionParams(f,d,g),p).then(b=>p.isCancellationRequested?null:u.protocol2CodeConverter.asInlineCompletionResult(b,p),b=>u.handleFailedRequest(o_.InlineCompletionRequest.type,p,b,null));return c.provideInlineCompletionItems?c.provideInlineCompletionItems(i,s,o,a,l):l(i,s,o,a)}};return[O2.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Gd.InlineCompletionItemFeature=u_});var g_=_(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.ProposedFeatures=Kt.BaseLanguageClient=Kt.MessageTransports=Kt.SuspendMode=Kt.State=Kt.CloseAction=Kt.ErrorAction=Kt.RevealOutputChannelOn=void 0;var Xe=require("vscode"),B=re(),M2=lE(),F2=hE(),Un=gn(),Yd=td(),kT=pt(),I2=hy(),Hn=Le(),k2=Fy(),AT=zE(),NT=BE(),ha=VE(),A2=GE(),N2=YE(),L2=XE(),j2=QE(),$2=ZE(),W2=iv(),H2=tT(),U2=rT(),z2=nT(),K2=sT(),c_=oT(),B2=uT(),V2=cT(),G2=dT(),Y2=fT(),X2=hT(),J2=gT(),Q2=pT(),Z2=mT(),e$=vT(),t$=_T(),r$=bT(),n$=ST(),i$=RT(),s$=CT(),ga=TT(),o$=PT(),a$=qT(),u$=xT(),c$=FT(),l$=IT(),oo;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(oo||(Kt.RevealOutputChannelOn=oo={}));var Ju;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(Ju||(Kt.ErrorAction=Ju={}));var ls;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(ls||(Kt.CloseAction=ls={}));var Xu;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(Xu||(Kt.State=Xu={}));var LT;(function(t){t.off="off",t.on="on"})(LT||(Kt.SuspendMode=LT={}));var l_;(function(t){function e(r){return r==null?!1:typeof r=="boolean"||typeof r=="object"&&r!==null&&Un.stringArray(r.enabledCommands)?r:!1}t.sanitizeIsTrusted=e})(l_||(l_={}));var d_=class{constructor(e,r){this.client=e,this.maxRestartCount=r,this.restarts=[]}error(e,r,n){return n&&n<=3?{action:Ju.Continue}:{action:Ju.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:ls.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:ls.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:ls.Restart})}},Te;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(Te||(Te={}));var jT;(function(t){function e(r){return r&&B.MessageReader.is(r.reader)&&B.MessageWriter.is(r.writer)}t.is=e})(jT||(Kt.MessageTransports=jT={}));var Qu=class t{constructor(e,r,n){this._traceFormat=B.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new Yd.Semaphore(1),this._id=e,this._name=r,n=n||{};let i={isTrusted:!1,supportHtml:!1};n.markdown!==void 0&&(i.isTrusted=l_.sanitizeIsTrusted(n.markdown.isTrusted),i.supportHtml=n.markdown.supportHtml===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??oo.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Te.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new Yd.Semaphore(1),this._pendingChangeDelayer=new Yd.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new Yd.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new B.Emitter,this._stateChangeEmitter=new B.Emitter,this._trace=B.Trace.Off,this._tracer={log:(s,o)=>{Un.string(s)?this.logTrace(s,o):this.logObjectTrace(s)}},this._c2p=M2.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=F2.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Xe.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let r=this.getPublicState();this._state=e;let n=this.getPublicState();n!==r&&this._stateChangeEmitter.fire({oldState:r,newState:n})}getPublicState(){switch(this.$state){case Te.Starting:return Xu.Starting;case Te.Running:return Xu.Running;default:return Xu.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...r){if(this.$state===Te.StartFailed||this.$state===Te.Stopping||this.$state===Te.Stopped)return Promise.reject(new B.ResponseError(B.ErrorCodes.ConnectionInactive,"Client is not running"));let n=await this.$start();this._didChangeTextDocumentFeature.syncKind===B.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n);let i=this._clientOptions.middleware?.sendRequest;if(i!==void 0){let s,o;return r.length===1?B.CancellationToken.is(r[0])?o=r[0]:s=r[0]:r.length===2&&(s=r[0],o=r[1]),i(e,s,o,(a,u,c)=>{let l=[];return u!==void 0&&l.push(u),c!==void 0&&l.push(c),n.sendRequest(a,...l)})}else return n.sendRequest(e,...r)}onRequest(e,r){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,r);let i=this.activeConnection(),s;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,r)),s={dispose:()=>{let o=this._requestDisposables.get(n);o!==void 0&&(o.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,r),s={dispose:()=>{this._pendingRequestHandlers.delete(n);let o=this._requestDisposables.get(n);o!==void 0&&(o.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),s.dispose()}}}async sendNotification(e,r){if(this.$state===Te.StartFailed||this.$state===Te.Stopping||this.$state===Te.Stopped)return Promise.reject(new B.ResponseError(B.ErrorCodes.ConnectionInactive,"Client is not running"));let n=this._didChangeTextDocumentFeature.syncKind===B.TextDocumentSyncKind.Full,i;n&&typeof e!="string"&&e.method===B.DidOpenTextDocumentNotification.method&&(i=r?.textDocument.uri,this._pendingOpenNotifications.add(i));let s=await this.$start();n&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._pendingOpenNotifications.delete(i);let o=this._clientOptions.middleware?.sendNotification;return o?o(e,s.sendNotification.bind(s),r):s.sendNotification(e,r)}onNotification(e,r){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,r);let i=this.activeConnection(),s;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,r)),s={dispose:()=>{let o=this._notificationDisposables.get(n);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,r),s={dispose:()=>{this._pendingNotificationHandlers.delete(n);let o=this._notificationDisposables.get(n);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),s.dispose()}}}async sendProgress(e,r,n){if(this.$state===Te.StartFailed||this.$state===Te.Stopping||this.$state===Te.Stopped)return Promise.reject(new B.ResponseError(B.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,r,n)}catch(i){throw this.error(`Sending progress for token ${r} failed.`,i),i}}onProgress(e,r,n){this._progressHandlers.set(r,{type:e,handler:n});let i=this.activeConnection(),s,o=this._clientOptions.middleware?.handleWorkDoneProgress,a=B.WorkDoneProgress.is(e)&&o!==void 0?u=>{o(r,u,()=>n(u))}:n;return i!==void 0?(this._progressDisposables.set(r,i.onProgress(e,r,a)),s={dispose:()=>{let u=this._progressDisposables.get(r);u!==void 0&&(u.dispose(),this._progressDisposables.delete(r))}}):(this._pendingProgressHandlers.set(r,{type:e,handler:n}),s={dispose:()=>{this._pendingProgressHandlers.delete(r);let u=this._progressDisposables.get(r);u!==void 0&&(u.dispose(),this._progressDisposables.delete(r))}}),{dispose:()=>{this._progressHandlers.delete(r),s.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new d_(this,e??4)}async setTrace(e){this._trace=e;let r=this.activeConnection();r!==void 0&&await r.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof B.ResponseError){let r=e;return`  Message: ${r.message}
  Code: ${r.code} ${r.data?`
`+r.data.toString():""}`}return e instanceof Error?Un.string(e.stack)?e.stack:e.message:Un.string(e)?e:e.toString()}debug(e,r,n=!0){this.logOutputMessage(B.MessageType.Debug,oo.Debug,"Debug",e,r,n)}info(e,r,n=!0){this.logOutputMessage(B.MessageType.Info,oo.Info,"Info",e,r,n)}warn(e,r,n=!0){this.logOutputMessage(B.MessageType.Warning,oo.Warn,"Warn",e,r,n)}error(e,r,n=!0){this.logOutputMessage(B.MessageType.Error,oo.Error,"Error",e,r,n)}logOutputMessage(e,r,n,i,s,o){this.outputChannel.appendLine(`[${n.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),s!=null&&this.outputChannel.appendLine(this.data2String(s)),(o==="force"||o&&this._clientOptions.revealOutputChannelOn<=r)&&this.showNotificationMessage(e,i)}showNotificationMessage(e,r){r=r??"A request has failed. See the output for more information.",(e===B.MessageType.Error?Xe.window.showErrorMessage:e===B.MessageType.Warning?Xe.window.showWarningMessage:Xe.window.showInformationMessage)(r,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,r){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.traceOutputChannel.appendLine(this.data2String(r))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===Te.Initial||this.$state===Te.Stopping||this.$state===Te.Stopped}needsStop(){return this.$state===Te.Starting||this.$state===Te.Running}activeConnection(){return this.$state===Te.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===Te.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===Te.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,r,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?Xe.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):Xe.languages.createDiagnosticCollection());for(let[i,s]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,s);for(let[i,s]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,s);for(let[i,s]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,s);this.$state=Te.Starting;try{let i=await this.createConnection();i.onNotification(B.LogMessageNotification.type,s=>{switch(s.type){case B.MessageType.Error:this.error(s.message,void 0,!1);break;case B.MessageType.Warning:this.warn(s.message,void 0,!1);break;case B.MessageType.Info:this.info(s.message,void 0,!1);break;case B.MessageType.Debug:this.debug(s.message,void 0,!1);break;default:this.outputChannel.appendLine(s.message)}}),i.onNotification(B.ShowMessageNotification.type,s=>{switch(s.type){case B.MessageType.Error:Xe.window.showErrorMessage(s.message);break;case B.MessageType.Warning:Xe.window.showWarningMessage(s.message);break;case B.MessageType.Info:Xe.window.showInformationMessage(s.message);break;default:Xe.window.showInformationMessage(s.message)}}),i.onRequest(B.ShowMessageRequest.type,s=>{let o;switch(s.type){case B.MessageType.Error:o=Xe.window.showErrorMessage;break;case B.MessageType.Warning:o=Xe.window.showWarningMessage;break;case B.MessageType.Info:o=Xe.window.showInformationMessage;break;default:o=Xe.window.showInformationMessage}let a=s.actions||[];return o(s.message,...a)}),i.onNotification(B.TelemetryEventNotification.type,s=>{this._telemetryEmitter.fire(s)}),i.onRequest(B.ShowDocumentRequest.type,async s=>{let o=async u=>{let c=this.protocol2CodeConverter.asUri(u.uri);try{if(u.external===!0)return{success:await Xe.env.openExternal(c)};{let l={};return u.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(u.selection)),u.takeFocus===void 0||u.takeFocus===!1?l.preserveFocus=!0:u.takeFocus===!0&&(l.preserveFocus=!1),await Xe.window.showTextDocument(c,l),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(s,o):o(s)}),i.listen(),await this.initialize(i),r()}catch(i){this.$state=Te.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,r;return[new Promise((i,s)=>{e=i,r=s}),e,r]}async initialize(e){this.refreshTrace(e,!1);let r=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:Xe.env.appName,version:Xe.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Xe.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Un.func(r)?r():r,trace:B.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){let o=kT.generateUuid(),a=new I2.ProgressPart(e,o);s.workDoneToken=o;try{let u=await this.doInitialize(e,s);return a.done(),u}catch(u){throw a.cancel(),u}}else return this.doInitialize(e,s)}async doInitialize(e,r){try{let n=await e.initialize(r);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==B.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=Te.Running;let i;Un.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===B.TextDocumentSyncKind.None?i={openClose:!1,change:B.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(B.PublishDiagnosticsNotification.type,s=>this.handleDiagnostics(s)),e.onRequest(B.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(B.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(B.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s));for(let[s,o]of this._pendingNotificationHandlers)this._notificationDisposables.set(s,e.onNotification(s,o));this._pendingNotificationHandlers.clear();for(let[s,o]of this._pendingRequestHandlers)this._requestDisposables.set(s,e.onRequest(s,o));this._pendingRequestHandlers.clear();for(let[s,o]of this._pendingProgressHandlers)this._progressDisposables.set(s,e.onProgress(o.type,s,o.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(B.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof B.ResponseError&&n.data&&n.data.retry?Xe.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&Xe.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=Xe.workspace.workspaceFolders;if(!e||e.length===0)return;let r=e[0];if(r.uri.scheme==="file")return r.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,r){if(this.$state===Te.Stopped||this.$state===Te.Initial)return;if(this.$state===Te.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==Te.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=Te.Stopping,this.cleanUp(e);let i=new Promise(o=>{(0,B.RAL)().timer.setTimeout(o,r)}),s=(async o=>(await o.shutdown(),await o.exit(),o))(n);return this._onStop=Promise.race([i,s]).then(o=>{if(o!==void 0)o.end(),o.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},o=>{throw this.error("Stopping server failed",o,!1),o}).finally(()=>{this.$state=Te.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let r=this._listeners.splice(0,this._listeners.length);for(let n of r)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let r=this;async function n(s){return r._fileEvents.push(s),r._fileEventDelayer.trigger(async()=>{await r.sendNotification(B.DidChangeWatchedFilesNotification.type,{changes:r._fileEvents}),r._fileEvents=[]})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(s=>{r.error("Notify file events failed.",s)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let r=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(r.length===0)return;for(let n of r){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(B.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(n,B.DidChangeTextDocumentNotification.type,i)}}catch(r){throw this.error("Sending pending changes failed",r,!1),r}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let r=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===r&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,B.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[r,n]=e.value;this._diagnosticQueue.delete(r);let i=new Xe.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:r,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(s=>{if(!i.token.isCancellationRequested){let o=this._p2c.asUri(r),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(o,s,(u,c)=>this.setDiagnostics(u,c)):this.setDiagnostics(o,s)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,r){this._diagnostics&&this._diagnostics.set(e,r)}getLocale(){return Xe.env.language}async $start(){if(this.$state===Te.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,s,o)=>{this.handleConnectionError(i,s,o).catch(a=>this.error("Handling connection error failed",a))},r=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=d$(n.reader,n.writer,e,r,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===Te.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:ls.DoNotRestart};if(this.$state!==Te.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===ls.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===Te.Starting?this.$state=Te.StartFailed:this.$state=Te.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===ls.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=Te.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(r=>this.error("Restarting server failed",r,"force")))}async handleConnectionError(e,r,n){let i=await this._clientOptions.errorHandler.error(e,r,n);i.action===Ju.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(s=>{this.error("Stopping server failed",s,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(Xe.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,r=!1){let n=Xe.workspace.getConfiguration(this._id),i=B.Trace.Off,s=B.TraceFormat.Text;if(n){let o=n.get("trace.server","off");typeof o=="string"?i=B.Trace.fromString(o):(i=B.Trace.fromString(n.get("trace.server.verbosity","off")),s=B.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:r,traceFormat:this._traceFormat}).catch(o=>{this.error("Updating trace failed with error",o,!1)})}hookFileEvents(e){let r=this._clientOptions.synchronize.fileEvents;if(!r)return;let n;Un.array(r)?n=r:n=[r],n&&this._dynamicFeatures.get(B.DidChangeWatchedFilesNotification.type.method).registerRaw(kT.generateUuid(),n)}registerFeatures(e){for(let r of e)this.registerFeature(r)}registerFeature(e){if(this._features.push(e),Hn.DynamicFeature.is(e)){let r=e.registrationType;this._dynamicFeatures.set(r.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let r=this.getFeature(B.NotebookDocumentSyncRegistrationType.method);return r===void 0||!(r instanceof AT.NotebookDocumentSyncFeature)?!1:r.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new NT.ConfigurationFeature(this)),this.registerFeature(new ha.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new ha.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new ha.WillSaveFeature(this)),this.registerFeature(new ha.WillSaveWaitUntilFeature(this)),this.registerFeature(new ha.DidSaveTextDocumentFeature(this)),this.registerFeature(new ha.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new Y2.FileSystemWatcherFeature(this,r=>this.notifyFileEvent(r))),this.registerFeature(new A2.CompletionItemFeature(this)),this.registerFeature(new N2.HoverFeature(this)),this.registerFeature(new j2.SignatureHelpFeature(this)),this.registerFeature(new L2.DefinitionFeature(this)),this.registerFeature(new U2.ReferencesFeature(this)),this.registerFeature(new $2.DocumentHighlightFeature(this)),this.registerFeature(new W2.DocumentSymbolFeature(this)),this.registerFeature(new H2.WorkspaceSymbolFeature(this)),this.registerFeature(new z2.CodeActionFeature(this)),this.registerFeature(new K2.CodeLensFeature(this)),this.registerFeature(new c_.DocumentFormattingFeature(this)),this.registerFeature(new c_.DocumentRangeFormattingFeature(this)),this.registerFeature(new c_.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new B2.RenameFeature(this)),this.registerFeature(new V2.DocumentLinkFeature(this)),this.registerFeature(new G2.ExecuteCommandFeature(this)),this.registerFeature(new NT.SyncConfigurationFeature(this)),this.registerFeature(new Q2.TypeDefinitionFeature(this)),this.registerFeature(new J2.ImplementationFeature(this)),this.registerFeature(new X2.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new Z2.WorkspaceFoldersFeature(this)),this.registerFeature(new e$.FoldingRangeFeature(this)),this.registerFeature(new t$.DeclarationFeature(this)),this.registerFeature(new r$.SelectionRangeFeature(this)),this.registerFeature(new n$.ProgressFeature(this)),this.registerFeature(new i$.CallHierarchyFeature(this)),this.registerFeature(new s$.SemanticTokensFeature(this)),this.registerFeature(new o$.LinkedEditingFeature(this)),this.registerFeature(new ga.DidCreateFilesFeature(this)),this.registerFeature(new ga.DidRenameFilesFeature(this)),this.registerFeature(new ga.DidDeleteFilesFeature(this)),this.registerFeature(new ga.WillCreateFilesFeature(this)),this.registerFeature(new ga.WillRenameFilesFeature(this)),this.registerFeature(new ga.WillDeleteFilesFeature(this)),this.registerFeature(new a$.TypeHierarchyFeature(this)),this.registerFeature(new u$.InlineValueFeature(this)),this.registerFeature(new c$.InlayHintsFeature(this)),this.registerFeature(new k2.DiagnosticFeature(this)),this.registerFeature(new AT.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(h_.createAll(this))}fillInitializeParams(e){for(let r of this._features)Un.func(r.fillInitializeParams)&&r.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,Hn.ensure)(e,"workspace").applyEdit=!0;let r=(0,Hn.ensure)((0,Hn.ensure)(e,"workspace"),"workspaceEdit");r.documentChanges=!0,r.resourceOperations=[B.ResourceOperationKind.Create,B.ResourceOperationKind.Rename,B.ResourceOperationKind.Delete],r.failureHandling=B.FailureHandlingKind.TextOnlyTransactional,r.normalizesLineEndings=!0,r.changeAnnotationSupport={groupsOnLabel:!0};let n=(0,Hn.ensure)((0,Hn.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[B.DiagnosticTag.Unnecessary,B.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,Hn.ensure)(e,"window"),s=(0,Hn.ensure)(i,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=(0,Hn.ensure)(i,"showDocument");o.support=!0;let a=(0,Hn.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let u of this._features)u.fillClientCapabilities(e);return e}initializeFeatures(e){let r=this._clientOptions.documentSelector;for(let n of this._features)Un.func(n.preInitialize)&&n.preInitialize(this._capabilities,r);for(let n of this._features)n.initialize(this._capabilities,r)}async handleRegistrationRequest(e){let r=this.clientOptions.middleware?.handleRegisterCapability;return r?r(e,n=>this.doRegisterCapability(n)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let r of e.registrations)this._ignoredRegistrations.add(r.id);return}for(let r of e.registrations){let n=this._dynamicFeatures.get(r.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${r.method} found. Registration failed.`));let i=r.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let s={id:r.id,registerOptions:i};try{n.register(s)}catch(o){return Promise.reject(o)}}}async handleUnregistrationRequest(e){let r=this.clientOptions.middleware?.handleUnregisterCapability;return r?r(e,n=>this.doUnregisterCapability(n)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let r of e.unregisterations){if(this._ignoredRegistrations.has(r.id))continue;let n=this._dynamicFeatures.get(r.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${r.method} found. Unregistration failed.`));n.unregister(r.id)}}async handleApplyWorkspaceEdit(e){let r=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(r)),i=new Map;Xe.workspace.textDocuments.forEach(o=>i.set(o.uri.toString(),o));let s=!1;if(r.documentChanges){for(let o of r.documentChanges)if(B.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let a=this._p2c.asUri(o.textDocument.uri).toString(),u=i.get(a);if(u&&u.version!==o.textDocument.version){s=!0;break}}}return s?Promise.resolve({applied:!1}):Un.asPromise(Xe.workspace.applyEdit(n).then(o=>({applied:o})))}handleFailedRequest(e,r,n,i,s=!0){if(n instanceof B.ResponseError){if(n.code===B.ErrorCodes.PendingResponseRejected||n.code===B.ErrorCodes.ConnectionInactive)return i;if(n.code===B.LSPErrorCodes.RequestCancelled||n.code===B.LSPErrorCodes.ServerCancelled){if(r!==void 0&&r.isCancellationRequested)return i;throw n.data!==void 0?new Hn.LSPCancellationError(n.data):new Xe.CancellationError}else if(n.code===B.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new Xe.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,s),n}};Kt.BaseLanguageClient=Qu;Qu.RequestsToCancelOnContentModified=new Set([B.SemanticTokensRequest.method,B.SemanticTokensRangeRequest.method,B.SemanticTokensDeltaRequest.method]);Qu.CancellableResolveCalls=new Set([B.CompletionResolveRequest.method,B.CodeLensResolveRequest.method,B.CodeActionResolveRequest.method,B.InlayHintResolveRequest.method,B.DocumentLinkResolveRequest.method,B.WorkspaceSymbolResolveRequest.method]);var f_=class{error(e){(0,B.RAL)().console.error(e)}warn(e){(0,B.RAL)().console.warn(e)}info(e){(0,B.RAL)().console.info(e)}log(e){(0,B.RAL)().console.log(e)}};function d$(t,e,r,n,i){let s=new f_,o=(0,B.createProtocolConnection)(t,e,s,i);return o.onError(u=>{r(u[0],u[1],u[2])}),o.onClose(n),{listen:()=>o.listen(),sendRequest:o.sendRequest,onRequest:o.onRequest,hasPendingResponse:o.hasPendingResponse,sendNotification:o.sendNotification,onNotification:o.onNotification,onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(u,c,l)=>{let f={sendNotification:!1,traceFormat:B.TraceFormat.Text};return l===void 0?o.trace(u,c,f):(Un.boolean(l),o.trace(u,c,l))},initialize:u=>o.sendRequest(B.InitializeRequest.type,u),shutdown:()=>o.sendRequest(B.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(B.ExitNotification.type),end:()=>o.end(),dispose:()=>o.dispose()}}var h_;(function(t){function e(r){return[new l$.InlineCompletionItemFeature(r)]}t.createAll=e})(h_||(Kt.ProposedFeatures=h_={}))});var WT=_(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.terminate=void 0;var $T=require("child_process"),f$=require("path"),h$=process.platform==="win32",g$=process.platform==="darwin",p$=process.platform==="linux";function m$(t,e){if(h$)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),$T.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(p$||g$)try{var r=(0,f$.join)(__dirname,"terminateProcess.sh"),n=$T.spawnSync(r,[t.pid.toString()]);return!n.error}catch{return!1}else return t.kill("SIGKILL"),!0}Xd.terminate=m$});var Zu=_((VY,HT)=>{"use strict";HT.exports=re()});var ec=_((GY,UT)=>{var y$=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};UT.exports=y$});var tc=_((YY,zT)=>{var v$="2.0.0",_$=Number.MAX_SAFE_INTEGER||9007199254740991,b$=16,w$=250,S$=["major","premajor","minor","preminor","patch","prepatch","prerelease"];zT.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:b$,MAX_SAFE_BUILD_LENGTH:w$,MAX_SAFE_INTEGER:_$,RELEASE_TYPES:S$,SEMVER_SPEC_VERSION:v$,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var pa=_((Ni,KT)=>{var{MAX_SAFE_COMPONENT_LENGTH:p_,MAX_SAFE_BUILD_LENGTH:R$,MAX_LENGTH:C$}=tc(),D$=ec();Ni=KT.exports={};var E$=Ni.re=[],T$=Ni.safeRe=[],ne=Ni.src=[],ie=Ni.t={},P$=0,m_="[a-zA-Z0-9-]",q$=[["\\s",1],["\\d",C$],[m_,R$]],O$=t=>{for(let[e,r]of q$)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},Ce=(t,e,r)=>{let n=O$(e),i=P$++;D$(t,i,e),ie[t]=i,ne[i]=e,E$[i]=new RegExp(e,r?"g":void 0),T$[i]=new RegExp(n,r?"g":void 0)};Ce("NUMERICIDENTIFIER","0|[1-9]\\d*");Ce("NUMERICIDENTIFIERLOOSE","\\d+");Ce("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m_}*`);Ce("MAINVERSION",`(${ne[ie.NUMERICIDENTIFIER]})\\.(${ne[ie.NUMERICIDENTIFIER]})\\.(${ne[ie.NUMERICIDENTIFIER]})`);Ce("MAINVERSIONLOOSE",`(${ne[ie.NUMERICIDENTIFIERLOOSE]})\\.(${ne[ie.NUMERICIDENTIFIERLOOSE]})\\.(${ne[ie.NUMERICIDENTIFIERLOOSE]})`);Ce("PRERELEASEIDENTIFIER",`(?:${ne[ie.NUMERICIDENTIFIER]}|${ne[ie.NONNUMERICIDENTIFIER]})`);Ce("PRERELEASEIDENTIFIERLOOSE",`(?:${ne[ie.NUMERICIDENTIFIERLOOSE]}|${ne[ie.NONNUMERICIDENTIFIER]})`);Ce("PRERELEASE",`(?:-(${ne[ie.PRERELEASEIDENTIFIER]}(?:\\.${ne[ie.PRERELEASEIDENTIFIER]})*))`);Ce("PRERELEASELOOSE",`(?:-?(${ne[ie.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ne[ie.PRERELEASEIDENTIFIERLOOSE]})*))`);Ce("BUILDIDENTIFIER",`${m_}+`);Ce("BUILD",`(?:\\+(${ne[ie.BUILDIDENTIFIER]}(?:\\.${ne[ie.BUILDIDENTIFIER]})*))`);Ce("FULLPLAIN",`v?${ne[ie.MAINVERSION]}${ne[ie.PRERELEASE]}?${ne[ie.BUILD]}?`);Ce("FULL",`^${ne[ie.FULLPLAIN]}$`);Ce("LOOSEPLAIN",`[v=\\s]*${ne[ie.MAINVERSIONLOOSE]}${ne[ie.PRERELEASELOOSE]}?${ne[ie.BUILD]}?`);Ce("LOOSE",`^${ne[ie.LOOSEPLAIN]}$`);Ce("GTLT","((?:<|>)?=?)");Ce("XRANGEIDENTIFIERLOOSE",`${ne[ie.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ce("XRANGEIDENTIFIER",`${ne[ie.NUMERICIDENTIFIER]}|x|X|\\*`);Ce("XRANGEPLAIN",`[v=\\s]*(${ne[ie.XRANGEIDENTIFIER]})(?:\\.(${ne[ie.XRANGEIDENTIFIER]})(?:\\.(${ne[ie.XRANGEIDENTIFIER]})(?:${ne[ie.PRERELEASE]})?${ne[ie.BUILD]}?)?)?`);Ce("XRANGEPLAINLOOSE",`[v=\\s]*(${ne[ie.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ne[ie.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ne[ie.XRANGEIDENTIFIERLOOSE]})(?:${ne[ie.PRERELEASELOOSE]})?${ne[ie.BUILD]}?)?)?`);Ce("XRANGE",`^${ne[ie.GTLT]}\\s*${ne[ie.XRANGEPLAIN]}$`);Ce("XRANGELOOSE",`^${ne[ie.GTLT]}\\s*${ne[ie.XRANGEPLAINLOOSE]}$`);Ce("COERCEPLAIN",`(^|[^\\d])(\\d{1,${p_}})(?:\\.(\\d{1,${p_}}))?(?:\\.(\\d{1,${p_}}))?`);Ce("COERCE",`${ne[ie.COERCEPLAIN]}(?:$|[^\\d])`);Ce("COERCEFULL",ne[ie.COERCEPLAIN]+`(?:${ne[ie.PRERELEASE]})?(?:${ne[ie.BUILD]})?(?:$|[^\\d])`);Ce("COERCERTL",ne[ie.COERCE],!0);Ce("COERCERTLFULL",ne[ie.COERCEFULL],!0);Ce("LONETILDE","(?:~>?)");Ce("TILDETRIM",`(\\s*)${ne[ie.LONETILDE]}\\s+`,!0);Ni.tildeTrimReplace="$1~";Ce("TILDE",`^${ne[ie.LONETILDE]}${ne[ie.XRANGEPLAIN]}$`);Ce("TILDELOOSE",`^${ne[ie.LONETILDE]}${ne[ie.XRANGEPLAINLOOSE]}$`);Ce("LONECARET","(?:\\^)");Ce("CARETTRIM",`(\\s*)${ne[ie.LONECARET]}\\s+`,!0);Ni.caretTrimReplace="$1^";Ce("CARET",`^${ne[ie.LONECARET]}${ne[ie.XRANGEPLAIN]}$`);Ce("CARETLOOSE",`^${ne[ie.LONECARET]}${ne[ie.XRANGEPLAINLOOSE]}$`);Ce("COMPARATORLOOSE",`^${ne[ie.GTLT]}\\s*(${ne[ie.LOOSEPLAIN]})$|^$`);Ce("COMPARATOR",`^${ne[ie.GTLT]}\\s*(${ne[ie.FULLPLAIN]})$|^$`);Ce("COMPARATORTRIM",`(\\s*)${ne[ie.GTLT]}\\s*(${ne[ie.LOOSEPLAIN]}|${ne[ie.XRANGEPLAIN]})`,!0);Ni.comparatorTrimReplace="$1$2$3";Ce("HYPHENRANGE",`^\\s*(${ne[ie.XRANGEPLAIN]})\\s+-\\s+(${ne[ie.XRANGEPLAIN]})\\s*$`);Ce("HYPHENRANGELOOSE",`^\\s*(${ne[ie.XRANGEPLAINLOOSE]})\\s+-\\s+(${ne[ie.XRANGEPLAINLOOSE]})\\s*$`);Ce("STAR","(<|>)?=?\\s*\\*");Ce("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ce("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Jd=_((XY,BT)=>{var x$=Object.freeze({loose:!0}),M$=Object.freeze({}),F$=t=>t?typeof t!="object"?x$:t:M$;BT.exports=F$});var y_=_((JY,YT)=>{var VT=/^[0-9]+$/,GT=(t,e)=>{let r=VT.test(t),n=VT.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},I$=(t,e)=>GT(e,t);YT.exports={compareIdentifiers:GT,rcompareIdentifiers:I$}});var lr=_((QY,ZT)=>{var Qd=ec(),{MAX_LENGTH:XT,MAX_SAFE_INTEGER:Zd}=tc(),{safeRe:JT,t:QT}=pa(),k$=Jd(),{compareIdentifiers:ma}=y_(),v_=class t{constructor(e,r){if(r=k$(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>XT)throw new TypeError(`version is longer than ${XT} characters`);Qd("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?JT[QT.LOOSE]:JT[QT.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Zd||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Zd||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Zd||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Zd)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Qd("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),ma(this.major,e.major)||ma(this.minor,e.minor)||ma(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Qd("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return ma(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Qd("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return ma(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),ma(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};ZT.exports=v_});var ds=_((ZY,tP)=>{var eP=lr(),A$=(t,e,r=!1)=>{if(t instanceof eP)return t;try{return new eP(t,e)}catch(n){if(!r)return null;throw n}};tP.exports=A$});var nP=_((eX,rP)=>{"use strict";rP.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var sP=_((tX,iP)=>{"use strict";iP.exports=Ke;Ke.Node=ao;Ke.create=Ke;function Ke(t){var e=this;if(e instanceof Ke||(e=new Ke),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Ke.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Ke.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Ke.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Ke.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)L$(this,arguments[t]);return this.length};Ke.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)j$(this,arguments[t]);return this.length};Ke.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Ke.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Ke.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Ke.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Ke.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Ke.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Ke.prototype.map=function(t,e){e=e||this;for(var r=new Ke,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Ke.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Ke,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Ke.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Ke.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Ke.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Ke.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Ke.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ke;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Ke.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ke;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Ke.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=N$(this,i,r[n]);return s};Ke.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function N$(t,e,r){var n=e===t.head?new ao(r,null,e,t):new ao(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function L$(t,e){t.tail=new ao(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function j$(t,e){t.head=new ao(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ao(t,e,r,n){if(!(this instanceof ao))return new ao(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{nP()(Ke)}catch{}});var lP=_((rX,cP)=>{"use strict";var $$=sP(),uo=Symbol("max"),ji=Symbol("length"),ya=Symbol("lengthCalculator"),nc=Symbol("allowStale"),co=Symbol("maxAge"),Li=Symbol("dispose"),oP=Symbol("noDisposeOnSet"),Bt=Symbol("lruList"),zn=Symbol("cache"),uP=Symbol("updateAgeOnGet"),__=()=>1,w_=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[uo]=e.max||1/0,n=e.length||__;if(this[ya]=typeof n!="function"?__:n,this[nc]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[co]=e.maxAge||0,this[Li]=e.dispose,this[oP]=e.noDisposeOnSet||!1,this[uP]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[uo]=e||1/0,rc(this)}get max(){return this[uo]}set allowStale(e){this[nc]=!!e}get allowStale(){return this[nc]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[co]=e,rc(this)}get maxAge(){return this[co]}set lengthCalculator(e){typeof e!="function"&&(e=__),e!==this[ya]&&(this[ya]=e,this[ji]=0,this[Bt].forEach(r=>{r.length=this[ya](r.value,r.key),this[ji]+=r.length})),rc(this)}get lengthCalculator(){return this[ya]}get length(){return this[ji]}get itemCount(){return this[Bt].length}rforEach(e,r){r=r||this;for(let n=this[Bt].tail;n!==null;){let i=n.prev;aP(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Bt].head;n!==null;){let i=n.next;aP(this,e,n,r),n=i}}keys(){return this[Bt].toArray().map(e=>e.key)}values(){return this[Bt].toArray().map(e=>e.value)}reset(){this[Li]&&this[Bt]&&this[Bt].length&&this[Bt].forEach(e=>this[Li](e.key,e.value)),this[zn]=new Map,this[Bt]=new $$,this[ji]=0}dump(){return this[Bt].map(e=>ef(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Bt]}set(e,r,n){if(n=n||this[co],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[ya](r,e);if(this[zn].has(e)){if(s>this[uo])return va(this,this[zn].get(e)),!1;let u=this[zn].get(e).value;return this[Li]&&(this[oP]||this[Li](e,u.value)),u.now=i,u.maxAge=n,u.value=r,this[ji]+=s-u.length,u.length=s,this.get(e),rc(this),!0}let o=new S_(e,r,s,i,n);return o.length>this[uo]?(this[Li]&&this[Li](e,r),!1):(this[ji]+=o.length,this[Bt].unshift(o),this[zn].set(e,this[Bt].head),rc(this),!0)}has(e){if(!this[zn].has(e))return!1;let r=this[zn].get(e).value;return!ef(this,r)}get(e){return b_(this,e,!0)}peek(e){return b_(this,e,!1)}pop(){let e=this[Bt].tail;return e?(va(this,e),e.value):null}del(e){va(this,this[zn].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[zn].forEach((e,r)=>b_(this,r,!1))}},b_=(t,e,r)=>{let n=t[zn].get(e);if(n){let i=n.value;if(ef(t,i)){if(va(t,n),!t[nc])return}else r&&(t[uP]&&(n.value.now=Date.now()),t[Bt].unshiftNode(n));return i.value}},ef=(t,e)=>{if(!e||!e.maxAge&&!t[co])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[co]&&r>t[co]},rc=t=>{if(t[ji]>t[uo])for(let e=t[Bt].tail;t[ji]>t[uo]&&e!==null;){let r=e.prev;va(t,e),e=r}},va=(t,e)=>{if(e){let r=e.value;t[Li]&&t[Li](r.key,r.value),t[ji]-=r.length,t[zn].delete(r.key),t[Bt].removeNode(e)}},S_=class{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},aP=(t,e,r,n)=>{let i=r.value;ef(t,i)&&(va(t,r),t[nc]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};cP.exports=w_});var wn=_((nX,fP)=>{var dP=lr(),W$=(t,e,r)=>new dP(t,r).compare(new dP(e,r));fP.exports=W$});var R_=_((iX,hP)=>{var H$=wn(),U$=(t,e,r)=>H$(t,e,r)===0;hP.exports=U$});var C_=_((sX,gP)=>{var z$=wn(),K$=(t,e,r)=>z$(t,e,r)!==0;gP.exports=K$});var ic=_((oX,pP)=>{var B$=wn(),V$=(t,e,r)=>B$(t,e,r)>0;pP.exports=V$});var tf=_((aX,mP)=>{var G$=wn(),Y$=(t,e,r)=>G$(t,e,r)>=0;mP.exports=Y$});var rf=_((uX,yP)=>{var X$=wn(),J$=(t,e,r)=>X$(t,e,r)<0;yP.exports=J$});var nf=_((cX,vP)=>{var Q$=wn(),Z$=(t,e,r)=>Q$(t,e,r)<=0;vP.exports=Z$});var D_=_((lX,_P)=>{var eW=R_(),tW=C_(),rW=ic(),nW=tf(),iW=rf(),sW=nf(),oW=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return eW(t,r,n);case"!=":return tW(t,r,n);case">":return rW(t,r,n);case">=":return nW(t,r,n);case"<":return iW(t,r,n);case"<=":return sW(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};_P.exports=oW});var oc=_((dX,DP)=>{var sc=Symbol("SemVer ANY"),P_=class t{static get ANY(){return sc}constructor(e,r){if(r=bP(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),T_("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===sc?this.value="":this.value=this.operator+this.semver.version,T_("comp",this)}parse(e){let r=this.options.loose?wP[SP.COMPARATORLOOSE]:wP[SP.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new RP(n[2],this.options.loose):this.semver=sc}toString(){return this.value}test(e){if(T_("Comparator.test",e,this.options.loose),this.semver===sc||e===sc)return!0;if(typeof e=="string")try{e=new RP(e,this.options)}catch{return!1}return E_(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new CP(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new CP(this.value,r).test(e.semver):(r=bP(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||E_(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||E_(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};DP.exports=P_;var bP=Jd(),{safeRe:wP,t:SP}=pa(),E_=D_(),T_=ec(),RP=lr(),CP=Sn()});var Sn=_((fX,qP)=>{var q_=class t{constructor(e,r){if(r=uW(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof O_)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!TP(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&pW(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&hW)|(this.options.loose&&gW))+":"+e,i=EP.get(n);if(i)return i;let s=this.options.loose,o=s?Hr[mr.HYPHENRANGELOOSE]:Hr[mr.HYPHENRANGE];e=e.replace(o,DW(this.options.includePrerelease)),dt("hyphen replace",e),e=e.replace(Hr[mr.COMPARATORTRIM],lW),dt("comparator trim",e),e=e.replace(Hr[mr.TILDETRIM],dW),dt("tilde trim",e),e=e.replace(Hr[mr.CARETTRIM],fW),dt("caret trim",e);let a=e.split(" ").map(f=>mW(f,this.options)).join(" ").split(/\s+/).map(f=>CW(f,this.options));s&&(a=a.filter(f=>(dt("loose invalid filter",f,this.options),!!f.match(Hr[mr.COMPARATORLOOSE])))),dt("range list",a);let u=new Map,c=a.map(f=>new O_(f,this.options));for(let f of c){if(TP(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let l=[...u.values()];return EP.set(n,l),l}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>PP(n,r)&&e.set.some(i=>PP(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new cW(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(EW(this.set[r],e,this.options))return!0;return!1}};qP.exports=q_;var aW=lP(),EP=new aW({max:1e3}),uW=Jd(),O_=oc(),dt=ec(),cW=lr(),{safeRe:Hr,t:mr,comparatorTrimReplace:lW,tildeTrimReplace:dW,caretTrimReplace:fW}=pa(),{FLAG_INCLUDE_PRERELEASE:hW,FLAG_LOOSE:gW}=tc(),TP=t=>t.value==="<0.0.0-0",pW=t=>t.value==="",PP=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},mW=(t,e)=>(dt("comp",t,e),t=_W(t,e),dt("caret",t),t=yW(t,e),dt("tildes",t),t=wW(t,e),dt("xrange",t),t=RW(t,e),dt("stars",t),t),yr=t=>!t||t.toLowerCase()==="x"||t==="*",yW=(t,e)=>t.trim().split(/\s+/).map(r=>vW(r,e)).join(" "),vW=(t,e)=>{let r=e.loose?Hr[mr.TILDELOOSE]:Hr[mr.TILDE];return t.replace(r,(n,i,s,o,a)=>{dt("tilde",t,n,i,s,o,a);let u;return yr(i)?u="":yr(s)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:yr(o)?u=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(dt("replaceTilde pr",a),u=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):u=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,dt("tilde return",u),u})},_W=(t,e)=>t.trim().split(/\s+/).map(r=>bW(r,e)).join(" "),bW=(t,e)=>{dt("caret",t,e);let r=e.loose?Hr[mr.CARETLOOSE]:Hr[mr.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,u)=>{dt("caret",t,i,s,o,a,u);let c;return yr(s)?c="":yr(o)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:yr(a)?s==="0"?c=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:u?(dt("replaceCaret pr",u),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${u} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${u} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${u} <${+s+1}.0.0-0`):(dt("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),dt("caret return",c),c})},wW=(t,e)=>(dt("replaceXRanges",t,e),t.split(/\s+/).map(r=>SW(r,e)).join(" ")),SW=(t,e)=>{t=t.trim();let r=e.loose?Hr[mr.XRANGELOOSE]:Hr[mr.XRANGE];return t.replace(r,(n,i,s,o,a,u)=>{dt("xRange",t,n,i,s,o,a,u);let c=yr(s),l=c||yr(o),f=l||yr(a),d=f;return i==="="&&d&&(i=""),u=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&d?(l&&(o=0),a=0,i===">"?(i=">=",l?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",l?s=+s+1:o=+o+1),i==="<"&&(u="-0"),n=`${i+s}.${o}.${a}${u}`):l?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:f&&(n=`>=${s}.${o}.0${u} <${s}.${+o+1}.0-0`),dt("xRange return",n),n})},RW=(t,e)=>(dt("replaceStars",t,e),t.trim().replace(Hr[mr.STAR],"")),CW=(t,e)=>(dt("replaceGTE0",t,e),t.trim().replace(Hr[e.includePrerelease?mr.GTE0PRE:mr.GTE0],"")),DW=t=>(e,r,n,i,s,o,a,u,c,l,f,d,g)=>(yr(n)?r="":yr(i)?r=`>=${n}.0.0${t?"-0":""}`:yr(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,yr(c)?u="":yr(l)?u=`<${+c+1}.0.0-0`:yr(f)?u=`<${c}.${+l+1}.0-0`:d?u=`<=${c}.${l}.${f}-${d}`:t?u=`<${c}.${l}.${+f+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),EW=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(dt(t[n].semver),t[n].semver!==O_.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var _a=_((hX,OP)=>{var TW=Sn(),PW=(t,e,r)=>{try{e=new TW(e,r)}catch{return!1}return e.test(t)};OP.exports=PW});var MP=_(ln=>{"use strict";var qW=ln&&ln.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),x_=ln&&ln.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qW(e,t,r)};Object.defineProperty(ln,"__esModule",{value:!0});ln.DiagnosticPullMode=ln.vsdiag=void 0;x_(re(),ln);x_(Le(),ln);var xP=Fy();Object.defineProperty(ln,"vsdiag",{enumerable:!0,get:function(){return xP.vsdiag}});Object.defineProperty(ln,"DiagnosticPullMode",{enumerable:!0,get:function(){return xP.DiagnosticPullMode}});x_(g_(),ln)});var AP=_(Ur=>{"use strict";var OW=Ur&&Ur.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kP=Ur&&Ur.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&OW(e,t,r)};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.SettingMonitor=Ur.LanguageClient=Ur.TransportKind=void 0;var $i=require("child_process"),M_=require("fs"),F_=require("path"),hs=require("vscode"),mt=gn(),FP=g_(),xW=WT(),wt=Zu(),MW=ds(),FW=_a();kP(Zu(),Ur);kP(MP(),Ur);var IP="^1.82.0",St;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(St||(Ur.TransportKind=St={}));var fs;(function(t){function e(r){let n=r;return n&&n.kind===St.socket&&mt.number(n.port)}t.isSocket=e})(fs||(fs={}));var I_;(function(t){function e(r){return mt.string(r.command)}t.is=e})(I_||(I_={}));var k_;(function(t){function e(r){return mt.string(r.module)}t.is=e})(k_||(k_={}));var A_;(function(t){function e(r){let n=r;return n&&n.writer!==void 0&&n.reader!==void 0}t.is=e})(A_||(A_={}));var N_;(function(t){function e(r){let n=r;return n&&n.process!==void 0&&typeof n.detached=="boolean"}t.is=e})(N_||(N_={}));var L_=class extends FP.BaseLanguageClient{constructor(e,r,n,i,s){let o,a,u,c,l;mt.string(r)?(o=e,a=r,u=n,c=i,l=!!s):(o=e.toLowerCase(),a=e,u=r,c=n,l=i),l===void 0&&(l=!1),super(o,a,c),this._serverOptions=u,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(f){throw mt.string(f.message)&&this.outputChannel.appendLine(f.message),f}}checkVersion(){let e=MW(hs.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${hs.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!FW(e,IP))throw new Error(`The language client requires VS Code version ${IP} but received version ${hs.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let r=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(r),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,xW.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function r(l,f){if(!l&&!f)return;let d=Object.create(null);return Object.keys(process.env).forEach(g=>d[g]=process.env[g]),f&&(d.ELECTRON_RUN_AS_NODE="1",d.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(g=>d[g]=l[g]),d}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let l=process.execArgv;return l?l.some(f=>n.some(d=>f.startsWith(d))||i.some(d=>f===d)):!1}function o(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(mt.func(a))return a().then(l=>{if(FP.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(A_.is(l))return this._isDetached=!!l.detached,{reader:new wt.StreamMessageReader(l.reader),writer:new wt.StreamMessageWriter(l.writer)};{let f;return N_.is(l)?(f=l.process,this._isDetached=l.detached):(f=l,this._isDetached=!1),f.stderr.on("data",d=>this.outputChannel.append(mt.string(d)?d:d.toString(e))),{reader:new wt.StreamMessageReader(f.stdout),writer:new wt.StreamMessageWriter(f.stdin)}}});let u,c=a;return c.run||c.debug?this._forceDebug||s()?(u=c.debug,this._isInDebugMode=!0):(u=c.run,this._isInDebugMode=!1):u=a,this._getServerWorkingDir(u.options).then(l=>{if(k_.is(u)&&u.module){let f=u,d=f.transport||St.stdio;if(f.runtime){let g=[],p=f.options??Object.create(null);p.execArgv&&p.execArgv.forEach(w=>g.push(w)),g.push(f.module),f.args&&f.args.forEach(w=>g.push(w));let b=Object.create(null);b.cwd=l,b.env=r(p.env,!1);let C=this._getRuntimePath(f.runtime,l),D;if(d===St.ipc?(b.stdio=[null,null,null,"ipc"],g.push("--node-ipc")):d===St.stdio?g.push("--stdio"):d===St.pipe?(D=(0,wt.generateRandomPipeName)(),g.push(`--pipe=${D}`)):fs.isSocket(d)&&g.push(`--socket=${d.port}`),g.push(`--clientProcessId=${process.pid.toString()}`),d===St.ipc||d===St.stdio){let w=$i.spawn(C,g,b);return!w||!w.pid?ba(w,`Launching server using runtime ${C} failed.`):(this._serverProcess=w,w.stderr.on("data",S=>this.outputChannel.append(mt.string(S)?S:S.toString(e))),d===St.ipc?(w.stdout.on("data",S=>this.outputChannel.append(mt.string(S)?S:S.toString(e))),Promise.resolve({reader:new wt.IPCMessageReader(w),writer:new wt.IPCMessageWriter(w)})):Promise.resolve({reader:new wt.StreamMessageReader(w.stdout),writer:new wt.StreamMessageWriter(w.stdin)}))}else{if(d===St.pipe)return(0,wt.createClientPipeTransport)(D).then(w=>{let S=$i.spawn(C,g,b);return!S||!S.pid?ba(S,`Launching server using runtime ${C} failed.`):(this._serverProcess=S,S.stderr.on("data",O=>this.outputChannel.append(mt.string(O)?O:O.toString(e))),S.stdout.on("data",O=>this.outputChannel.append(mt.string(O)?O:O.toString(e))),w.onConnected().then(O=>({reader:O[0],writer:O[1]})))});if(fs.isSocket(d))return(0,wt.createClientSocketTransport)(d.port).then(w=>{let S=$i.spawn(C,g,b);return!S||!S.pid?ba(S,`Launching server using runtime ${C} failed.`):(this._serverProcess=S,S.stderr.on("data",O=>this.outputChannel.append(mt.string(O)?O:O.toString(e))),S.stdout.on("data",O=>this.outputChannel.append(mt.string(O)?O:O.toString(e))),w.onConnected().then(O=>({reader:O[0],writer:O[1]})))})}}else{let g;return new Promise((p,b)=>{let C=(f.args&&f.args.slice())??[];d===St.ipc?C.push("--node-ipc"):d===St.stdio?C.push("--stdio"):d===St.pipe?(g=(0,wt.generateRandomPipeName)(),C.push(`--pipe=${g}`)):fs.isSocket(d)&&C.push(`--socket=${d.port}`),C.push(`--clientProcessId=${process.pid.toString()}`);let D=f.options??Object.create(null);if(D.env=r(D.env,!0),D.execArgv=D.execArgv||[],D.cwd=l,D.silent=!0,d===St.ipc||d===St.stdio){let w=$i.fork(f.module,C||[],D);o(w),this._serverProcess=w,w.stderr.on("data",S=>this.outputChannel.append(mt.string(S)?S:S.toString(e))),d===St.ipc?(w.stdout.on("data",S=>this.outputChannel.append(mt.string(S)?S:S.toString(e))),p({reader:new wt.IPCMessageReader(this._serverProcess),writer:new wt.IPCMessageWriter(this._serverProcess)})):p({reader:new wt.StreamMessageReader(w.stdout),writer:new wt.StreamMessageWriter(w.stdin)})}else d===St.pipe?(0,wt.createClientPipeTransport)(g).then(w=>{let S=$i.fork(f.module,C||[],D);o(S),this._serverProcess=S,S.stderr.on("data",O=>this.outputChannel.append(mt.string(O)?O:O.toString(e))),S.stdout.on("data",O=>this.outputChannel.append(mt.string(O)?O:O.toString(e))),w.onConnected().then(O=>{p({reader:O[0],writer:O[1]})},b)},b):fs.isSocket(d)&&(0,wt.createClientSocketTransport)(d.port).then(w=>{let S=$i.fork(f.module,C||[],D);o(S),this._serverProcess=S,S.stderr.on("data",O=>this.outputChannel.append(mt.string(O)?O:O.toString(e))),S.stdout.on("data",O=>this.outputChannel.append(mt.string(O)?O:O.toString(e))),w.onConnected().then(O=>{p({reader:O[0],writer:O[1]})},b)},b)})}}else if(I_.is(u)&&u.command){let f=u,d=u.args!==void 0?u.args.slice(0):[],g,p=u.transport;if(p===St.stdio)d.push("--stdio");else if(p===St.pipe)g=(0,wt.generateRandomPipeName)(),d.push(`--pipe=${g}`);else if(fs.isSocket(p))d.push(`--socket=${p.port}`);else if(p===St.ipc)throw new Error("Transport kind ipc is not support for command executable");let b=Object.assign({},f.options);if(b.cwd=b.cwd||l,p===void 0||p===St.stdio){let C=$i.spawn(f.command,d,b);return!C||!C.pid?ba(C,`Launching server using command ${f.command} failed.`):(C.stderr.on("data",D=>this.outputChannel.append(mt.string(D)?D:D.toString(e))),this._serverProcess=C,this._isDetached=!!b.detached,Promise.resolve({reader:new wt.StreamMessageReader(C.stdout),writer:new wt.StreamMessageWriter(C.stdin)}))}else{if(p===St.pipe)return(0,wt.createClientPipeTransport)(g).then(C=>{let D=$i.spawn(f.command,d,b);return!D||!D.pid?ba(D,`Launching server using command ${f.command} failed.`):(this._serverProcess=D,this._isDetached=!!b.detached,D.stderr.on("data",w=>this.outputChannel.append(mt.string(w)?w:w.toString(e))),D.stdout.on("data",w=>this.outputChannel.append(mt.string(w)?w:w.toString(e))),C.onConnected().then(w=>({reader:w[0],writer:w[1]})))});if(fs.isSocket(p))return(0,wt.createClientSocketTransport)(p.port).then(C=>{let D=$i.spawn(f.command,d,b);return!D||!D.pid?ba(D,`Launching server using command ${f.command} failed.`):(this._serverProcess=D,this._isDetached=!!b.detached,D.stderr.on("data",w=>this.outputChannel.append(mt.string(w)?w:w.toString(e))),D.stdout.on("data",w=>this.outputChannel.append(mt.string(w)?w:w.toString(e))),C.onConnected().then(w=>({reader:w[0],writer:w[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(l,f)=>{l!==null&&this.error(`Server process exited with code ${l}.`,void 0,!1),f!==null&&this.error(`Server process exited with signal ${f}.`,void 0,!1)})})}_getRuntimePath(e,r){if(F_.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=F_.join(n,e);if(M_.existsSync(i))return i}if(r!==void 0){let i=F_.join(r,e);if(M_.existsSync(i))return i}return e}_mainGetRootPath(){let e=hs.workspace.workspaceFolders;if(!e||e.length===0)return;let r=e[0];if(r.uri.scheme==="file")return r.uri.fsPath}_getServerWorkingDir(e){let r=e&&e.cwd;return r||(r=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),r?new Promise(n=>{M_.lstat(r,(i,s)=>{n(!i&&s.isDirectory()?r:void 0)})}):Promise.resolve(void 0)}};Ur.LanguageClient=L_;var j_=class{constructor(e,r){this._client=e,this._setting=r,this._listeners=[]}start(){return hs.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new hs.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),r=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?hs.workspace.getConfiguration(r).get(n,!1):hs.workspace.getConfiguration(r);i&&this._client.needsStart()?this._client.start().catch(s=>this._client.error("Start failed after configuration change",s,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(s=>this._client.error("Stop failed after configuration change",s,"force"))}};Ur.SettingMonitor=j_;function ba(t,e){return t===null?Promise.reject(e):new Promise((r,n)=>{t.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var LP=_((mX,NP)=>{"use strict";NP.exports=AP()});var $_=_(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.ApiEvent=void 0;var IW;(function(t){t.DidRegisterDocumentFormattingEditProvider="DidRegisterDocumentFormattingEditProvider",t.DidResetConfiguration="DidResetConfiguration"})(IW=ac.ApiEvent||(ac.ApiEvent={}))});var zr=_((vX,jP)=>{"use strict";var W_=class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,t)}};jP.exports=t=>{if(t.length>2)throw new W_(t);function e(n={}){this.options=n}e.prototype.transform=t;function r(n){return new e(n)}return r.Format=e,r}});var UP=_((_X,HP)=>{var WP={};HP.exports=WP;var $P={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys($P).forEach(function(t){var e=$P[t],r=WP[t]=[];r.open="\x1B["+e[0]+"m",r.close="\x1B["+e[1]+"m"})});var KP=_((bX,zP)=>{"use strict";zP.exports=function(t,e){e=e||process.argv||[];var r=e.indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",i=e.indexOf(n+t);return i!==-1&&(r===-1?!0:i<r)}});var VP=_((wX,BP)=>{"use strict";var kW=require("os"),Kn=KP(),vr=process.env,wa=void 0;Kn("no-color")||Kn("no-colors")||Kn("color=false")?wa=!1:(Kn("color")||Kn("colors")||Kn("color=true")||Kn("color=always"))&&(wa=!0);"FORCE_COLOR"in vr&&(wa=vr.FORCE_COLOR.length===0||parseInt(vr.FORCE_COLOR,10)!==0);function AW(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function NW(t){if(wa===!1)return 0;if(Kn("color=16m")||Kn("color=full")||Kn("color=truecolor"))return 3;if(Kn("color=256"))return 2;if(t&&!t.isTTY&&wa!==!0)return 0;var e=wa?1:0;if(process.platform==="win32"){var r=kW.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in vr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(i){return i in vr})||vr.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in vr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(vr.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in vr){var n=parseInt((vr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(vr.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(vr.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(vr.TERM)||"COLORTERM"in vr?1:(vr.TERM==="dumb",e)}function H_(t){var e=NW(t);return AW(e)}BP.exports={supportsColor:H_,stdout:H_(process.stdout),stderr:H_(process.stderr)}});var YP=_((SX,GP)=>{GP.exports=function(e,r){var n="";e=e||"Run the trap, drop the bass",e=e.split("");var i={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(s){s=s.toLowerCase();var o=i[s]||[" "],a=Math.floor(Math.random()*o.length);typeof i[s]<"u"?n+=i[s][a]:n+=s}),n}});var JP=_((RX,XP)=>{XP.exports=function(e,r){e=e||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},i=[].concat(n.up,n.down,n.mid);function s(u){var c=Math.floor(Math.random()*u);return c}function o(u){var c=!1;return i.filter(function(l){c=l===u}),c}function a(u,c){var l="",f,d;c=c||{},c.up=typeof c.up<"u"?c.up:!0,c.mid=typeof c.mid<"u"?c.mid:!0,c.down=typeof c.down<"u"?c.down:!0,c.size=typeof c.size<"u"?c.size:"maxi",u=u.split("");for(d in u)if(!o(d)){switch(l=l+u[d],f={up:0,down:0,mid:0},c.size){case"mini":f.up=s(8),f.mid=s(2),f.down=s(8);break;case"maxi":f.up=s(16)+3,f.mid=s(4)+1,f.down=s(64)+3;break;default:f.up=s(8)+1,f.mid=s(6)/2,f.down=s(8)+1;break}var g=["up","mid","down"];for(var p in g)for(var b=g[p],C=0;C<=f[b];C++)c[b]&&(l=l+n[b][s(n[b].length)])}return l}return a(e,r)}});var ZP=_((CX,QP)=>{QP.exports=function(t){return function(e,r,n){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var tq=_((DX,eq)=>{eq.exports=function(t){return function(e,r,n){return r%2===0?e:t.inverse(e)}}});var nq=_((EX,rq)=>{rq.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,n,i){return r===" "?r:t[e[n++%e.length]](r)}}});var sq=_((TX,iq)=>{iq.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}});var dq=_((qX,lq)=>{var xe={};lq.exports=xe;xe.themes={};var LW=require("util"),lo=xe.styles=UP(),aq=Object.defineProperties,jW=new RegExp(/[\r\n]+/g);xe.supportsColor=VP().supportsColor;typeof xe.enabled>"u"&&(xe.enabled=xe.supportsColor()!==!1);xe.enable=function(){xe.enabled=!0};xe.disable=function(){xe.enabled=!1};xe.stripColors=xe.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var PX=xe.stylize=function(e,r){if(!xe.enabled)return e+"";var n=lo[r];return!n&&r in xe?xe[r](e):n.open+e+n.close},$W=/[|\\{}()[\]^$+*?.]/g,WW=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace($W,"\\$&")};function uq(t){var e=function r(){return UW.apply(r,arguments)};return e._styles=t,e.__proto__=HW,e}var cq=function(){var t={};return lo.grey=lo.gray,Object.keys(lo).forEach(function(e){lo[e].closeRe=new RegExp(WW(lo[e].close),"g"),t[e]={get:function(){return uq(this._styles.concat(e))}}}),t}(),HW=aq(function(){},cq);function UW(){var t=Array.prototype.slice.call(arguments),e=t.map(function(o){return o!=null&&o.constructor===String?o:LW.inspect(o)}).join(" ");if(!xe.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,n=this._styles,i=n.length;i--;){var s=lo[n[i]];e=s.open+e.replace(s.closeRe,s.open)+s.close,r&&(e=e.replace(jW,function(o){return s.close+o+s.open}))}return e}xe.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){xe[r]=function(n){if(typeof t[r]=="object"){var i=n;for(var s in t[r])i=xe[t[r][s]](i);return i}return xe[t[r]](n)}})(e)};function zW(){var t={};return Object.keys(cq).forEach(function(e){t[e]={get:function(){return uq([e])}}}),t}var KW=function(e,r){var n=r.split("");return n=n.map(e),n.join("")};xe.trap=YP();xe.zalgo=JP();xe.maps={};xe.maps.america=ZP()(xe);xe.maps.zebra=tq()(xe);xe.maps.rainbow=nq()(xe);xe.maps.random=sq()(xe);for(oq in xe.maps)(function(t){xe[t]=function(e){return KW(xe.maps[t],e)}})(oq);var oq;aq(xe,zW())});var U_=_((OX,fq)=>{var BW=dq();fq.exports=BW});var hq=_(z_=>{"use strict";z_.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};z_.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var gq=_(K_=>{"use strict";K_.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};K_.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var pq=_(B_=>{"use strict";B_.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};B_.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var mq=_(sf=>{"use strict";Object.defineProperty(sf,"cli",{value:hq()});Object.defineProperty(sf,"npm",{value:gq()});Object.defineProperty(sf,"syslog",{value:pq()})});var Pt=_(uc=>{"use strict";Object.defineProperty(uc,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(uc,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(uc,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(uc,"configs",{value:mq()})});var uf=_((AX,af)=>{"use strict";var Y_=U_(),{LEVEL:V_,MESSAGE:G_}=Pt();Y_.enabled=!0;var yq=/\s+/,of=class t{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){let r=Object.keys(e).reduce((n,i)=>(n[i]=yq.test(e[i])?e[i].split(yq):e[i],n),{});return t.allColors=Object.assign({},t.allColors||{},r),t.allColors}addColors(e){return t.addColors(e)}colorize(e,r,n){if(typeof n>"u"&&(n=r),!Array.isArray(t.allColors[e]))return Y_[t.allColors[e]](n);for(let i=0,s=t.allColors[e].length;i<s;i++)n=Y_[t.allColors[e][i]](n);return n}transform(e,r){return r.all&&typeof e[G_]=="string"&&(e[G_]=this.colorize(e[V_],e.level,e[G_])),(r.level||r.all||!r.message)&&(e.level=this.colorize(e[V_],e.level)),(r.all||r.message)&&(e.message=this.colorize(e[V_],e.level,e.message)),e}};af.exports=t=>new of(t);af.exports.Colorizer=af.exports.Format=of});var _q=_((NX,vq)=>{"use strict";var{Colorizer:VW}=uf();vq.exports=t=>(VW.addColors(t.colors||t),t)});var wq=_((LX,bq)=>{"use strict";var GW=zr();bq.exports=GW(t=>(t.message=`	${t.message}`,t))});var Cq=_((jX,Rq)=>{"use strict";var YW=zr(),{LEVEL:Sq,MESSAGE:X_}=Pt();Rq.exports=YW((t,{stack:e,cause:r})=>{if(t instanceof Error){let i=Object.assign({},t,{level:t.level,[Sq]:t[Sq]||t.level,message:t.message,[X_]:t[X_]||t.message});return e&&(i.stack=t.stack),r&&(i.cause=t.cause),i}if(!(t.message instanceof Error))return t;let n=t.message;return Object.assign(t,n),t.message=n.message,t[X_]=n.message,e&&(t.stack=n.stack),r&&(t.cause=n.cause),t})});var Q_=_(($X,lf)=>{"use strict";var{configs:XW,LEVEL:Dq,MESSAGE:J_}=Pt(),cf=class t{constructor(e={levels:XW.npm.levels}){this.paddings=t.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){let r=Object.keys(e).map(n=>n.length);return Math.max(...r)}static paddingForLevel(e,r,n){let i=n+1-e.length,s=Math.floor(i/r.length);return`${r}${r.repeat(s)}`.slice(0,i)}static paddingForLevels(e,r=" "){let n=t.getLongestLevel(e);return Object.keys(e).reduce((i,s)=>(i[s]=t.paddingForLevel(s,r,n),i),{})}transform(e,r){return e.message=`${this.paddings[e[Dq]]}${e.message}`,e[J_]&&(e[J_]=`${this.paddings[e[Dq]]}${e[J_]}`),e}};lf.exports=t=>new cf(t);lf.exports.Padder=lf.exports.Format=cf});var Eq=_((WX,Z_)=>{"use strict";var{Colorizer:JW}=uf(),{Padder:QW}=Q_(),{configs:ZW,MESSAGE:eH}=Pt(),df=class{constructor(e={}){e.levels||(e.levels=ZW.cli.levels),this.colorizer=new JW(e),this.padder=new QW(e),this.options=e}transform(e,r){return this.colorizer.transform(this.padder.transform(e,r),r),e[eH]=`${e.level}:${e.message}`,e}};Z_.exports=t=>new df(t);Z_.exports.Format=df});var Pq=_((HX,eb)=>{"use strict";var tH=zr();function Tq(t){if(t.every(rH))return e=>{let r=e;for(let n=0;n<t.length;n++)if(r=t[n].transform(r,t[n].options),!r)return!1;return r}}function rH(t){if(typeof t.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}eb.exports=(...t)=>{let e=tH(Tq(t)),r=e();return r.Format=e.Format,r};eb.exports.cascade=Tq});var cc=_((ib,Mq)=>{"use strict";var{hasOwnProperty:ff}=Object.prototype,ho=nb();ho.configure=nb;ho.stringify=ho;ho.default=ho;ib.stringify=ho;ib.configure=nb;Mq.exports=ho;var nH=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function gs(t){return t.length<5e3&&!nH.test(t)?`"${t}"`:JSON.stringify(t)}function tb(t){if(t.length>200)return t.sort();for(let e=1;e<t.length;e++){let r=t[e],n=e;for(;n!==0&&t[n-1]>r;)t[n]=t[n-1],n--;t[n]=r}return t}var iH=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function rb(t){return iH.call(t)!==void 0&&t.length!==0}function qq(t,e,r){t.length<r&&(r=t.length);let n=e===","?"":" ",i=`"0":${n}${t[0]}`;for(let s=1;s<r;s++)i+=`${e}"${s}":${n}${t[s]}`;return i}function sH(t){if(ff.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function Oq(t,e){let r;if(ff.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function xq(t,e){let r;if(ff.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function fo(t){return t===1?"1 item":`${t} items`}function oH(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function aH(t){if(ff.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function nb(t){t={...t};let e=aH(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=sH(t),n=Oq(t,"bigint"),i=Oq(t,"deterministic"),s=xq(t,"maximumDepth"),o=xq(t,"maximumBreadth");function a(d,g,p,b,C,D){let w=g[d];switch(typeof w=="object"&&w!==null&&typeof w.toJSON=="function"&&(w=w.toJSON(d)),w=b.call(g,d,w),typeof w){case"string":return gs(w);case"object":{if(w===null)return"null";if(p.indexOf(w)!==-1)return r;let S="",O=",",A=D;if(Array.isArray(w)){if(w.length===0)return"[]";if(s<p.length+1)return'"[Array]"';p.push(w),C!==""&&(D+=C,S+=`
${D}`,O=`,
${D}`);let N=Math.min(w.length,o),Q=0;for(;Q<N-1;Q++){let ye=a(String(Q),w,p,b,C,D);S+=ye!==void 0?ye:"null",S+=O}let J=a(String(Q),w,p,b,C,D);if(S+=J!==void 0?J:"null",w.length-1>o){let ye=w.length-o-1;S+=`${O}"... ${fo(ye)} not stringified"`}return C!==""&&(S+=`
${A}`),p.pop(),`[${S}]`}let z=Object.keys(w),U=z.length;if(U===0)return"{}";if(s<p.length+1)return'"[Object]"';let K="",ue="";C!==""&&(D+=C,O=`,
${D}`,K=" ");let V=Math.min(U,o);i&&!rb(w)&&(z=tb(z)),p.push(w);for(let N=0;N<V;N++){let Q=z[N],J=a(Q,w,p,b,C,D);J!==void 0&&(S+=`${ue}${gs(Q)}:${K}${J}`,ue=O)}if(U>o){let N=U-o;S+=`${ue}"...":${K}"${fo(N)} not stringified"`,ue=O}return C!==""&&ue.length>1&&(S=`
${D}${S}
${A}`),p.pop(),`{${S}}`}case"number":return isFinite(w)?String(w):e?e(w):"null";case"boolean":return w===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(w);default:return e?e(w):void 0}}function u(d,g,p,b,C,D){switch(typeof g=="object"&&g!==null&&typeof g.toJSON=="function"&&(g=g.toJSON(d)),typeof g){case"string":return gs(g);case"object":{if(g===null)return"null";if(p.indexOf(g)!==-1)return r;let w=D,S="",O=",";if(Array.isArray(g)){if(g.length===0)return"[]";if(s<p.length+1)return'"[Array]"';p.push(g),C!==""&&(D+=C,S+=`
${D}`,O=`,
${D}`);let U=Math.min(g.length,o),K=0;for(;K<U-1;K++){let V=u(String(K),g[K],p,b,C,D);S+=V!==void 0?V:"null",S+=O}let ue=u(String(K),g[K],p,b,C,D);if(S+=ue!==void 0?ue:"null",g.length-1>o){let V=g.length-o-1;S+=`${O}"... ${fo(V)} not stringified"`}return C!==""&&(S+=`
${w}`),p.pop(),`[${S}]`}p.push(g);let A="";C!==""&&(D+=C,O=`,
${D}`,A=" ");let z="";for(let U of b){let K=u(U,g[U],p,b,C,D);K!==void 0&&(S+=`${z}${gs(U)}:${A}${K}`,z=O)}return C!==""&&z.length>1&&(S=`
${D}${S}
${w}`),p.pop(),`{${S}}`}case"number":return isFinite(g)?String(g):e?e(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(g);default:return e?e(g):void 0}}function c(d,g,p,b,C){switch(typeof g){case"string":return gs(g);case"object":{if(g===null)return"null";if(typeof g.toJSON=="function"){if(g=g.toJSON(d),typeof g!="object")return c(d,g,p,b,C);if(g===null)return"null"}if(p.indexOf(g)!==-1)return r;let D=C;if(Array.isArray(g)){if(g.length===0)return"[]";if(s<p.length+1)return'"[Array]"';p.push(g),C+=b;let K=`
${C}`,ue=`,
${C}`,V=Math.min(g.length,o),N=0;for(;N<V-1;N++){let J=c(String(N),g[N],p,b,C);K+=J!==void 0?J:"null",K+=ue}let Q=c(String(N),g[N],p,b,C);if(K+=Q!==void 0?Q:"null",g.length-1>o){let J=g.length-o-1;K+=`${ue}"... ${fo(J)} not stringified"`}return K+=`
${D}`,p.pop(),`[${K}]`}let w=Object.keys(g),S=w.length;if(S===0)return"{}";if(s<p.length+1)return'"[Object]"';C+=b;let O=`,
${C}`,A="",z="",U=Math.min(S,o);rb(g)&&(A+=qq(g,O,o),w=w.slice(g.length),U-=g.length,z=O),i&&(w=tb(w)),p.push(g);for(let K=0;K<U;K++){let ue=w[K],V=c(ue,g[ue],p,b,C);V!==void 0&&(A+=`${z}${gs(ue)}: ${V}`,z=O)}if(S>o){let K=S-o;A+=`${z}"...": "${fo(K)} not stringified"`,z=O}return z!==""&&(A=`
${C}${A}
${D}`),p.pop(),`{${A}}`}case"number":return isFinite(g)?String(g):e?e(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(g);default:return e?e(g):void 0}}function l(d,g,p){switch(typeof g){case"string":return gs(g);case"object":{if(g===null)return"null";if(typeof g.toJSON=="function"){if(g=g.toJSON(d),typeof g!="object")return l(d,g,p);if(g===null)return"null"}if(p.indexOf(g)!==-1)return r;let b="";if(Array.isArray(g)){if(g.length===0)return"[]";if(s<p.length+1)return'"[Array]"';p.push(g);let O=Math.min(g.length,o),A=0;for(;A<O-1;A++){let U=l(String(A),g[A],p);b+=U!==void 0?U:"null",b+=","}let z=l(String(A),g[A],p);if(b+=z!==void 0?z:"null",g.length-1>o){let U=g.length-o-1;b+=`,"... ${fo(U)} not stringified"`}return p.pop(),`[${b}]`}let C=Object.keys(g),D=C.length;if(D===0)return"{}";if(s<p.length+1)return'"[Object]"';let w="",S=Math.min(D,o);rb(g)&&(b+=qq(g,",",o),C=C.slice(g.length),S-=g.length,w=","),i&&(C=tb(C)),p.push(g);for(let O=0;O<S;O++){let A=C[O],z=l(A,g[A],p);z!==void 0&&(b+=`${w}${gs(A)}:${z}`,w=",")}if(D>o){let O=D-o;b+=`${w}"...":"${fo(O)} not stringified"`}return p.pop(),`{${b}}`}case"number":return isFinite(g)?String(g):e?e(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(g);default:return e?e(g):void 0}}function f(d,g,p){if(arguments.length>1){let b="";if(typeof p=="number"?b=" ".repeat(Math.min(p,10)):typeof p=="string"&&(b=p.slice(0,10)),g!=null){if(typeof g=="function")return a("",{"":d},[],g,b,"");if(Array.isArray(g))return u("",d,[],oH(g),b,"")}if(b.length!==0)return c("",d,[],b,"")}return l("",d,[])}return f}});var sb=_((UX,Fq)=>{"use strict";var uH=zr(),{MESSAGE:cH}=Pt(),lH=cc();function dH(t,e){return typeof e=="bigint"?e.toString():e}Fq.exports=uH((t,e)=>{let r=lH.configure(e);return t[cH]=r(t,e.replacer||dH,e.space),t})});var kq=_((zX,Iq)=>{"use strict";var fH=zr();Iq.exports=fH((t,e)=>e.message?(t.message=`[${e.label}] ${t.message}`,t):(t.label=e.label,t))});var Nq=_((KX,Aq)=>{"use strict";var hH=zr(),{MESSAGE:gH}=Pt(),pH=cc();Aq.exports=hH(t=>{let e={};return t.message&&(e["@message"]=t.message,delete t.message),t.timestamp&&(e["@timestamp"]=t.timestamp,delete t.timestamp),e["@fields"]=t,t[gH]=pH(e),t})});var jq=_((BX,Lq)=>{"use strict";var mH=zr();function yH(t,e,r){let n=e.reduce((s,o)=>(s[o]=t[o],delete t[o],s),{}),i=Object.keys(t).reduce((s,o)=>(s[o]=t[o],delete t[o],s),{});return Object.assign(t,n,{[r]:i}),t}function vH(t,e,r){return t[r]=e.reduce((n,i)=>(n[i]=t[i],delete t[i],n),{}),t}Lq.exports=mH((t,e={})=>{let r="metadata";e.key&&(r=e.key);let n=[];return!e.fillExcept&&!e.fillWith&&(n.push("level"),n.push("message")),e.fillExcept&&(n=e.fillExcept),n.length>0?yH(t,n,r):e.fillWith?vH(t,e.fillWith,r):t})});var Wq=_((VX,$q)=>{var Sa=1e3,Ra=Sa*60,Ca=Ra*60,go=Ca*24,_H=go*7,bH=go*365.25;$q.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return wH(t);if(r==="number"&&isFinite(t))return e.long?RH(t):SH(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function wH(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*bH;case"weeks":case"week":case"w":return r*_H;case"days":case"day":case"d":return r*go;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ca;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ra;case"seconds":case"second":case"secs":case"sec":case"s":return r*Sa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function SH(t){var e=Math.abs(t);return e>=go?Math.round(t/go)+"d":e>=Ca?Math.round(t/Ca)+"h":e>=Ra?Math.round(t/Ra)+"m":e>=Sa?Math.round(t/Sa)+"s":t+"ms"}function RH(t){var e=Math.abs(t);return e>=go?hf(t,e,go,"day"):e>=Ca?hf(t,e,Ca,"hour"):e>=Ra?hf(t,e,Ra,"minute"):e>=Sa?hf(t,e,Sa,"second"):t+" ms"}function hf(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Uq=_((lc,Hq)=>{"use strict";var CH=zr(),DH=Wq();Hq.exports=CH(t=>{let e=+new Date;return lc.diff=e-(lc.prevTime||e),lc.prevTime=e,t.ms=`+${DH(lc.diff)}`,t})});var Bq=_((GX,Kq)=>{"use strict";var EH=require("util").inspect,TH=zr(),{LEVEL:PH,MESSAGE:zq,SPLAT:qH}=Pt();Kq.exports=TH((t,e={})=>{let r=Object.assign({},t);return delete r[PH],delete r[zq],delete r[qH],t[zq]=EH(r,!1,e.depth||null,e.colorize),t})});var Vq=_((YX,pf)=>{"use strict";var{MESSAGE:OH}=Pt(),gf=class{constructor(e){this.template=e}transform(e){return e[OH]=this.template(e),e}};pf.exports=t=>new gf(t);pf.exports.Printf=pf.exports.Format=gf});var Xq=_((XX,Yq)=>{"use strict";var xH=zr(),{MESSAGE:Gq}=Pt(),MH=cc();Yq.exports=xH(t=>{let e=MH(Object.assign({},t,{level:void 0,message:void 0,splat:void 0})),r=t.padding&&t.padding[t.level]||"";return e!=="{}"?t[Gq]=`${t.level}:${r} ${t.message} ${e}`:t[Gq]=`${t.level}:${r} ${t.message}`,t})});var Zq=_((JX,Qq)=>{"use strict";var FH=require("util"),{SPLAT:Jq}=Pt(),IH=/%[scdjifoO%]/g,kH=/%%/g,ob=class{constructor(e){this.options=e}_splat(e,r){let n=e.message,i=e[Jq]||e.splat||[],s=n.match(kH),o=s&&s.length||0,u=r.length-o-i.length,c=u<0?i.splice(u,-1*u):[],l=c.length;if(l)for(let f=0;f<l;f++)Object.assign(e,c[f]);return e.message=FH.format(n,...i),e}transform(e){let r=e.message,n=e[Jq]||e.splat;if(!n||!n.length)return e;let i=r&&r.match&&r.match(IH);if(!i&&(n||n.length)){let s=n.length>1?n.splice(0):n,o=s.length;if(o)for(let a=0;a<o;a++)Object.assign(e,s[a]);return e}return i?this._splat(e,i):e}};Qq.exports=t=>new ob(t)});var t1=_((mf,e1)=>{(function(t,e){typeof mf=="object"&&typeof e1<"u"?e(mf):typeof define=="function"&&define.amd?define(["exports"],e):e(t.fecha={})})(mf,function(t){"use strict";var e=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="\\d\\d?",n="\\d\\d",i="\\d{3}",s="\\d{4}",o="[^\\s]+",a=/\[([^]*?)\]/gm;function u(F,X){for(var ge=[],le=0,oe=F.length;le<oe;le++)ge.push(F[le].substr(0,X));return ge}var c=function(F){return function(X,ge){var le=ge[F].map(function(at){return at.toLowerCase()}),oe=le.indexOf(X.toLowerCase());return oe>-1?oe:null}};function l(F){for(var X=[],ge=1;ge<arguments.length;ge++)X[ge-1]=arguments[ge];for(var le=0,oe=X;le<oe.length;le++){var at=oe[le];for(var ct in at)F[ct]=at[ct]}return F}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],g=u(d,3),p=u(f,3),b={dayNamesShort:p,dayNames:f,monthNamesShort:g,monthNames:d,amPm:["am","pm"],DoFn:function(F){return F+["th","st","nd","rd"][F%10>3?0:(F-F%10!==10?1:0)*F%10]}},C=l({},b),D=function(F){return C=l(C,F)},w=function(F){return F.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},S=function(F,X){for(X===void 0&&(X=2),F=String(F);F.length<X;)F="0"+F;return F},O={D:function(F){return String(F.getDate())},DD:function(F){return S(F.getDate())},Do:function(F,X){return X.DoFn(F.getDate())},d:function(F){return String(F.getDay())},dd:function(F){return S(F.getDay())},ddd:function(F,X){return X.dayNamesShort[F.getDay()]},dddd:function(F,X){return X.dayNames[F.getDay()]},M:function(F){return String(F.getMonth()+1)},MM:function(F){return S(F.getMonth()+1)},MMM:function(F,X){return X.monthNamesShort[F.getMonth()]},MMMM:function(F,X){return X.monthNames[F.getMonth()]},YY:function(F){return S(String(F.getFullYear()),4).substr(2)},YYYY:function(F){return S(F.getFullYear(),4)},h:function(F){return String(F.getHours()%12||12)},hh:function(F){return S(F.getHours()%12||12)},H:function(F){return String(F.getHours())},HH:function(F){return S(F.getHours())},m:function(F){return String(F.getMinutes())},mm:function(F){return S(F.getMinutes())},s:function(F){return String(F.getSeconds())},ss:function(F){return S(F.getSeconds())},S:function(F){return String(Math.round(F.getMilliseconds()/100))},SS:function(F){return S(Math.round(F.getMilliseconds()/10),2)},SSS:function(F){return S(F.getMilliseconds(),3)},a:function(F,X){return F.getHours()<12?X.amPm[0]:X.amPm[1]},A:function(F,X){return F.getHours()<12?X.amPm[0].toUpperCase():X.amPm[1].toUpperCase()},ZZ:function(F){var X=F.getTimezoneOffset();return(X>0?"-":"+")+S(Math.floor(Math.abs(X)/60)*100+Math.abs(X)%60,4)},Z:function(F){var X=F.getTimezoneOffset();return(X>0?"-":"+")+S(Math.floor(Math.abs(X)/60),2)+":"+S(Math.abs(X)%60,2)}},A=function(F){return+F-1},z=[null,r],U=[null,o],K=["isPm",o,function(F,X){var ge=F.toLowerCase();return ge===X.amPm[0]?0:ge===X.amPm[1]?1:null}],ue=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(F){var X=(F+"").match(/([+-]|\d\d)/gi);if(X){var ge=+X[1]*60+parseInt(X[2],10);return X[0]==="+"?ge:-ge}return 0}],V={D:["day",r],DD:["day",n],Do:["day",r+o,function(F){return parseInt(F,10)}],M:["month",r,A],MM:["month",n,A],YY:["year",n,function(F){var X=new Date,ge=+(""+X.getFullYear()).substr(0,2);return+(""+(+F>68?ge-1:ge)+F)}],h:["hour",r,void 0,"isPm"],hh:["hour",n,void 0,"isPm"],H:["hour",r],HH:["hour",n],m:["minute",r],mm:["minute",n],s:["second",r],ss:["second",n],YYYY:["year",s],S:["millisecond","\\d",function(F){return+F*100}],SS:["millisecond",n,function(F){return+F*10}],SSS:["millisecond",i],d:z,dd:z,ddd:U,dddd:U,MMM:["month",o,c("monthNamesShort")],MMMM:["month",o,c("monthNames")],a:K,A:K,ZZ:ue,Z:ue},N={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Q=function(F){return l(N,F)},J=function(F,X,ge){if(X===void 0&&(X=N.default),ge===void 0&&(ge={}),typeof F=="number"&&(F=new Date(F)),Object.prototype.toString.call(F)!=="[object Date]"||isNaN(F.getTime()))throw new Error("Invalid Date pass to format");X=N[X]||X;var le=[];X=X.replace(a,function(at,ct){return le.push(ct),"@@@"});var oe=l(l({},C),ge);return X=X.replace(e,function(at){return O[at](F,oe)}),X.replace(/@@@/g,function(){return le.shift()})};function ye(F,X,ge){if(ge===void 0&&(ge={}),typeof X!="string")throw new Error("Invalid format in fecha parse");if(X=N[X]||X,F.length>1e3)return null;var le=new Date,oe={year:le.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},at=[],ct=[],Tr=X.replace(a,function(Mr,At){return ct.push(w(At)),"@@@"}),hr={},Zr={};Tr=w(Tr).replace(e,function(Mr){var At=V[Mr],Fr=At[0],vt=At[1],Nt=At[3];if(hr[Fr])throw new Error("Invalid format. "+Fr+" specified twice in format");return hr[Fr]=!0,Nt&&(Zr[Nt]=!0),at.push(At),"("+vt+")"}),Object.keys(Zr).forEach(function(Mr){if(!hr[Mr])throw new Error("Invalid format. "+Mr+" is required in specified format")}),Tr=Tr.replace(/@@@/g,function(){return ct.shift()});var Pr=F.match(new RegExp(Tr,"i"));if(!Pr)return null;for(var ni=l(l({},C),ge),Rt=1;Rt<Pr.length;Rt++){var qr=at[Rt-1],en=qr[0],tn=qr[2],yt=tn?tn(Pr[Rt],ni):+Pr[Rt];if(yt==null)return null;oe[en]=yt}oe.isPm===1&&oe.hour!=null&&+oe.hour!=12?oe.hour=+oe.hour+12:oe.isPm===0&&+oe.hour==12&&(oe.hour=0);var Or;if(oe.timezoneOffset==null){Or=new Date(oe.year,oe.month,oe.day,oe.hour,oe.minute,oe.second,oe.millisecond);for(var nr=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Rt=0,xr=nr.length;Rt<xr;Rt++)if(hr[nr[Rt][0]]&&oe[nr[Rt][0]]!==Or[nr[Rt][1]]())return null}else if(Or=new Date(Date.UTC(oe.year,oe.month,oe.day,oe.hour,oe.minute-oe.timezoneOffset,oe.second,oe.millisecond)),oe.month>11||oe.month<0||oe.day>31||oe.day<1||oe.hour>23||oe.hour<0||oe.minute>59||oe.minute<0||oe.second>59||oe.second<0)return null;return Or}var he={format:J,parse:ye,defaultI18n:b,setGlobalDateI18n:D,setGlobalDateMasks:Q};t.assign=l,t.default=he,t.format=J,t.parse=ye,t.defaultI18n=b,t.setGlobalDateI18n=D,t.setGlobalDateMasks=Q,Object.defineProperty(t,"__esModule",{value:!0})})});var n1=_((QX,r1)=>{"use strict";var AH=t1(),NH=zr();r1.exports=NH((t,e={})=>(e.format&&(t.timestamp=typeof e.format=="function"?e.format():AH.format(new Date,e.format)),t.timestamp||(t.timestamp=new Date().toISOString()),e.alias&&(t[e.alias]=t.timestamp),t))});var s1=_((ZX,i1)=>{"use strict";var ab=U_(),LH=zr(),{MESSAGE:ub}=Pt();i1.exports=LH((t,e)=>(e.level!==!1&&(t.level=ab.strip(t.level)),e.message!==!1&&(t.message=ab.strip(String(t.message))),e.raw!==!1&&t[ub]&&(t[ub]=ab.strip(String(t[ub]))),t))});var lb=_(cb=>{"use strict";var jH=cb.format=zr();cb.levels=_q();function Qt(t,e){Object.defineProperty(jH,t,{get(){return e()},configurable:!0})}Qt("align",function(){return wq()});Qt("errors",function(){return Cq()});Qt("cli",function(){return Eq()});Qt("combine",function(){return Pq()});Qt("colorize",function(){return uf()});Qt("json",function(){return sb()});Qt("label",function(){return kq()});Qt("logstash",function(){return Nq()});Qt("metadata",function(){return jq()});Qt("ms",function(){return Uq()});Qt("padLevels",function(){return Q_()});Qt("prettyPrint",function(){return Bq()});Qt("printf",function(){return Vq()});Qt("simple",function(){return Xq()});Qt("splat",function(){return Zq()});Qt("timestamp",function(){return n1()});Qt("uncolorize",function(){return s1()})});var db=_(yf=>{"use strict";var{format:o1}=require("util");yf.warn={deprecated(t){return()=>{throw new Error(o1("{ %s } was removed in winston@3.0.0.",t))}},useFormat(t){return()=>{throw new Error([o1("{ %s } was removed in winston@3.0.0.",t),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(t,e,r){r.forEach(n=>{t[n]=yf.warn[e](n)})},forProperties(t,e,r){r.forEach(n=>{let i=yf.warn[e](n);Object.defineProperty(t,n,{get:i,set:i})})}}});var a1=_((rJ,$H)=>{$H.exports={name:"winston",description:"A logger for just about everything.",version:"3.12.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.4.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.7.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^5.0.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^15.1.0",rimraf:"^5.0.5",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var fb=_((nJ,u1)=>{u1.exports=require("util").deprecate});var hb=_((iJ,c1)=>{c1.exports=require("stream")});var pb=_((sJ,d1)=>{"use strict";function WH(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(gb,this,t)):process.nextTick(gb,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(vf,r):(r._writableState.errorEmitted=!0,process.nextTick(l1,r,s)):process.nextTick(l1,r,s):e?(process.nextTick(vf,r),e(s)):process.nextTick(vf,r)}),this)}function l1(t,e){gb(t,e),vf(t)}function vf(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function HH(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function gb(t,e){t.emit("error",e)}function UH(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}d1.exports={destroy:WH,undestroy:HH,errorOrDestroy:UH}});var Da=_((oJ,g1)=>{"use strict";var h1={};function Rn(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}class i extends r{constructor(o,a,u){super(n(o,a,u))}}i.prototype.name=r.name,i.prototype.code=t,h1[t]=i}function f1(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function zH(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function KH(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function BH(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Rn("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Rn("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&zH(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(KH(t," argument"))i=`The ${t} ${n} ${f1(e,"type")}`;else{let s=BH(t,".")?"property":"argument";i=`The "${t}" ${s} ${n} ${f1(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);Rn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Rn("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Rn("ERR_STREAM_PREMATURE_CLOSE","Premature close");Rn("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Rn("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Rn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Rn("ERR_STREAM_WRITE_AFTER_END","write after end");Rn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Rn("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Rn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");g1.exports.codes=h1});var mb=_((aJ,p1)=>{"use strict";var VH=Da().codes.ERR_INVALID_OPT_VALUE;function GH(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function YH(t,e,r,n){var i=GH(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new VH(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}p1.exports={getHighWaterMark:YH}});var m1=_((uJ,yb)=>{typeof Object.create=="function"?yb.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:yb.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Wi=_((cJ,_b)=>{try{if(vb=require("util"),typeof vb.inherits!="function")throw"";_b.exports=vb.inherits}catch{_b.exports=m1()}var vb});var S1=_((lJ,w1)=>{"use strict";function y1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(r),!0).forEach(function(n){XH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XH(t,e,r){return e=b1(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b1(n.key),n)}}function QH(t,e,r){return e&&_1(t.prototype,e),r&&_1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function b1(t){var e=ZH(t,"string");return typeof e=="symbol"?e:String(e)}function ZH(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e5=require("buffer"),_f=e5.Buffer,t5=require("util"),bb=t5.inspect,r5=bb&&bb.custom||"inspect";function n5(t,e,r){_f.prototype.copy.call(t,e,r)}w1.exports=function(){function t(){JH(this,t),this.head=null,this.tail=null,this.length=0}return QH(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return _f.alloc(0);for(var n=_f.allocUnsafe(r>>>0),i=this.head,s=0;i;)n5(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=_f.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:r5,value:function(r,n){return bb(this,v1(v1({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var D1=_((wb,C1)=>{var bf=require("buffer"),Hi=bf.Buffer;function R1(t,e){for(var r in t)e[r]=t[r]}Hi.from&&Hi.alloc&&Hi.allocUnsafe&&Hi.allocUnsafeSlow?C1.exports=bf:(R1(bf,wb),wb.Buffer=Ea);function Ea(t,e,r){return Hi(t,e,r)}R1(Hi,Ea);Ea.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Hi(t,e,r)};Ea.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Hi(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ea.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Hi(t)};Ea.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return bf.SlowBuffer(t)}});var fc=_(T1=>{"use strict";var Rb=D1().Buffer,E1=Rb.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i5(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function s5(t){var e=i5(t);if(typeof e!="string"&&(Rb.isEncoding===E1||!E1(t)))throw new Error("Unknown encoding: "+t);return e||t}T1.StringDecoder=dc;function dc(t){this.encoding=s5(t);var e;switch(this.encoding){case"utf16le":this.text=d5,this.end=f5,e=4;break;case"utf8":this.fillLast=u5,e=4;break;case"base64":this.text=h5,this.end=g5,e=3;break;default:this.write=p5,this.end=m5;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Rb.allocUnsafe(e)}dc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};dc.prototype.end=l5;dc.prototype.text=c5;dc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Sb(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function o5(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Sb(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Sb(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Sb(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function a5(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function u5(t){var e=this.lastTotal-this.lastNeed,r=a5(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function c5(t,e){var r=o5(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function l5(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function d5(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f5(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function h5(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function g5(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p5(t){return t.toString(this.encoding)}function m5(t){return t&&t.length?this.write(t):""}});var x1=_((fJ,O1)=>{"use strict";var P1=Da().codes.ERR_STREAM_PREMATURE_CLOSE;function y5(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function v5(){}function _5(t){return t.setHeader&&typeof t.abort=="function"}function q1(t,e,r){if(typeof e=="function")return q1(t,null,e);e||(e={}),r=y5(r||v5);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},l=function(p){r.call(t,p)},f=function(){var p;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(p=new P1),r.call(t,p);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(p=new P1),r.call(t,p)},d=function(){t.req.on("finish",a)};return _5(t)?(t.on("complete",a),t.on("abort",f),t.req?d():t.on("request",d)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",f),function(){t.removeListener("complete",a),t.removeListener("abort",f),t.removeListener("request",d),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",f)}}O1.exports=q1});var F1=_((hJ,M1)=>{"use strict";var wf;function ps(t,e,r){return e=b5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b5(t){var e=w5(t,"string");return typeof e=="symbol"?e:String(e)}function w5(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S5=x1(),ms=Symbol("lastResolve"),po=Symbol("lastReject"),hc=Symbol("error"),Sf=Symbol("ended"),mo=Symbol("lastPromise"),Cb=Symbol("handlePromise"),yo=Symbol("stream");function ys(t,e){return{value:t,done:e}}function R5(t){var e=t[ms];if(e!==null){var r=t[yo].read();r!==null&&(t[mo]=null,t[ms]=null,t[po]=null,e(ys(r,!1)))}}function C5(t){process.nextTick(R5,t)}function D5(t,e){return function(r,n){t.then(function(){if(e[Sf]){r(ys(void 0,!0));return}e[Cb](r,n)},n)}}var E5=Object.getPrototypeOf(function(){}),T5=Object.setPrototypeOf((wf={get stream(){return this[yo]},next:function(){var e=this,r=this[hc];if(r!==null)return Promise.reject(r);if(this[Sf])return Promise.resolve(ys(void 0,!0));if(this[yo].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[hc]?a(e[hc]):o(ys(void 0,!0))})});var n=this[mo],i;if(n)i=new Promise(D5(n,this));else{var s=this[yo].read();if(s!==null)return Promise.resolve(ys(s,!1));i=new Promise(this[Cb])}return this[mo]=i,i}},ps(wf,Symbol.asyncIterator,function(){return this}),ps(wf,"return",function(){var e=this;return new Promise(function(r,n){e[yo].destroy(null,function(i){if(i){n(i);return}r(ys(void 0,!0))})})}),wf),E5),P5=function(e){var r,n=Object.create(T5,(r={},ps(r,yo,{value:e,writable:!0}),ps(r,ms,{value:null,writable:!0}),ps(r,po,{value:null,writable:!0}),ps(r,hc,{value:null,writable:!0}),ps(r,Sf,{value:e._readableState.endEmitted,writable:!0}),ps(r,Cb,{value:function(s,o){var a=n[yo].read();a?(n[mo]=null,n[ms]=null,n[po]=null,s(ys(a,!1))):(n[ms]=s,n[po]=o)},writable:!0}),r));return n[mo]=null,S5(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[po];s!==null&&(n[mo]=null,n[ms]=null,n[po]=null,s(i)),n[hc]=i;return}var o=n[ms];o!==null&&(n[mo]=null,n[ms]=null,n[po]=null,o(ys(void 0,!0))),n[Sf]=!0}),e.on("readable",C5.bind(null,n)),n};M1.exports=P5});var N1=_((gJ,A1)=>{"use strict";function I1(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function q5(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){I1(s,n,i,o,a,"next",u)}function a(u){I1(s,n,i,o,a,"throw",u)}o(void 0)})}}function k1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(r),!0).forEach(function(n){x5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x5(t,e,r){return e=M5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M5(t){var e=F5(t,"string");return typeof e=="symbol"?e:String(e)}function F5(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I5=Da().codes.ERR_INVALID_ARG_TYPE;function k5(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new I5("iterable",["Iterable"],e);var i=new t(O5({objectMode:!0},r)),s=!1;i._read=function(){s||(s=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=q5(function*(){try{var u=yield n.next(),c=u.value,l=u.done;l?i.push(null):i.push(yield c)?o():s=!1}catch(f){i.destroy(f)}}),a.apply(this,arguments)}return i}A1.exports=k5});var G1=_((mJ,V1)=>{"use strict";V1.exports=We;var Ta;We.ReadableState=W1;var pJ=require("events").EventEmitter,$1=function(e,r){return e.listeners(r).length},pc=hb(),Rf=require("buffer").Buffer,A5=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function N5(t){return Rf.from(t)}function L5(t){return Rf.isBuffer(t)||t instanceof A5}var Db=require("util"),Pe;Db&&Db.debuglog?Pe=Db.debuglog("stream"):Pe=function(){};var j5=S1(),Mb=pb(),$5=mb(),W5=$5.getHighWaterMark,Cf=Da().codes,H5=Cf.ERR_INVALID_ARG_TYPE,U5=Cf.ERR_STREAM_PUSH_AFTER_EOF,z5=Cf.ERR_METHOD_NOT_IMPLEMENTED,K5=Cf.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Pa,Eb,Tb;Wi()(We,pc);var gc=Mb.errorOrDestroy,Pb=["error","close","destroy","pause","resume"];function B5(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function W1(t,e,r){Ta=Ta||mc(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ta),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=W5(this,t,"readableHighWaterMark",r),this.buffer=new j5,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Pa||(Pa=fc().StringDecoder),this.decoder=new Pa(t.encoding),this.encoding=t.encoding)}function We(t){if(Ta=Ta||mc(),!(this instanceof We))return new We(t);var e=this instanceof Ta;this._readableState=new W1(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),pc.call(this)}Object.defineProperty(We.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});We.prototype.destroy=Mb.destroy;We.prototype._undestroy=Mb.undestroy;We.prototype._destroy=function(t,e){e(t)};We.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Rf.from(t,e),e=""),n=!0),H1(this,t,e,!1,n)};We.prototype.unshift=function(t){return H1(this,t,null,!0,!1)};function H1(t,e,r,n,i){Pe("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Y5(t,s);else{var o;if(i||(o=V5(s,e)),o)gc(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Rf.prototype&&(e=N5(e)),n)s.endEmitted?gc(t,new K5):qb(t,s,e,!0);else if(s.ended)gc(t,new U5);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?qb(t,s,e,!1):xb(t,s)):qb(t,s,e,!1)}else n||(s.reading=!1,xb(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function qb(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Df(t)),xb(t,e)}function V5(t,e){var r;return!L5(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new H5("chunk",["string","Buffer","Uint8Array"],e)),r}We.prototype.isPaused=function(){return this._readableState.flowing===!1};We.prototype.setEncoding=function(t){Pa||(Pa=fc().StringDecoder);var e=new Pa(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var L1=1073741824;function G5(t){return t>=L1?t=L1:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function j1(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=G5(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}We.prototype.read=function(t){Pe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Pe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Ob(this):Df(this),null;if(t=j1(t,e),t===0&&e.ended)return e.length===0&&Ob(this),null;var n=e.needReadable;Pe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Pe("length less than watermark",n)),e.ended||e.reading?(n=!1,Pe("reading or ended",n)):n&&(Pe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=j1(r,e)));var i;return t>0?i=K1(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Ob(this)),i!==null&&this.emit("data",i),i};function Y5(t,e){if(Pe("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Df(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,U1(t)))}}function Df(t){var e=t._readableState;Pe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Pe("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(U1,t))}function U1(t){var e=t._readableState;Pe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Fb(t)}function xb(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(X5,t,e))}function X5(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Pe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}We.prototype._read=function(t){gc(this,new z5("_read()"))};We.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Pe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:b;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(C,D){Pe("onunpipe"),C===r&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,l())}function a(){Pe("onend"),t.end()}var u=J5(r);t.on("drain",u);var c=!1;function l(){Pe("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),t.removeListener("drain",u),t.removeListener("error",d),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",b),r.removeListener("data",f),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",f);function f(C){Pe("ondata");var D=t.write(C);Pe("dest.write",D),D===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&B1(n.pipes,t)!==-1)&&!c&&(Pe("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(C){Pe("onerror",C),b(),t.removeListener("error",d),$1(t,"error")===0&&gc(t,C)}B5(t,"error",d);function g(){t.removeListener("finish",p),b()}t.once("close",g);function p(){Pe("onfinish"),t.removeListener("close",g),b()}t.once("finish",p);function b(){Pe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Pe("pipe resume"),r.resume()),t};function J5(t){return function(){var r=t._readableState;Pe("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&$1(t,"data")&&(r.flowing=!0,Fb(t))}}We.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=B1(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};We.prototype.on=function(t,e){var r=pc.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Pe("on readable",n.length,n.reading),n.length?Df(this):n.reading||process.nextTick(Q5,this)),r};We.prototype.addListener=We.prototype.on;We.prototype.removeListener=function(t,e){var r=pc.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(z1,this),r};We.prototype.removeAllListeners=function(t){var e=pc.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(z1,this),e};function z1(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Q5(t){Pe("readable nexttick read 0"),t.read(0)}We.prototype.resume=function(){var t=this._readableState;return t.flowing||(Pe("resume"),t.flowing=!t.readableListening,Z5(this,t)),t.paused=!1,this};function Z5(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(eU,t,e))}function eU(t,e){Pe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Fb(t),e.flowing&&!e.reading&&t.read(0)}We.prototype.pause=function(){return Pe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Fb(t){var e=t._readableState;for(Pe("flow",e.flowing);e.flowing&&t.read()!==null;);}We.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Pe("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Pe("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<Pb.length;s++)t.on(Pb[s],this.emit.bind(this,Pb[s]));return this._read=function(o){Pe("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(We.prototype[Symbol.asyncIterator]=function(){return Eb===void 0&&(Eb=F1()),Eb(this)});Object.defineProperty(We.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(We.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(We.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});We._fromList=K1;Object.defineProperty(We.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function K1(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Ob(t){var e=t._readableState;Pe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(tU,e,t))}function tU(t,e){if(Pe("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(We.from=function(t,e){return Tb===void 0&&(Tb=N1()),Tb(We,t,e)});function B1(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var mc=_((yJ,X1)=>{"use strict";var rU=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};X1.exports=fi;var Y1=G1(),kb=Ab();Wi()(fi,Y1);for(Ib=rU(kb.prototype),Ef=0;Ef<Ib.length;Ef++)Tf=Ib[Ef],fi.prototype[Tf]||(fi.prototype[Tf]=kb.prototype[Tf]);var Ib,Tf,Ef;function fi(t){if(!(this instanceof fi))return new fi(t);Y1.call(this,t),kb.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",nU)))}Object.defineProperty(fi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(fi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(fi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function nU(){this._writableState.ended||process.nextTick(iU,this)}function iU(t){t.end()}Object.defineProperty(fi.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Ab=_((vJ,rO)=>{"use strict";rO.exports=qt;function Q1(t){var e=this;this.next=null,this.entry=null,this.finish=function(){xU(e,t)}}var qa;qt.WritableState=vc;var sU={deprecate:fb()},Z1=hb(),qf=require("buffer").Buffer,oU=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function aU(t){return qf.from(t)}function uU(t){return qf.isBuffer(t)||t instanceof oU}var Lb=pb(),cU=mb(),lU=cU.getHighWaterMark,vs=Da().codes,dU=vs.ERR_INVALID_ARG_TYPE,fU=vs.ERR_METHOD_NOT_IMPLEMENTED,hU=vs.ERR_MULTIPLE_CALLBACK,gU=vs.ERR_STREAM_CANNOT_PIPE,pU=vs.ERR_STREAM_DESTROYED,mU=vs.ERR_STREAM_NULL_VALUES,yU=vs.ERR_STREAM_WRITE_AFTER_END,vU=vs.ERR_UNKNOWN_ENCODING,Oa=Lb.errorOrDestroy;Wi()(qt,Z1);function _U(){}function vc(t,e,r){qa=qa||mc(),t=t||{},typeof r!="boolean"&&(r=e instanceof qa),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=lU(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){EU(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Q1(this)}vc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(vc.prototype,"buffer",{get:sU.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Pf;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Pf=Function.prototype[Symbol.hasInstance],Object.defineProperty(qt,Symbol.hasInstance,{value:function(e){return Pf.call(this,e)?!0:this!==qt?!1:e&&e._writableState instanceof vc}})):Pf=function(e){return e instanceof this};function qt(t){qa=qa||mc();var e=this instanceof qa;if(!e&&!Pf.call(qt,this))return new qt(t);this._writableState=new vc(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Z1.call(this)}qt.prototype.pipe=function(){Oa(this,new gU)};function bU(t,e){var r=new yU;Oa(t,r),process.nextTick(e,r)}function wU(t,e,r,n){var i;return r===null?i=new mU:typeof r!="string"&&!e.objectMode&&(i=new dU("chunk",["string","Buffer"],r)),i?(Oa(t,i),process.nextTick(n,i),!1):!0}qt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&uU(t);return s&&!qf.isBuffer(t)&&(t=aU(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=_U),n.ending?bU(this,r):(s||wU(this,n,t,r))&&(n.pendingcb++,i=RU(this,n,s,t,e,r)),i};qt.prototype.cork=function(){this._writableState.corked++};qt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&eO(this,t))};qt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new vU(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(qt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function SU(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=qf.from(e,r)),e}Object.defineProperty(qt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function RU(t,e,r,n,i,s){if(!r){var o=SU(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Nb(t,e,!1,a,n,i,s);return u}function Nb(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new pU("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function CU(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(yc,t,e),t._writableState.errorEmitted=!0,Oa(t,n)):(i(n),t._writableState.errorEmitted=!0,Oa(t,n),yc(t,e))}function DU(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function EU(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new hU;if(DU(r),e)CU(t,r,n,e,i);else{var s=tO(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&eO(t,r),n?process.nextTick(J1,t,r,s,i):J1(t,r,s,i)}}function J1(t,e,r,n){r||TU(t,e),e.pendingcb--,n(),yc(t,e)}function TU(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function eO(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,Nb(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Q1(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,f=e.objectMode?1:u.length;if(Nb(t,e,!1,f,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}qt.prototype._write=function(t,e,r){r(new fU("_write()"))};qt.prototype._writev=null;qt.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||OU(this,n,r),this};Object.defineProperty(qt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function tO(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function PU(t,e){t._final(function(r){e.pendingcb--,r&&Oa(t,r),e.prefinished=!0,t.emit("prefinish"),yc(t,e)})}function qU(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(PU,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function yc(t,e){var r=tO(e);if(r&&(qU(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function OU(t,e,r){e.ending=!0,yc(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function xU(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(qt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});qt.prototype.destroy=Lb.destroy;qt.prototype._undestroy=Lb.undestroy;qt.prototype._destroy=function(t,e){e(t)}});var jb=_((_J,sO)=>{"use strict";var MU=require("util"),nO=Ab(),{LEVEL:iO}=Pt(),_c=sO.exports=function(e={}){nO.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close())})};MU.inherits(_c,nO);_c.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);let i=this.level||this.parent&&this.parent.level;if(!i||this.levels[i]>=this.levels[e[iO]]){if(e&&!this.format)return this.log(e,n);let s,o;try{o=this.format.transform(Object.assign({},e),this.format.options)}catch(a){s=a}if(s||!o){if(n(),s)throw s;return}return this.log(o,n)}return this._writableState.sync=!1,n(null)};_c.prototype._writev=function(e,r){if(this.logv){let n=e.filter(this._accept,this);return n.length?this.logv(n,r):r(null)}for(let n=0;n<e.length;n++){if(!this._accept(e[n]))continue;if(e[n].chunk&&!this.format){this.log(e[n].chunk,e[n].callback);continue}let i,s;try{s=this.format.transform(Object.assign({},e[n].chunk),this.format.options)}catch(o){i=o}if(i||!s){if(e[n].callback(),i)throw r(null),i}else this.log(s,e[n].callback)}return r(null)};_c.prototype._accept=function(e){let r=e.chunk;if(this.silent)return!1;let n=this.level||this.parent&&this.parent.level;return!!((r.exception===!0||!n||this.levels[n]>=this.levels[r[iO]])&&(this.handleExceptions||r.exception!==!0))};_c.prototype._nop=function(){}});var Wb=_((bJ,aO)=>{"use strict";var FU=require("util"),{LEVEL:$b}=Pt(),oO=jb(),bc=aO.exports=function(e={}){if(oO.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function r(n){this.emit("error",n,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError))};FU.inherits(bc,oO);bc.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[e[$b]])&&this.transport.log(e[$b],e.message,e,this._nop),n(null)};bc.prototype._writev=function(e,r){for(let n=0;n<e.length;n++)this._accept(e[n])&&(this.transport.log(e[n].chunk[$b],e[n].chunk.message,e[n].chunk,this._nop),e[n].callback());return r(null)};bc.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};bc.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}});var vo=_((wJ,Hb)=>{"use strict";Hb.exports=jb();Hb.exports.LegacyTransportStream=Wb()});var lO=_((RJ,cO)=>{"use strict";var IU=require("os"),{LEVEL:uO,MESSAGE:xa}=Pt(),kU=vo();cO.exports=class extends kU{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=typeof e.eol=="string"?e.eol:IU.EOL,this.setMaxListeners(30)}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[uO]]){console._stderr?console._stderr.write(`${e[xa]}${this.eol}`):console.error(e[xa]),r&&r();return}else if(this.consoleWarnLevels[e[uO]]){console._stderr?console._stderr.write(`${e[xa]}${this.eol}`):console.warn(e[xa]),r&&r();return}console._stdout?console._stdout.write(`${e[xa]}${this.eol}`):console.log(e[xa]),r&&r()}_stringArrayToSet(e,r){if(!e)return{};if(r=r||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(r);return e.reduce((n,i)=>{if(typeof i!="string")throw new Error(r);return n[i]=!0,n},{})}}});var xf=_((Of,dO)=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.default=AU;function AU(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}dO.exports=Of.default});var hO=_((Mf,fO)=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.default=function(t){return function(...e){var r=e.pop();return t.call(this,e,r)}};fO.exports=Mf.default});var mO=_(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.fallback=gO;_s.wrap=pO;var NU=_s.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,LU=_s.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,jU=_s.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function gO(t){setTimeout(t,0)}function pO(t){return(e,...r)=>t(()=>e(...r))}var wc;NU?wc=queueMicrotask:LU?wc=setImmediate:jU?wc=process.nextTick:wc=gO;_s.default=pO(wc)});var wO=_((Ff,bO)=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.default=KU;var $U=hO(),WU=_O($U),HU=mO(),UU=_O(HU),zU=_o();function _O(t){return t&&t.__esModule?t:{default:t}}function KU(t){return(0,zU.isAsync)(t)?function(...e){let r=e.pop(),n=t.apply(this,e);return yO(n,r)}:(0,WU.default)(function(e,r){var n;try{n=t.apply(this,e)}catch(i){return r(i)}if(n&&typeof n.then=="function")return yO(n,r);r(null,n)})}function yO(t,e){return t.then(r=>{vO(e,null,r)},r=>{vO(e,r&&(r instanceof Error||r.message)?r:new Error(r))})}function vO(t,e,r){try{t(e,r)}catch(n){(0,UU.default)(i=>{throw i},n)}}bO.exports=Ff.default});var _o=_(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.isAsyncIterable=Ui.isAsyncGenerator=Ui.isAsync=void 0;var BU=wO(),VU=GU(BU);function GU(t){return t&&t.__esModule?t:{default:t}}function SO(t){return t[Symbol.toStringTag]==="AsyncFunction"}function YU(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function XU(t){return typeof t[Symbol.asyncIterator]=="function"}function JU(t){if(typeof t!="function")throw new Error("expected a function");return SO(t)?(0,VU.default)(t):t}Ui.default=JU;Ui.isAsync=SO;Ui.isAsyncGenerator=YU;Ui.isAsyncIterable=XU});var Ma=_((If,RO)=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.default=QU;function QU(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");function r(...n){return typeof n[e-1]=="function"?t.apply(this,n):new Promise((i,s)=>{n[e-1]=(o,...a)=>{if(o)return s(o);i(a.length>1?a:a[0])},t.apply(this,n)})}return r}RO.exports=If.default});var DO=_((kf,CO)=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});var ZU=xf(),e3=Ub(ZU),t3=_o(),r3=Ub(t3),n3=Ma(),i3=Ub(n3);function Ub(t){return t&&t.__esModule?t:{default:t}}kf.default=(0,i3.default)((t,e,r)=>{var n=(0,e3.default)(e)?[]:{};t(e,(i,s,o)=>{(0,r3.default)(i)((a,...u)=>{u.length<2&&([u]=u),n[s]=u,o(a)})},i=>r(i,n))},3);CO.exports=kf.default});var zb=_((Af,EO)=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.default=s3;function s3(t){function e(...r){if(t!==null){var n=t;t=null,n.apply(this,r)}}return Object.assign(e,t),e}EO.exports=Af.default});var PO=_((Nf,TO)=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()};TO.exports=Nf.default});var xO=_((Lf,OO)=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.default=h3;var o3=xf(),a3=qO(o3),u3=PO(),c3=qO(u3);function qO(t){return t&&t.__esModule?t:{default:t}}function l3(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}function d3(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function f3(t){var e=t?Object.keys(t):[],r=-1,n=e.length;return function i(){var s=e[++r];return s==="__proto__"?i():r<n?{value:t[s],key:s}:null}}function h3(t){if((0,a3.default)(t))return l3(t);var e=(0,c3.default)(t);return e?d3(e):f3(t)}OO.exports=Lf.default});var Kb=_((jf,MO)=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.default=g3;function g3(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}MO.exports=jf.default});var Wf=_(($f,FO)=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});var p3={};$f.default=p3;FO.exports=$f.default});var kO=_((Hf,IO)=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.default=_3;var m3=Wf(),y3=v3(m3);function v3(t){return t&&t.__esModule?t:{default:t}}function _3(t,e,r,n){let i=!1,s=!1,o=!1,a=0,u=0;function c(){a>=e||o||i||(o=!0,t.next().then(({value:d,done:g})=>{if(!(s||i)){if(o=!1,g){i=!0,a<=0&&n(null);return}a++,r(d,u,l),u++,c()}}).catch(f))}function l(d,g){if(a-=1,!s){if(d)return f(d);if(d===!1){i=!0,s=!0;return}if(g===y3.default||i&&a<=0)return i=!0,n(null);c()}}function f(d){s||(o=!1,i=!0,n(d))}c()}IO.exports=Hf.default});var jO=_((Uf,LO)=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});var b3=zb(),w3=Sc(b3),S3=xO(),R3=Sc(S3),C3=Kb(),D3=Sc(C3),AO=_o(),E3=kO(),NO=Sc(E3),T3=Wf(),P3=Sc(T3);function Sc(t){return t&&t.__esModule?t:{default:t}}Uf.default=t=>(e,r,n)=>{if(n=(0,w3.default)(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if((0,AO.isAsyncGenerator)(e))return(0,NO.default)(e,t,r,n);if((0,AO.isAsyncIterable)(e))return(0,NO.default)(e[Symbol.asyncIterator](),t,r,n);var i=(0,R3.default)(e),s=!1,o=!1,a=0,u=!1;function c(f,d){if(!o)if(a-=1,f)s=!0,n(f);else if(f===!1)s=!0,o=!0;else{if(d===P3.default||s&&a<=0)return s=!0,n(null);u||l()}}function l(){for(u=!0;a<t&&!s;){var f=i();if(f===null){s=!0,a<=0&&n(null);return}a+=1,r(f.value,f.key,(0,D3.default)(c))}u=!1}l()};LO.exports=Uf.default});var Vb=_((zf,$O)=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});var q3=jO(),O3=Bb(q3),x3=_o(),M3=Bb(x3),F3=Ma(),I3=Bb(F3);function Bb(t){return t&&t.__esModule?t:{default:t}}function k3(t,e,r,n){return(0,O3.default)(e)(t,(0,M3.default)(r),n)}zf.default=(0,I3.default)(k3,4);$O.exports=zf.default});var UO=_((Kf,HO)=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});var A3=Vb(),N3=WO(A3),L3=Ma(),j3=WO(L3);function WO(t){return t&&t.__esModule?t:{default:t}}function $3(t,e,r){return(0,N3.default)(t,1,e,r)}Kf.default=(0,j3.default)($3,3);HO.exports=Kf.default});var BO=_((Bf,KO)=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.default=K3;var W3=DO(),H3=zO(W3),U3=UO(),z3=zO(U3);function zO(t){return t&&t.__esModule?t:{default:t}}function K3(t,e){return(0,H3.default)(z3.default,t,e)}KO.exports=Bf.default});var Gb=_((EJ,VO)=>{VO.exports=require("stream")});var JO=_((TJ,XO)=>{"use strict";function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){V3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V3(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Y3(t,e,r){return e&&YO(t.prototype,e),r&&YO(t,r),t}var X3=require("buffer"),Vf=X3.Buffer,J3=require("util"),Yb=J3.inspect,Q3=Yb&&Yb.custom||"inspect";function Z3(t,e,r){Vf.prototype.copy.call(t,e,r)}XO.exports=function(){function t(){G3(this,t),this.head=null,this.tail=null,this.length=0}return Y3(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Vf.alloc(0);for(var n=Vf.allocUnsafe(r>>>0),i=this.head,s=0;i;)Z3(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=Vf.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:Q3,value:function(r,n){return Yb(this,B3({},n,{depth:0,customInspect:!1}))}}]),t}()});var Jb=_((PJ,ZO)=>{"use strict";function e4(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Xb,this,t)):process.nextTick(Xb,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Gf,r):(r._writableState.errorEmitted=!0,process.nextTick(QO,r,s)):process.nextTick(QO,r,s):e?(process.nextTick(Gf,r),e(s)):process.nextTick(Gf,r)}),this)}function QO(t,e){Xb(t,e),Gf(t)}function Gf(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function t4(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Xb(t,e){t.emit("error",e)}function r4(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}ZO.exports={destroy:e4,undestroy:t4,errorOrDestroy:r4}});var bs=_((qJ,rx)=>{"use strict";var tx={};function Cn(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}class i extends r{constructor(o,a,u){super(n(o,a,u))}}i.prototype.name=r.name,i.prototype.code=t,tx[t]=i}function ex(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function n4(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function i4(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function s4(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Cn("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Cn("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&n4(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(i4(t," argument"))i=`The ${t} ${n} ${ex(e,"type")}`;else{let s=s4(t,".")?"property":"argument";i=`The "${t}" ${s} ${n} ${ex(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);Cn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Cn("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Cn("ERR_STREAM_PREMATURE_CLOSE","Premature close");Cn("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Cn("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Cn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Cn("ERR_STREAM_WRITE_AFTER_END","write after end");Cn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Cn("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Cn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");rx.exports.codes=tx});var Qb=_((OJ,nx)=>{"use strict";var o4=bs().codes.ERR_INVALID_OPT_VALUE;function a4(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function u4(t,e,r,n){var i=a4(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new o4(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}nx.exports={getHighWaterMark:u4}});var tw=_((xJ,cx)=>{"use strict";cx.exports=Ot;function sx(t){var e=this;this.next=null,this.entry=null,this.finish=function(){k4(e,t)}}var Fa;Ot.WritableState=Cc;var c4={deprecate:fb()},ox=Gb(),Xf=require("buffer").Buffer,l4=global.Uint8Array||function(){};function d4(t){return Xf.from(t)}function f4(t){return Xf.isBuffer(t)||t instanceof l4}var ew=Jb(),h4=Qb(),g4=h4.getHighWaterMark,ws=bs().codes,p4=ws.ERR_INVALID_ARG_TYPE,m4=ws.ERR_METHOD_NOT_IMPLEMENTED,y4=ws.ERR_MULTIPLE_CALLBACK,v4=ws.ERR_STREAM_CANNOT_PIPE,_4=ws.ERR_STREAM_DESTROYED,b4=ws.ERR_STREAM_NULL_VALUES,w4=ws.ERR_STREAM_WRITE_AFTER_END,S4=ws.ERR_UNKNOWN_ENCODING,Ia=ew.errorOrDestroy;Wi()(Ot,ox);function R4(){}function Cc(t,e,r){Fa=Fa||bo(),t=t||{},typeof r!="boolean"&&(r=e instanceof Fa),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=g4(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){O4(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new sx(this)}Cc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Cc.prototype,"buffer",{get:c4.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Yf;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Yf=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ot,Symbol.hasInstance,{value:function(e){return Yf.call(this,e)?!0:this!==Ot?!1:e&&e._writableState instanceof Cc}})):Yf=function(e){return e instanceof this};function Ot(t){Fa=Fa||bo();var e=this instanceof Fa;if(!e&&!Yf.call(Ot,this))return new Ot(t);this._writableState=new Cc(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),ox.call(this)}Ot.prototype.pipe=function(){Ia(this,new v4)};function C4(t,e){var r=new w4;Ia(t,r),process.nextTick(e,r)}function D4(t,e,r,n){var i;return r===null?i=new b4:typeof r!="string"&&!e.objectMode&&(i=new p4("chunk",["string","Buffer"],r)),i?(Ia(t,i),process.nextTick(n,i),!1):!0}Ot.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&f4(t);return s&&!Xf.isBuffer(t)&&(t=d4(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=R4),n.ending?C4(this,r):(s||D4(this,n,t,r))&&(n.pendingcb++,i=T4(this,n,s,t,e,r)),i};Ot.prototype.cork=function(){this._writableState.corked++};Ot.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&ax(this,t))};Ot.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S4(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ot.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function E4(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Xf.from(e,r)),e}Object.defineProperty(Ot.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function T4(t,e,r,n,i,s){if(!r){var o=E4(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Zb(t,e,!1,a,n,i,s);return u}function Zb(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new _4("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function P4(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Rc,t,e),t._writableState.errorEmitted=!0,Ia(t,n)):(i(n),t._writableState.errorEmitted=!0,Ia(t,n),Rc(t,e))}function q4(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function O4(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new y4;if(q4(r),e)P4(t,r,n,e,i);else{var s=ux(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&ax(t,r),n?process.nextTick(ix,t,r,s,i):ix(t,r,s,i)}}function ix(t,e,r,n){r||x4(t,e),e.pendingcb--,n(),Rc(t,e)}function x4(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function ax(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,Zb(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new sx(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,f=e.objectMode?1:u.length;if(Zb(t,e,!1,f,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ot.prototype._write=function(t,e,r){r(new m4("_write()"))};Ot.prototype._writev=null;Ot.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||I4(this,n,r),this};Object.defineProperty(Ot.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ux(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function M4(t,e){t._final(function(r){e.pendingcb--,r&&Ia(t,r),e.prefinished=!0,t.emit("prefinish"),Rc(t,e)})}function F4(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(M4,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Rc(t,e){var r=ux(e);if(r&&(F4(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function I4(t,e,r){e.ending=!0,Rc(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function k4(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ot.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Ot.prototype.destroy=ew.destroy;Ot.prototype._undestroy=ew.undestroy;Ot.prototype._destroy=function(t,e){e(t)}});var bo=_((MJ,dx)=>{"use strict";var A4=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};dx.exports=hi;var lx=iw(),nw=tw();Wi()(hi,lx);for(rw=A4(nw.prototype),Jf=0;Jf<rw.length;Jf++)Qf=rw[Jf],hi.prototype[Qf]||(hi.prototype[Qf]=nw.prototype[Qf]);var rw,Qf,Jf;function hi(t){if(!(this instanceof hi))return new hi(t);lx.call(this,t),nw.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",N4)))}Object.defineProperty(hi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(hi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(hi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function N4(){this._writableState.ended||process.nextTick(L4,this)}function L4(t){t.end()}Object.defineProperty(hi.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Zf=_((FJ,gx)=>{"use strict";var fx=bs().codes.ERR_STREAM_PREMATURE_CLOSE;function j4(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function $4(){}function W4(t){return t.setHeader&&typeof t.abort=="function"}function hx(t,e,r){if(typeof e=="function")return hx(t,null,e);e||(e={}),r=j4(r||$4);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},l=function(p){r.call(t,p)},f=function(){var p;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(p=new fx),r.call(t,p);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(p=new fx),r.call(t,p)},d=function(){t.req.on("finish",a)};return W4(t)?(t.on("complete",a),t.on("abort",f),t.req?d():t.on("request",d)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",f),function(){t.removeListener("complete",a),t.removeListener("abort",f),t.removeListener("request",d),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",f)}}gx.exports=hx});var mx=_((IJ,px)=>{"use strict";var eh;function Ss(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var H4=Zf(),Rs=Symbol("lastResolve"),wo=Symbol("lastReject"),Dc=Symbol("error"),th=Symbol("ended"),So=Symbol("lastPromise"),sw=Symbol("handlePromise"),Ro=Symbol("stream");function Cs(t,e){return{value:t,done:e}}function U4(t){var e=t[Rs];if(e!==null){var r=t[Ro].read();r!==null&&(t[So]=null,t[Rs]=null,t[wo]=null,e(Cs(r,!1)))}}function z4(t){process.nextTick(U4,t)}function K4(t,e){return function(r,n){t.then(function(){if(e[th]){r(Cs(void 0,!0));return}e[sw](r,n)},n)}}var B4=Object.getPrototypeOf(function(){}),V4=Object.setPrototypeOf((eh={get stream(){return this[Ro]},next:function(){var e=this,r=this[Dc];if(r!==null)return Promise.reject(r);if(this[th])return Promise.resolve(Cs(void 0,!0));if(this[Ro].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[Dc]?a(e[Dc]):o(Cs(void 0,!0))})});var n=this[So],i;if(n)i=new Promise(K4(n,this));else{var s=this[Ro].read();if(s!==null)return Promise.resolve(Cs(s,!1));i=new Promise(this[sw])}return this[So]=i,i}},Ss(eh,Symbol.asyncIterator,function(){return this}),Ss(eh,"return",function(){var e=this;return new Promise(function(r,n){e[Ro].destroy(null,function(i){if(i){n(i);return}r(Cs(void 0,!0))})})}),eh),B4),G4=function(e){var r,n=Object.create(V4,(r={},Ss(r,Ro,{value:e,writable:!0}),Ss(r,Rs,{value:null,writable:!0}),Ss(r,wo,{value:null,writable:!0}),Ss(r,Dc,{value:null,writable:!0}),Ss(r,th,{value:e._readableState.endEmitted,writable:!0}),Ss(r,sw,{value:function(s,o){var a=n[Ro].read();a?(n[So]=null,n[Rs]=null,n[wo]=null,s(Cs(a,!1))):(n[Rs]=s,n[wo]=o)},writable:!0}),r));return n[So]=null,H4(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[wo];s!==null&&(n[So]=null,n[Rs]=null,n[wo]=null,s(i)),n[Dc]=i;return}var o=n[Rs];o!==null&&(n[So]=null,n[Rs]=null,n[wo]=null,o(Cs(void 0,!0))),n[th]=!0}),e.on("readable",z4.bind(null,n)),n};px.exports=G4});var bx=_((kJ,_x)=>{"use strict";function yx(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function Y4(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){yx(s,n,i,o,a,"next",u)}function a(u){yx(s,n,i,o,a,"throw",u)}o(void 0)})}}function vx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vx(Object(r),!0).forEach(function(n){J4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J4(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Q4=bs().codes.ERR_INVALID_ARG_TYPE;function Z4(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new Q4("iterable",["Iterable"],e);var i=new t(X4({objectMode:!0},r)),s=!1;i._read=function(){s||(s=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=Y4(function*(){try{var u=yield n.next(),c=u.value,l=u.done;l?i.push(null):i.push(yield c)?o():s=!1}catch(f){i.destroy(f)}}),a.apply(this,arguments)}return i}_x.exports=Z4});var iw=_((NJ,Ox)=>{"use strict";Ox.exports=He;var ka;He.ReadableState=Cx;var AJ=require("events").EventEmitter,Rx=function(e,r){return e.listeners(r).length},Tc=Gb(),rh=require("buffer").Buffer,ez=global.Uint8Array||function(){};function tz(t){return rh.from(t)}function rz(t){return rh.isBuffer(t)||t instanceof ez}var ow=require("util"),qe;ow&&ow.debuglog?qe=ow.debuglog("stream"):qe=function(){};var nz=JO(),hw=Jb(),iz=Qb(),sz=iz.getHighWaterMark,nh=bs().codes,oz=nh.ERR_INVALID_ARG_TYPE,az=nh.ERR_STREAM_PUSH_AFTER_EOF,uz=nh.ERR_METHOD_NOT_IMPLEMENTED,cz=nh.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Aa,aw,uw;Wi()(He,Tc);var Ec=hw.errorOrDestroy,cw=["error","close","destroy","pause","resume"];function lz(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Cx(t,e,r){ka=ka||bo(),t=t||{},typeof r!="boolean"&&(r=e instanceof ka),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=sz(this,t,"readableHighWaterMark",r),this.buffer=new nz,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Aa||(Aa=fc().StringDecoder),this.decoder=new Aa(t.encoding),this.encoding=t.encoding)}function He(t){if(ka=ka||bo(),!(this instanceof He))return new He(t);var e=this instanceof ka;this._readableState=new Cx(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Tc.call(this)}Object.defineProperty(He.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});He.prototype.destroy=hw.destroy;He.prototype._undestroy=hw.undestroy;He.prototype._destroy=function(t,e){e(t)};He.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=rh.from(t,e),e=""),n=!0),Dx(this,t,e,!1,n)};He.prototype.unshift=function(t){return Dx(this,t,null,!0,!1)};function Dx(t,e,r,n,i){qe("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,hz(t,s);else{var o;if(i||(o=dz(s,e)),o)Ec(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==rh.prototype&&(e=tz(e)),n)s.endEmitted?Ec(t,new cz):lw(t,s,e,!0);else if(s.ended)Ec(t,new az);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?lw(t,s,e,!1):fw(t,s)):lw(t,s,e,!1)}else n||(s.reading=!1,fw(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function lw(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&ih(t)),fw(t,e)}function dz(t,e){var r;return!rz(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new oz("chunk",["string","Buffer","Uint8Array"],e)),r}He.prototype.isPaused=function(){return this._readableState.flowing===!1};He.prototype.setEncoding=function(t){Aa||(Aa=fc().StringDecoder);var e=new Aa(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var wx=1073741824;function fz(t){return t>=wx?t=wx:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Sx(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=fz(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}He.prototype.read=function(t){qe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return qe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?dw(this):ih(this),null;if(t=Sx(t,e),t===0&&e.ended)return e.length===0&&dw(this),null;var n=e.needReadable;qe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,qe("length less than watermark",n)),e.ended||e.reading?(n=!1,qe("reading or ended",n)):n&&(qe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Sx(r,e)));var i;return t>0?i=Px(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&dw(this)),i!==null&&this.emit("data",i),i};function hz(t,e){if(qe("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?ih(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Ex(t)))}}function ih(t){var e=t._readableState;qe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(qe("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Ex,t))}function Ex(t){var e=t._readableState;qe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,gw(t)}function fw(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(gz,t,e))}function gz(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(qe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}He.prototype._read=function(t){Ec(this,new uz("_read()"))};He.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,qe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:b;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(C,D){qe("onunpipe"),C===r&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,l())}function a(){qe("onend"),t.end()}var u=pz(r);t.on("drain",u);var c=!1;function l(){qe("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),t.removeListener("drain",u),t.removeListener("error",d),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",b),r.removeListener("data",f),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",f);function f(C){qe("ondata");var D=t.write(C);qe("dest.write",D),D===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&qx(n.pipes,t)!==-1)&&!c&&(qe("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(C){qe("onerror",C),b(),t.removeListener("error",d),Rx(t,"error")===0&&Ec(t,C)}lz(t,"error",d);function g(){t.removeListener("finish",p),b()}t.once("close",g);function p(){qe("onfinish"),t.removeListener("close",g),b()}t.once("finish",p);function b(){qe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(qe("pipe resume"),r.resume()),t};function pz(t){return function(){var r=t._readableState;qe("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Rx(t,"data")&&(r.flowing=!0,gw(t))}}He.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=qx(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};He.prototype.on=function(t,e){var r=Tc.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,qe("on readable",n.length,n.reading),n.length?ih(this):n.reading||process.nextTick(mz,this)),r};He.prototype.addListener=He.prototype.on;He.prototype.removeListener=function(t,e){var r=Tc.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Tx,this),r};He.prototype.removeAllListeners=function(t){var e=Tc.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Tx,this),e};function Tx(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function mz(t){qe("readable nexttick read 0"),t.read(0)}He.prototype.resume=function(){var t=this._readableState;return t.flowing||(qe("resume"),t.flowing=!t.readableListening,yz(this,t)),t.paused=!1,this};function yz(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(vz,t,e))}function vz(t,e){qe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),gw(t),e.flowing&&!e.reading&&t.read(0)}He.prototype.pause=function(){return qe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(qe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function gw(t){var e=t._readableState;for(qe("flow",e.flowing);e.flowing&&t.read()!==null;);}He.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(qe("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(qe("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<cw.length;s++)t.on(cw[s],this.emit.bind(this,cw[s]));return this._read=function(o){qe("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(He.prototype[Symbol.asyncIterator]=function(){return aw===void 0&&(aw=mx()),aw(this)});Object.defineProperty(He.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(He.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(He.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});He._fromList=Px;Object.defineProperty(He.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Px(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function dw(t){var e=t._readableState;qe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(_z,e,t))}function _z(t,e){if(qe("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(He.from=function(t,e){return uw===void 0&&(uw=bx()),uw(He,t,e)});function qx(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var pw=_((LJ,Mx)=>{"use strict";Mx.exports=zi;var sh=bs().codes,bz=sh.ERR_METHOD_NOT_IMPLEMENTED,wz=sh.ERR_MULTIPLE_CALLBACK,Sz=sh.ERR_TRANSFORM_ALREADY_TRANSFORMING,Rz=sh.ERR_TRANSFORM_WITH_LENGTH_0,oh=bo();Wi()(zi,oh);function Cz(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new wz);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function zi(t){if(!(this instanceof zi))return new zi(t);oh.call(this,t),this._transformState={afterTransform:Cz.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Dz)}function Dz(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){xx(t,e,r)}):xx(this,null,null)}zi.prototype.push=function(t,e){return this._transformState.needTransform=!1,oh.prototype.push.call(this,t,e)};zi.prototype._transform=function(t,e,r){r(new bz("_transform()"))};zi.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};zi.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};zi.prototype._destroy=function(t,e){oh.prototype._destroy.call(this,t,function(r){e(r)})};function xx(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Rz;if(t._transformState.transforming)throw new Sz;return t.push(null)}});var kx=_((jJ,Ix)=>{"use strict";Ix.exports=Pc;var Fx=pw();Wi()(Pc,Fx);function Pc(t){if(!(this instanceof Pc))return new Pc(t);Fx.call(this,t)}Pc.prototype._transform=function(t,e,r){r(null,t)}});var $x=_(($J,jx)=>{"use strict";var mw;function Ez(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Lx=bs().codes,Tz=Lx.ERR_MISSING_ARGS,Pz=Lx.ERR_STREAM_DESTROYED;function Ax(t){if(t)throw t}function qz(t){return t.setHeader&&typeof t.abort=="function"}function Oz(t,e,r,n){n=Ez(n);var i=!1;t.on("close",function(){i=!0}),mw===void 0&&(mw=Zf()),mw(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,qz(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new Pz("pipe"))}}}function Nx(t){t()}function xz(t,e){return t.pipe(e)}function Mz(t){return!t.length||typeof t[t.length-1]!="function"?Ax:t.pop()}function Fz(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Mz(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Tz("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,c=a>0;return Oz(o,u,c,function(l){i||(i=l),l&&s.forEach(Nx),!u&&(s.forEach(Nx),n(i))})});return e.reduce(xz)}jx.exports=Fz});var Co=_((Dn,Oc)=>{var qc=require("stream");process.env.READABLE_STREAM==="disable"&&qc?(Oc.exports=qc.Readable,Object.assign(Oc.exports,qc),Oc.exports.Stream=qc):(Dn=Oc.exports=iw(),Dn.Stream=qc||Dn,Dn.Readable=Dn,Dn.Writable=tw(),Dn.Duplex=bo(),Dn.Transform=pw(),Dn.PassThrough=kx(),Dn.finished=Zf(),Dn.pipeline=$x())});var Rw=_((WJ,Hx)=>{var Na=[],xc=[],yw=function(){};function _w(t){return~Na.indexOf(t)?!1:(Na.push(t),!0)}function bw(t){yw=t}function Iz(t){for(var e=[],r=0;r<Na.length;r++){if(Na[r].async){e.push(Na[r]);continue}if(Na[r](t))return!0}return e.length?new Promise(function(i){Promise.all(e.map(function(o){return o(t)})).then(function(o){i(o.some(Boolean))})}):!1}function ww(t){return~xc.indexOf(t)?!1:(xc.push(t),!0)}function vw(){yw.apply(yw,arguments)}function Wx(t){for(var e=0;e<xc.length;e++)t=xc[e].apply(xc[e],arguments);return t}function Sw(t,e){var r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t}function kz(t){return t.enabled=!1,t.modify=ww,t.set=bw,t.use=_w,Sw(function(){return!1},t)}function Az(t){function e(){var r=Array.prototype.slice.call(arguments,0);return vw.call(vw,t,Wx(r,t)),!0}return t.enabled=!0,t.modify=ww,t.set=bw,t.use=_w,Sw(e,t)}Hx.exports=function(e){return e.introduce=Sw,e.enabled=Iz,e.process=Wx,e.modify=ww,e.write=vw,e.nope=kz,e.yep=Az,e.set=bw,e.use=_w,e}});var zx=_((HJ,Ux)=>{var Nz=Rw(),Lz=Nz(function t(e,r){return r=r||{},r.namespace=e,r.prod=!0,r.dev=!1,r.force||t.force?t.yep(r):t.nope(r)});Ux.exports=Lz});var Cw=_((UJ,Kx)=>{"use strict";Kx.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Vx=_((zJ,Bx)=>{Bx.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var Xx=_((KJ,Yx)=>{"use strict";var jz=Vx(),$z=Array.prototype.concat,Wz=Array.prototype.slice,Gx=Yx.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var s=e[n];jz(s)?r=$z.call(r,Wz.call(s)):r.push(s)}return r};Gx.wrap=function(t){return function(){return t(Gx(arguments))}}});var Zx=_((BJ,Qx)=>{var ch=Cw(),Mc=Xx(),Jx={};for(ah in ch)ch.hasOwnProperty(ah)&&(Jx[ch[ah]]=ah);var ah,dn=Qx.exports={to:{},get:{}};dn.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=dn.get.hsl(t),n="hsl";break;case"hwb":r=dn.get.hwb(t),n="hwb";break;default:r=dn.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};dn.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,s=/(\D+)/,o=[0,0,0,1],a,u,c;if(a=t.match(r)){for(c=a[2],a=a[1],u=0;u<3;u++){var l=u*2;o[u]=parseInt(a.slice(l,l+2),16)}c&&(o[3]=parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],u=0;u<3;u++)o[u]=parseInt(a[u]+a[u],16);c&&(o[3]=parseInt(c+c,16)/255)}else if(a=t.match(n)){for(u=0;u<3;u++)o[u]=parseInt(a[u+1],0);a[4]&&(o[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(u=0;u<3;u++)o[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(o[3]=parseFloat(a[4]))}else return(a=t.match(s))?a[1]==="transparent"?[0,0,0,0]:(o=ch[a[1]],o?(o[3]=1,o):null):null;for(u=0;u<3;u++)o[u]=Ds(o[u],0,255);return o[3]=Ds(o[3],0,1),o};dn.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?[\d\.]+)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])+360)%360,s=Ds(parseFloat(r[2]),0,100),o=Ds(parseFloat(r[3]),0,100),a=Ds(isNaN(n)?1:n,0,1);return[i,s,o,a]}return null};dn.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=Ds(parseFloat(r[2]),0,100),o=Ds(parseFloat(r[3]),0,100),a=Ds(isNaN(n)?1:n,0,1);return[i,s,o,a]}return null};dn.to.hex=function(){var t=Mc(arguments);return"#"+uh(t[0])+uh(t[1])+uh(t[2])+(t[3]<1?uh(Math.round(t[3]*255)):"")};dn.to.rgb=function(){var t=Mc(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};dn.to.rgb.percent=function(){var t=Mc(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};dn.to.hsl=function(){var t=Mc(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};dn.to.hwb=function(){var t=Mc(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};dn.to.keyword=function(t){return Jx[t.slice(0,3)]};function Ds(t,e,r){return Math.min(Math.max(e,t),r)}function uh(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}});var Dw=_((VJ,nM)=>{var Do=Cw(),rM={};for(lh in Do)Do.hasOwnProperty(lh)&&(rM[Do[lh]]=lh);var lh,de=nM.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(_r in de)if(de.hasOwnProperty(_r)){if(!("channels"in de[_r]))throw new Error("missing channels property: "+_r);if(!("labels"in de[_r]))throw new Error("missing channel labels property: "+_r);if(de[_r].labels.length!==de[_r].channels)throw new Error("channel and label counts mismatch: "+_r);eM=de[_r].channels,tM=de[_r].labels,delete de[_r].channels,delete de[_r].labels,Object.defineProperty(de[_r],"channels",{value:eM}),Object.defineProperty(de[_r],"labels",{value:tM})}var eM,tM,_r;de.rgb.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,u,c;return s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(i+s)/2,s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};de.rgb.hsv=function(t){var e,r,n,i,s,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),l=c-Math.min(o,a,u),f=function(d){return(c-d)/6/l+1/2};return l===0?i=s=0:(s=l/c,e=f(o),r=f(a),n=f(u),o===c?i=n-r:a===c?i=1/3+e-n:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};de.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],i=de.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};de.rgb.cmyk=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i,s,o,a;return a=Math.min(1-e,1-r,1-n),i=(1-e-a)/(1-a)||0,s=(1-r-a)/(1-a)||0,o=(1-n-a)/(1-a)||0,[i*100,s*100,o*100,a*100]};function Hz(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}de.rgb.keyword=function(t){var e=rM[t];if(e)return e;var r=1/0,n;for(var i in Do)if(Do.hasOwnProperty(i)){var s=Do[i],o=Hz(t,s);o<r&&(r=o,n=i)}return n};de.keyword.rgb=function(t){return Do[t]};de.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};de.rgb.lab=function(t){var e=de.rgb.xyz(t),r=e[0],n=e[1],i=e[2],s,o,a;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*n-16,o=500*(r-n),a=200*(n-i),[s,o,a]};de.hsl.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o,a,u;if(r===0)return u=n*255,[u,u,u];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,a=[0,0,0];for(var c=0;c<3;c++)o=e+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?u=i+(s-i)*6*o:2*o<1?u=s:3*o<2?u=i+(s-i)*(2/3-o)*6:u=i,a[c]=u*255;return a};de.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01),o,a;return n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s,a=(n+r)/2,o=n===0?2*i/(s+i):2*r/(n+r),[e,o*100,a*100]};de.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};de.hsv.hsl=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o,a;return a=(2-r)*n,s=(2-r)*i,o=r*i,o/=s<=1?s:2-s,o=o||0,a/=2,[e,o*100,a*100]};de.hwb.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s,o,a,u;i>1&&(r/=i,n/=i),s=Math.floor(6*e),o=1-n,a=6*e-s,s&1&&(a=1-a),u=r+a*(o-r);var c,l,f;switch(s){default:case 6:case 0:c=o,l=u,f=r;break;case 1:c=u,l=o,f=r;break;case 2:c=r,l=o,f=u;break;case 3:c=r,l=u,f=o;break;case 4:c=u,l=r,f=o;break;case 5:c=o,l=r,f=u;break}return[c*255,l*255,f*255]};de.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s,o,a;return s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),[s*255,o*255,a*255]};de.xyz.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};de.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return e/=95.047,r/=100,n/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,s=500*(e-r),o=200*(r-n),[i,s,o]};de.lab.xyz=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;var a=Math.pow(s,3),u=Math.pow(i,3),c=Math.pow(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};de.lab.lch=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return i=Math.atan2(n,r),s=i*360/2/Math.PI,s<0&&(s+=360),o=Math.sqrt(r*r+n*n),[e,o,s]};de.lch.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return o=n/360*2*Math.PI,i=r*Math.cos(o),s=r*Math.sin(o),[e,i,s]};de.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:de.rgb.hsv(t)[2];if(i=Math.round(i/50),i===0)return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return i===2&&(s+=60),s};de.hsv.ansi16=function(t){return de.rgb.ansi16(de.hsv.rgb(t),t[2])};de.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};de.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};de.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var r,n=Math.floor(t/36)/5*255,i=Math.floor((r=t%36)/6)/5*255,s=r%6/5*255;return[n,i,s]};de.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};de.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];e[0].length===3&&(r=r.split("").map(function(a){return a+a}).join(""));var n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};de.rgb.hcg=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===e?u=(r-n)/o%6:i===r?u=2+(n-e)/o:u=4+(e-r)/o+4,u/=6,u%=1,[u*360,o*100,a*100]};de.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return r<.5?n=2*e*r:n=2*e*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};de.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};de.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];var i=[0,0,0],s=e%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};de.hcg.hsv=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};de.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100,n=r*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};de.hcg.hwb=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};de.hwb.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1-r,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};de.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};de.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};de.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};de.gray.hsl=de.gray.hsv=function(t){return[0,0,t[0]]};de.gray.hwb=function(t){return[0,100,t[0]]};de.gray.cmyk=function(t){return[0,0,0,t[0]]};de.gray.lab=function(t){return[t[0],0,0]};de.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,r=(e<<16)+(e<<8)+e,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};de.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var sM=_((GJ,iM)=>{var dh=Dw();function Uz(){for(var t={},e=Object.keys(dh),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function zz(t){var e=Uz(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(dh[n]),s=i.length,o=0;o<s;o++){var a=i[o],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}return e}function Kz(t,e){return function(r){return e(t(r))}}function Bz(t,e){for(var r=[e[t].parent,t],n=dh[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=Kz(dh[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}iM.exports=function(t){for(var e=zz(t),r={},n=Object.keys(e),i=n.length,s=0;s<i;s++){var o=n[s],a=e[o];a.parent!==null&&(r[o]=Bz(o,e))}return r}});var aM=_((YJ,oM)=>{var Ew=Dw(),Vz=sM(),La={},Gz=Object.keys(Ew);function Yz(t){var e=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function Xz(t){var e=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=t(r);if(typeof n=="object")for(var i=n.length,s=0;s<i;s++)n[s]=Math.round(n[s]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}Gz.forEach(function(t){La[t]={},Object.defineProperty(La[t],"channels",{value:Ew[t].channels}),Object.defineProperty(La[t],"labels",{value:Ew[t].labels});var e=Vz(t),r=Object.keys(e);r.forEach(function(n){var i=e[n];La[t][n]=Xz(i),La[t][n].raw=Yz(i)})});oM.exports=La});var lM=_((XJ,cM)=>{"use strict";var Fc=Zx(),fn=aM(),qw=[].slice,uM=["keyword","gray","hex"],Tw={};Object.keys(fn).forEach(function(t){Tw[qw.call(fn[t].labels).sort().join("")]=t});var fh={};function Zt(t,e){if(!(this instanceof Zt))return new Zt(t,e);if(e&&e in uM&&(e=null),e&&!(e in fn))throw new Error("Unknown model: "+e);var r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Zt)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(typeof t=="string"){var i=Fc.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=fn[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length){this.model=e||"rgb",n=fn[this.model].channels;var s=qw.call(t,0,n);this.color=Pw(s,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;var o=Object.keys(t);"alpha"in t&&(o.splice(o.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);var a=o.sort().join("");if(!(a in Tw))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Tw[a];var u=fn[this.model].labels,c=[];for(r=0;r<u.length;r++)c.push(t[u[r]]);this.color=Pw(c)}if(fh[this.model])for(n=fn[this.model].channels,r=0;r<n;r++){var l=fh[this.model][r];l&&(this.color[r]=l(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Zt.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in Fc.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);var r=e.valpha===1?e.color:e.color.concat(this.valpha);return Fc.to[e.model](r)},percentString:function(t){var e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:e.color.concat(this.valpha);return Fc.to.rgb.percent(r)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=fn[this.model].channels,r=fn[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new Zt(this.color.map(Qz(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new Zt(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:xt("rgb",0,jt(255)),green:xt("rgb",1,jt(255)),blue:xt("rgb",2,jt(255)),hue:xt(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:xt("hsl",1,jt(100)),lightness:xt("hsl",2,jt(100)),saturationv:xt("hsv",1,jt(100)),value:xt("hsv",2,jt(100)),chroma:xt("hcg",1,jt(100)),gray:xt("hcg",2,jt(100)),white:xt("hwb",1,jt(100)),wblack:xt("hwb",2,jt(100)),cyan:xt("cmyk",0,jt(100)),magenta:xt("cmyk",1,jt(100)),yellow:xt("cmyk",2,jt(100)),black:xt("cmyk",3,jt(100)),x:xt("xyz",0,jt(100)),y:xt("xyz",1,jt(100)),z:xt("xyz",2,jt(100)),l:xt("lab",0,jt(100)),a:xt("lab",1),b:xt("lab",2),keyword:function(t){return arguments.length?new Zt(t):fn[this.model].keyword(this.color)},hex:function(t){return arguments.length?new Zt(t):Fc.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color,e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return Zt.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,s=2*i-1,o=r.alpha()-n.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,u=1-a;return Zt.rgb(a*r.red()+u*n.red(),a*r.green()+u*n.green(),a*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};Object.keys(fn).forEach(function(t){if(uM.indexOf(t)===-1){var e=fn[t].channels;Zt.prototype[t]=function(){if(this.model===t)return new Zt(this);if(arguments.length)return new Zt(arguments,t);var r=typeof arguments[e]=="number"?e:this.valpha;return new Zt(Zz(fn[this.model][t].raw(this.color)).concat(r),t)},Zt[t]=function(r){return typeof r=="number"&&(r=Pw(qw.call(arguments),e)),new Zt(r,t)}}});function Jz(t,e){return Number(t.toFixed(e))}function Qz(t){return function(e){return Jz(e,t)}}function xt(t,e,r){return t=Array.isArray(t)?t:[t],t.forEach(function(n){(fh[n]||(fh[n]=[]))[e]=r}),t=t[0],function(n){var i;return arguments.length?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function jt(t){return function(e){return Math.max(0,Math.min(t,e))}}function Zz(t){return Array.isArray(t)?t:[t]}function Pw(t,e){for(var r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}cM.exports=Zt});var fM=_((JJ,dM)=>{"use strict";dM.exports=function(e){for(var r=0,n=0;r<e.length;n=e.charCodeAt(r++)+((n<<5)-n));var i=Math.floor(Math.abs(Math.sin(n)*1e4%1*16777216)).toString(16);return"#"+Array(6-i.length+1).join("0")+i}});var mM=_((QJ,pM)=>{"use strict";var hM=lM(),gM=fM();pM.exports=function(e,r){var n=e.split(r||":"),i=gM(n[0]);if(!n.length)return i;for(var s=0,o=n.length-1;s<o;s++)i=hM(i).mix(hM(gM(n[s+1]))).saturate(1).hex();return i}});var vM=_((ZJ,yM)=>{"use strict";function Bn(t,e){if(e)return new Bn(t).style(e);if(!(this instanceof Bn))return new Bn(t);this.text=t}Bn.prototype.prefix="\x1B[";Bn.prototype.suffix="m";Bn.prototype.hex=function(e){e=e[0]==="#"?e.substring(1):e,e.length===3&&(e=e.split(""),e[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var r=e.substring(0,2),n=e.substring(2,4),i=e.substring(4,6);return[parseInt(r,16),parseInt(n,16),parseInt(i,16)]};Bn.prototype.rgb=function(e,r,n){var i=e/255*5,s=r/255*5,o=n/255*5;return this.ansi(i,s,o)};Bn.prototype.ansi=function(e,r,n){var i=Math.round(e),s=Math.round(r),o=Math.round(n);return 16+i*36+s*6+o};Bn.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};Bn.prototype.style=function(e){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()};yM.exports=Bn});var bM=_((eQ,_M)=>{var eK=mM(),tK=vM();_M.exports=function(e,r){var n=r.namespace,i=r.colors!==!1?tK(n+":",eK(n)):n+":";return e[0]=i+" "+e[0],e}});var SM=_((tQ,wM)=>{"use strict";wM.exports=function(e,r){if(!r)return!1;for(var n=r.split(/[\s,]+/),i=0;i<n.length;i++){if(r=n[i].replace("*",".*?"),r.charAt(0)==="-"){if(new RegExp("^"+r.substr(1)+"$").test(e))return!1;continue}if(new RegExp("^"+r+"$").test(e))return!0}return!1}});var CM=_((rQ,RM)=>{var rK=SM();RM.exports=function(e){return function(n){try{return rK(n,e())}catch{}return!1}}});var EM=_((nQ,DM)=>{var nK=CM();DM.exports=nK(function(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var PM=_((iQ,TM)=>{TM.exports=function(t,e){try{Function.prototype.apply.call(console.log,console,e)}catch{}}});var OM=_((sQ,qM)=>{var iK=Rw(),sK=require("tty").isatty(1),hh=iK(function t(e,r){return r=r||{},r.colors="colors"in r?r.colors:sK,r.namespace=e,r.prod=!1,r.dev=!0,!t.enabled(e)&&!(r.force||t.force)?t.nope(r):t.yep(r)});hh.modify(bM());hh.use(EM());hh.set(PM());qM.exports=hh});var Ic=_((oQ,Ow)=>{process.env.NODE_ENV==="production"?Ow.exports=zx():Ow.exports=OM()});var MM=_((aQ,xM)=>{"use strict";var xw=require("fs"),{StringDecoder:oK}=require("string_decoder"),{Stream:aK}=Co();function uK(){}xM.exports=(t,e)=>{let r=Buffer.alloc(65536),n=new oK("utf8"),i=new aK,s="",o=0,a=0;return t.start===-1&&delete t.start,i.readable=!0,i.destroy=()=>{i.destroyed=!0,i.emit("end"),i.emit("close")},xw.open(t.file,"a+","0644",(u,c)=>{if(u){e?e(u):i.emit("error",u),i.destroy();return}(function l(){if(i.destroyed){xw.close(c,uK);return}return xw.read(c,r,0,r.length,o,(f,d)=>{if(f){e?e(f):i.emit("error",f),i.destroy();return}if(!d)return s&&((t.start==null||a>t.start)&&(e?e(null,s):i.emit("line",s)),a++,s=""),setTimeout(l,1e3);let g=n.write(r.slice(0,d));e||i.emit("data",g),g=(s+g).split(/\n+/);let p=g.length-1,b=0;for(;b<p;b++)(t.start==null||a>t.start)&&(e?e(null,g[b]):i.emit("line",g[b])),a++;return s=g[p],o+=d,l()})})()}),e?i.destroy:i}});var AM=_((cQ,kM)=>{"use strict";var Kr=require("fs"),Vt=require("path"),FM=BO(),cK=require("zlib"),{MESSAGE:lK}=Pt(),{Stream:dK,PassThrough:IM}=Co(),fK=vo(),Vn=Ic()("winston:file"),hK=require("os"),gK=MM();kM.exports=class extends fK{constructor(e={}){super(e),this.name=e.name||"file";function r(n,...i){i.slice(1).forEach(s=>{if(e[s])throw new Error(`Cannot set ${s} and ${n} together`)})}if(this._stream=new IM,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)r("filename or dirname","stream"),this._basename=this.filename=e.filename?Vt.basename(e.filename):"winston.log",this.dirname=e.dirname||Vt.dirname(e.filename),this.options=e.options||{flags:"a"};else if(e.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=Vt.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=typeof e.eol=="string"?e.eol:hK.EOL,this.tailable=e.tailable||!1,this.lazy=e.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,r=()=>{}){if(this.silent)return r(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(e,r)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,r)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(e,r)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(e,r)})});return}}let n=`${e[lK]}${this.eol}`,i=Buffer.byteLength(n);function s(){if(this._size+=i,this._pendingSize-=i,Vn("logged %s %s",this._size,n),this.emit("logged",e),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=i,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let o=this._stream.write(n,s.bind(this));return o?r():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,r()})),Vn("written",o,this._drain),this.finishIfEnding(),o}query(e,r){typeof e=="function"&&(r=e,e={}),e=f(e);let n=Vt.join(this.dirname,this.filename),i="",s=[],o=0,a=Kr.createReadStream(n,{encoding:"utf8"});a.on("error",d=>{if(a.readable&&a.destroy(),!!r)return d.code!=="ENOENT"?r(d):r(null,s)}),a.on("data",d=>{d=(i+d).split(/\n+/);let g=d.length-1,p=0;for(;p<g;p++)(!e.start||o>=e.start)&&u(d[p]),o++;i=d[g]}),a.on("close",()=>{i&&u(i,!0),e.order==="desc"&&(s=s.reverse()),r&&r(null,s)});function u(d,g){try{let p=JSON.parse(d);l(p)&&c(p)}catch(p){g||a.emit("error",p)}}function c(d){if(e.rows&&s.length>=e.rows&&e.order!=="desc"){a.readable&&a.destroy();return}e.fields&&(d=e.fields.reduce((g,p)=>(g[p]=d[p],g),{})),e.order==="desc"&&s.length>=e.rows&&s.shift(),s.push(d)}function l(d){if(!d||typeof d!="object")return;let g=new Date(d.timestamp);if(!(e.from&&g<e.from||e.until&&g>e.until||e.level&&e.level!==d.level))return!0}function f(d){return d=d||{},d.rows=d.rows||d.limit||10,d.start=d.start||0,d.until=d.until||new Date,typeof d.until!="object"&&(d.until=new Date(d.until)),d.from=d.from||d.until-24*60*60*1e3,typeof d.from!="object"&&(d.from=new Date(d.from)),d.order=d.order||"desc",d}}stream(e={}){let r=Vt.join(this.dirname,this.filename),n=new dK,i={file:r,start:e.start};return n.destroy=gK(i,(s,o)=>{if(s)return n.emit("error",s);try{n.emit("data",o),o=JSON.parse(o),n.emit("log",o)}catch(a){n.emit("error",a)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,r)=>{if(e)return this.emit("error",e);Vn("stat done: %s { size: %s }",this.filename,r),this._size=r,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){let r=this._getFile(),n=Vt.join(this.dirname,r);Kr.stat(n,(i,s)=>{if(i&&i.code==="ENOENT")return Vn("ENOENT\xA0ok",n),this.filename=r,e(null,0);if(i)return Vn(`err ${i.code} ${n}`),e(i);if(!s||this._needsNewFile(s.size))return this._incFile(()=>this.stat(e));this.filename=r,e(null,s.size)})}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e.destroy(),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){let r=Vt.join(this.dirname,this.filename);Vn("create stream start",r,this.options);let n=Kr.createWriteStream(r,this.options).on("error",i=>Vn(i)).on("close",()=>Vn("close",n.path,n.bytesWritten)).on("open",()=>{Vn("file open ok",r),this.emit("open",r),e.pipe(n),this.rotatedWhileOpening&&(this._stream=new IM,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),e.end())});return Vn("create stream ok",r),n}_incFile(e){Vn("_incFile",this.filename);let r=Vt.extname(this._basename),n=Vt.basename(this._basename,r),i=[];this.zippedArchive&&i.push(function(s){let o=this._created>0&&!this.tailable?this._created:"";this._compressFile(Vt.join(this.dirname,`${n}${o}${r}`),Vt.join(this.dirname,`${n}${o}${r}.gz`),s)}.bind(this)),i.push(function(s){this.tailable?this._checkMaxFilesTailable(r,n,s):(this._created+=1,this._checkMaxFilesIncrementing(r,n,s))}.bind(this)),FM(i,e)}_getFile(){let e=Vt.extname(this._basename),r=Vt.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${r}${n}${e}`:`${r}${e}`}_checkMaxFilesIncrementing(e,r,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);let i=this._created-this.maxFiles,s=i!==0?i:"",o=this.zippedArchive?".gz":"",a=`${r}${s}${e}${o}`,u=Vt.join(this.dirname,a);Kr.unlink(u,n)}_checkMaxFilesTailable(e,r,n){let i=[];if(!this.maxFiles)return;let s=this.zippedArchive?".gz":"";for(let o=this.maxFiles-1;o>1;o--)i.push(function(a,u){let c=`${r}${a-1}${e}${s}`,l=Vt.join(this.dirname,c);Kr.exists(l,f=>{if(!f)return u(null);c=`${r}${a}${e}${s}`,Kr.rename(l,Vt.join(this.dirname,c),u)})}.bind(this,o));FM(i,()=>{Kr.rename(Vt.join(this.dirname,`${r}${e}${s}`),Vt.join(this.dirname,`${r}1${e}${s}`),n)})}_compressFile(e,r,n){Kr.access(e,Kr.F_OK,i=>{if(i)return n();var s=cK.createGzip(),o=Kr.createReadStream(e),a=Kr.createWriteStream(r);a.on("finish",()=>{Kr.unlink(e,n)}),o.pipe(s).pipe(a)})}_createLogDirIfNotExist(e){Kr.existsSync(e)||Kr.mkdirSync(e,{recursive:!0})}}});var LM=_((dQ,NM)=>{"use strict";var pK=require("http"),mK=require("https"),{Stream:yK}=Co(),vK=vo(),_K=cc();NM.exports=class extends vK{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.batch=e.batch||!1,this.batchInterval=e.batchInterval||5e3,this.batchCount=e.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(e,r){this._request(e,null,null,(n,i)=>{i&&i.statusCode!==200&&(n=new Error(`Invalid HTTP Status Code: ${i.statusCode}`)),n?this.emit("warn",n):this.emit("logged",e)}),r&&setImmediate(r)}query(e,r){typeof e=="function"&&(r=e,e={}),e={method:"query",params:this.normalizeQuery(e)};let n=e.params.auth||null;delete e.params.auth;let i=e.params.path||null;delete e.params.path,this._request(e,n,i,(s,o,a)=>{if(o&&o.statusCode!==200&&(s=new Error(`Invalid HTTP Status Code: ${o.statusCode}`)),s)return r(s);if(typeof a=="string")try{a=JSON.parse(a)}catch(u){return r(u)}r(null,a)})}stream(e={}){let r=new yK;e={method:"stream",params:e};let n=e.params.path||null;delete e.params.path;let i=e.params.auth||null;delete e.params.auth;let s="",o=this._request(e,i,n);return r.destroy=()=>o.destroy(),o.on("data",a=>{a=(s+a).split(/\n+/);let u=a.length-1,c=0;for(;c<u;c++)try{r.emit("log",JSON.parse(a[c]))}catch(l){r.emit("error",l)}s=a[u]}),o.on("error",a=>r.emit("error",a)),r}_request(e,r,n,i){e=e||{},r=r||this.auth,n=n||this.path||"",this.batch?this._doBatch(e,i,r,n):this._doRequest(e,i,r,n)}_doBatch(e,r,n,i){if(this.batchOptions.push(e),this.batchOptions.length===1){let s=this;this.batchCallback=r,this.batchTimeoutID=setTimeout(function(){s.batchTimeoutID=-1,s._doBatchRequest(s.batchCallback,n,i)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,n,i)}_doBatchRequest(e,r,n){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);let i=this.batchOptions.slice();this.batchOptions=[],this._doRequest(i,e,r,n)}_doRequest(e,r,n,i){let s=Object.assign({},this.headers);n&&n.bearer&&(s.Authorization=`Bearer ${n.bearer}`);let o=(this.ssl?mK:pK).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${i.replace(/^\//,"")}`,headers:s,auth:n&&n.username&&n.password?`${n.username}:${n.password}`:"",agent:this.agent});o.on("error",r),o.on("response",a=>a.on("end",()=>r(null,a)).resume()),o.end(Buffer.from(_K(e,this.options.replacer),"utf8"))}}});var Mw=_((fQ,jM)=>{"use strict";var gi=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";gi.writable=t=>gi(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";gi.readable=t=>gi(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";gi.duplex=t=>gi.writable(t)&&gi.readable(t);gi.transform=t=>gi.duplex(t)&&typeof t._transform=="function";jM.exports=gi});var WM=_((gQ,$M)=>{"use strict";var bK=Mw(),{MESSAGE:wK}=Pt(),SK=require("os"),RK=vo();$M.exports=class extends RK{constructor(e={}){if(super(e),!e.stream||!bK(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=typeof e.eol=="string"?e.eol:SK.EOL}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode){this._stream.write(e),r&&r();return}this._stream.write(`${e[wK]}${this.eol}`),r&&r()}}});var HM=_(kc=>{"use strict";Object.defineProperty(kc,"Console",{configurable:!0,enumerable:!0,get(){return lO()}});Object.defineProperty(kc,"File",{configurable:!0,enumerable:!0,get(){return AM()}});Object.defineProperty(kc,"Http",{configurable:!0,enumerable:!0,get(){return LM()}});Object.defineProperty(kc,"Stream",{configurable:!0,enumerable:!0,get(){return WM()}})});var ph=_(Ac=>{"use strict";var gh=lb(),{configs:Fw}=Pt();Ac.cli=gh.levels(Fw.cli);Ac.npm=gh.levels(Fw.npm);Ac.syslog=gh.levels(Fw.syslog);Ac.addColors=gh.levels});var zM=_((mh,UM)=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});var CK=xf(),DK=Eo(CK),EK=Wf(),TK=Eo(EK),PK=Vb(),qK=Eo(PK),OK=zb(),xK=Eo(OK),MK=Kb(),FK=Eo(MK),IK=_o(),kK=Eo(IK),AK=Ma(),NK=Eo(AK);function Eo(t){return t&&t.__esModule?t:{default:t}}function LK(t,e,r){r=(0,xK.default)(r);var n=0,i=0,{length:s}=t,o=!1;s===0&&r(null);function a(u,c){u===!1&&(o=!0),o!==!0&&(u?r(u):(++i===s||c===TK.default)&&r(null))}for(;n<s;n++)e(t[n],n,(0,FK.default)(a))}function jK(t,e,r){return(0,qK.default)(t,1/0,e,r)}function $K(t,e,r){var n=(0,DK.default)(t)?LK:jK;return n(t,(0,kK.default)(e),r)}mh.default=(0,NK.default)($K,3);UM.exports=mh.default});var BM=_((yh,KM)=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.default=WK;function WK(t){return(e,r,n)=>t(e,n)}KM.exports=yh.default});var bh=_((_h,VM)=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});var HK=zM(),UK=vh(HK),zK=BM(),KK=vh(zK),BK=_o(),VK=vh(BK),GK=Ma(),YK=vh(GK);function vh(t){return t&&t.__esModule?t:{default:t}}function XK(t,e,r){return(0,UK.default)(t,(0,KK.default)((0,VK.default)(e)),r)}_h.default=(0,YK.default)(XK,3);VM.exports=_h.default});var YM=_((yQ,GM)=>{"use strict";var JK=Object.prototype.toString;GM.exports=function(e){if(typeof e.displayName=="string"&&e.constructor.name)return e.displayName;if(typeof e.name=="string"&&e.name)return e.name;if(typeof e=="object"&&e.constructor&&typeof e.constructor.name=="string")return e.constructor.name;var r=e.toString(),n=JK.call(e).slice(8,-1);return n==="Function"?r=r.substring(r.indexOf("(")+1,r.indexOf(")")):r=n,r||"anonymous"}});var Iw=_((vQ,XM)=>{"use strict";var QK=YM();XM.exports=function(e){var r=0,n;function i(){return r||(r=1,n=e.apply(this,arguments),e=null),n}return i.displayName=QK(e),i}});var kw=_(Lc=>{Lc.get=function(t){var e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},n=Error.prepareStackTrace;Error.prepareStackTrace=function(s,o){return o},Error.captureStackTrace(r,t||Lc.get);var i=r.stack;return Error.prepareStackTrace=n,Error.stackTraceLimit=e,i};Lc.parse=function(t){if(!t.stack)return[];var e=this,r=t.stack.split(`
`).slice(1);return r.map(function(n){if(n.match(/^\s*[-]{4,}$/))return e._createParsedCallSite({fileName:n,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var i=n.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(i){var s=null,o=null,a=null,u=null,c=null,l=i[5]==="native";if(i[1]){a=i[1];var f=a.lastIndexOf(".");if(a[f-1]=="."&&f--,f>0){s=a.substr(0,f),o=a.substr(f+1);var d=s.indexOf(".Module");d>0&&(a=a.substr(d+1),s=s.substr(0,d))}u=null}o&&(u=s,c=o),o==="<anonymous>"&&(c=null,a=null);var g={fileName:i[2]||null,lineNumber:parseInt(i[3],10)||null,functionName:a,typeName:u,methodName:c,columnNumber:parseInt(i[4],10)||null,native:l};return e._createParsedCallSite(g)}}).filter(function(n){return!!n})};function Nc(t){for(var e in t)this[e]=t[e]}var ZK=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],e6=["topLevel","eval","native","constructor"];ZK.forEach(function(t){Nc.prototype[t]=null,Nc.prototype["get"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});e6.forEach(function(t){Nc.prototype[t]=!1,Nc.prototype["is"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});Lc._createParsedCallSite=function(t){return new Nc(t)}});var QM=_((wQ,JM)=>{"use strict";var{Writable:t6}=Co();JM.exports=class extends t6{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,r,n){return e.exception?this.transport.log(e,n):(n(),!0)}}});var Nw=_((RQ,tF)=>{"use strict";var ZM=require("os"),r6=bh(),Aw=Ic()("winston:exception"),n6=Iw(),eF=kw(),i6=QM();tF.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`uncaughtException: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:ZM.loadavg(),uptime:ZM.uptime()}}getTrace(e){return(e?eF.parse(e):eF.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;let r=new i6(e);this.handlers.set(e,r),this.logger.pipe(r)}}_uncaughtException(e){let r=this.getAllInfo(e),n=this._getExceptionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,s;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),i=!1);function o(){Aw("doExit",i),Aw("process._exiting",process._exiting),i&&!process._exiting&&(s&&clearTimeout(s),process.exit(1))}if(!n||n.length===0)return process.nextTick(o);r6(n,(a,u)=>{let c=n6(u),l=a.transport||a;function f(d){return()=>{Aw(d),c()}}l._ending=!0,l.once("finish",f("finished")),l.once("error",f("error"))},()=>i&&o()),this.logger.log(r),i&&(s=setTimeout(o,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}});var nF=_((DQ,rF)=>{"use strict";var{Writable:s6}=Co();rF.exports=class extends s6{constructor(e){if(super({objectMode:!0}),!e)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=e}_write(e,r,n){return e.rejection?this.transport.log(e,n):(n(),!0)}}});var jw=_((TQ,oF)=>{"use strict";var iF=require("os"),o6=bh(),Lw=Ic()("winston:rejection"),a6=Iw(),sF=kw(),u6=nF();oF.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`unhandledRejection: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:iF.loadavg(),uptime:iF.uptime()}}getTrace(e){return(e?sF.parse(e):sF.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;let r=new u6(e);this.handlers.set(e,r),this.logger.pipe(r)}}_unhandledRejection(e){let r=this.getAllInfo(e),n=this._getRejectionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,s;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),i=!1);function o(){Lw("doExit",i),Lw("process._exiting",process._exiting),i&&!process._exiting&&(s&&clearTimeout(s),process.exit(1))}if(!n||n.length===0)return process.nextTick(o);o6(n,(a,u)=>{let c=a6(u),l=a.transport||a;function f(d){return()=>{Lw(d),c()}}l._ending=!0,l.once("finish",f("finished")),l.once("error",f("error"))},()=>i&&o()),this.logger.log(r),i&&(s=setTimeout(o,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}});var uF=_((PQ,aF)=>{"use strict";var $w=class{constructor(e){let r=wh();if(typeof e!="object"||Array.isArray(e)||!(e instanceof r))throw new Error("Logger is required for profiling");this.logger=e,this.start=Date.now()}done(...e){typeof e[e.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());let r=typeof e[e.length-1]=="object"?e.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}};aF.exports=$w});var wh=_((qQ,fF)=>{"use strict";var{Stream:c6,Transform:l6}=Co(),cF=bh(),{LEVEL:pi,SPLAT:lF}=Pt(),dF=Mw(),d6=Nw(),f6=jw(),h6=Wb(),g6=uF(),{warn:p6}=db(),m6=ph(),y6=/%[scdjifoO%]/g,Sh=class extends l6{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){let r=this;return Object.create(r,{write:{value:function(n){let i=Object.assign({},e,n);n instanceof Error&&(i.stack=n.stack,i.message=n.message),r.write(i)}}})}configure({silent:e,format:r,defaultMeta:n,levels:i,level:s="info",exitOnError:o=!0,transports:a,colors:u,emitErrs:c,formatters:l,padLevels:f,rewriters:d,stripColors:g,exceptionHandlers:p,rejectionHandlers:b}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=r||this.format||sb()(),this.defaultMeta=n||null,this.levels=i||this.levels||m6.npm.levels,this.level=s,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new d6(this),this.rejections=new f6(this),this.profilers={},this.exitOnError=o,a&&(a=Array.isArray(a)?a:[a],a.forEach(C=>this.add(C))),u||c||l||f||d||g)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));p&&this.exceptions.handle(p),b&&this.rejections.handle(b)}isLevelEnabled(e){let r=Ww(this.levels,e);if(r===null)return!1;let n=Ww(this.levels,this.level);return n===null?!1:!this.transports||this.transports.length===0?n>=r:this.transports.findIndex(s=>{let o=Ww(this.levels,s.level);return o===null&&(o=n),o>=r})!==-1}log(e,r,...n){if(arguments.length===1)return e[pi]=e.level,this._addDefaultMeta(e),this.write(e),this;if(arguments.length===2)return r&&typeof r=="object"?(r[pi]=r.level=e,this._addDefaultMeta(r),this.write(r),this):(r={[pi]:e,level:e,message:r},this._addDefaultMeta(r),this.write(r),this);let[i]=n;if(typeof i=="object"&&i!==null&&!(r&&r.match&&r.match(y6))){let o=Object.assign({},this.defaultMeta,i,{[pi]:e,[lF]:n,level:e,message:r});return i.message&&(o.message=`${o.message} ${i.message}`),i.stack&&(o.stack=i.stack),this.write(o),this}return this.write(Object.assign({},this.defaultMeta,{[pi]:e,[lF]:n,level:e,message:r})),this}_transform(e,r,n){if(this.silent)return n();e[pi]||(e[pi]=e.level),!this.levels[e[pi]]&&this.levels[e[pi]]!==0&&console.error("[winston] Unknown logger level: %s",e[pi]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",e);try{this.push(this.format.transform(e,this.format.options))}finally{this._writableState.sync=!1,n()}}_final(e){let r=this.transports.slice();cF(r,(n,i)=>{if(!n||n.finished)return setImmediate(i);n.once("finish",i),n.end()},e)}add(e){let r=!dF(e)||e.log.length>2?new h6({transport:e}):e;if(!r._writableState||!r._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",r),this._onEvent("warn",r),this.pipe(r),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let r=e;return(!dF(e)||e.log.length>2)&&(r=this.transports.filter(n=>n.transport===e)[0]),r&&this.unpipe(r),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){p6.deprecated("setLevels")}query(e,r){typeof e=="function"&&(r=e,e={}),e=e||{};let n={},i=Object.assign({},e.query||{});function s(a,u){e.query&&typeof a.formatQuery=="function"&&(e.query=a.formatQuery(i)),a.query(e,(c,l)=>{if(c)return u(c);typeof a.formatResults=="function"&&(l=a.formatResults(l,e.format)),u(null,l)})}function o(a,u){s(a,(c,l)=>{u&&(l=c||l,l&&(n[a.name]=l),u()),u=null})}cF(this.transports.filter(a=>!!a.query),o,()=>r(null,n))}stream(e={}){let r=new c6,n=[];return r._streams=n,r.destroy=()=>{let i=n.length;for(;i--;)n[i].destroy()},this.transports.filter(i=>!!i.stream).forEach(i=>{let s=i.stream(e);s&&(n.push(s),s.on("log",o=>{o.transport=o.transport||[],o.transport.push(i.name),r.emit("log",o)}),s.on("error",o=>{o.transport=o.transport||[],o.transport.push(i.name),r.emit("error",o)}))}),r}startTimer(){return new g6(this)}profile(e,...r){let n=Date.now();if(this.profilers[e]){let i=this.profilers[e];delete this.profilers[e],typeof r[r.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());let s=typeof r[r.length-1]=="object"?r.pop():{};return s.level=s.level||"info",s.durationMs=n-i,s.message=s.message||e,this.write(s)}return this.profilers[e]=n,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(e,r){function n(i){e==="error"&&!this.transports.includes(r)&&this.add(r),this.emit(e,i,r)}r["__winston"+e]||(r["__winston"+e]=n.bind(this),r.on(e,r["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}};function Ww(t,e){let r=t[e];return!r&&r!==0?null:r}Object.defineProperty(Sh.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:t}=this._readableState;return Array.isArray(t)?t:[t].filter(Boolean)}});fF.exports=Sh});var Hw=_((OQ,hF)=>{"use strict";var{LEVEL:v6}=Pt(),_6=ph(),b6=wh(),w6=Ic()("winston:create-logger");function S6(t){return"is"+t.charAt(0).toUpperCase()+t.slice(1)+"Enabled"}hF.exports=function(t={}){t.levels=t.levels||_6.npm.levels;class e extends b6{constructor(i){super(i)}}let r=new e(t);return Object.keys(t.levels).forEach(function(n){if(w6('Define prototype method for "%s"',n),n==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}e.prototype[n]=function(...i){let s=this||r;if(i.length===1){let[o]=i,a=o&&o.message&&o||{message:o};return a.level=a[v6]=n,s._addDefaultMeta(a),s.write(a),this||r}return i.length===0?(s.log(n,""),s):s.log(n,...i)},e.prototype[S6(n)]=function(){return(this||r).isLevelEnabled(n)}}),r}});var pF=_((MQ,gF)=>{"use strict";var R6=Hw();gF.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,r){if(!this.loggers.has(e)){r=Object.assign({},r||this.options);let n=r.transports||this.options.transports;n?r.transports=Array.isArray(n)?n.slice():[n]:r.transports=[];let i=R6(r);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,r){return this.add(e,r)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((r,n)=>this._removeLogger(n))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}});var yF=_(st=>{"use strict";var mF=lb(),{warn:jc}=db();st.version=a1().version;st.transports=HM();st.config=ph();st.addColors=mF.levels;st.format=mF.format;st.createLogger=Hw();st.Logger=wh();st.ExceptionHandler=Nw();st.RejectionHandler=jw();st.Container=pF();st.Transport=vo();st.loggers=new st.Container;var mi=st.createLogger();Object.keys(st.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(t=>st[t]=(...e)=>mi[t](...e));Object.defineProperty(st,"level",{get(){return mi.level},set(t){mi.level=t}});Object.defineProperty(st,"exceptions",{get(){return mi.exceptions}});Object.defineProperty(st,"rejections",{get(){return mi.rejections}});["exitOnError"].forEach(t=>{Object.defineProperty(st,t,{get(){return mi[t]},set(e){mi[t]=e}})});Object.defineProperty(st,"default",{get(){return{exceptionHandlers:mi.exceptionHandlers,rejectionHandlers:mi.rejectionHandlers,transports:mi.transports}}});jc.deprecated(st,"setLevels");jc.forFunctions(st,"useFormat",["cli"]);jc.forProperties(st,"useFormat",["padLevels","stripColors"]);jc.forFunctions(st,"deprecated",["addRewriter","addFilter","clone","extend"]);jc.forProperties(st,"deprecated",["emitErrs","levelLength"])});var _F=_((IQ,vF)=>{"use strict";var Uw=class t extends Error{constructor(e){super(t._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,t)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch{return String(e)}}},C6=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],zw=Symbol(".toJSON called"),D6=t=>{t[zw]=!0;let e=t.toJSON();return delete t[zw],e},Kw=({from:t,seen:e,to_:r,forceEnumerable:n,maxDepth:i,depth:s})=>{let o=r||(Array.isArray(t)?[]:{});if(e.push(t),s>=i)return o;if(typeof t.toJSON=="function"&&t[zw]!==!0)return D6(t);for(let[a,u]of Object.entries(t)){if(typeof Buffer=="function"&&Buffer.isBuffer(u)){o[a]="[object Buffer]";continue}if(typeof u!="function"){if(!u||typeof u!="object"){o[a]=u;continue}if(!e.includes(t[a])){s++,o[a]=Kw({from:t[a],seen:e.slice(),forceEnumerable:n,maxDepth:i,depth:s});continue}o[a]="[Circular]"}}for(let{property:a,enumerable:u}of C6)typeof t[a]=="string"&&Object.defineProperty(o,a,{value:t[a],enumerable:n?!0:u,configurable:!0,writable:!0});return o},E6=(t,e={})=>{let{maxDepth:r=Number.POSITIVE_INFINITY}=e;return typeof t=="object"&&t!==null?Kw({from:t,seen:[],forceEnumerable:!0,maxDepth:r,depth:0}):typeof t=="function"?`[Function: ${t.name||"anonymous"}]`:t},T6=(t,e={})=>{let{maxDepth:r=Number.POSITIVE_INFINITY}=e;if(t instanceof Error)return t;if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let n=new Error;return Kw({from:t,seen:[],to_:n,maxDepth:r,depth:0}),n}return new Uw(t)};vF.exports={serializeError:E6,deserializeError:T6}});var Bw=_(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.isIterableObject=ja.isIterable=void 0;function bF(t){return t!=null&&typeof t[Symbol.iterator]=="function"}ja.isIterable=bF;function P6(t){return bF(t)&&typeof t=="object"}ja.isIterableObject=P6});var Ch=_(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.isObject=void 0;function q6(t){return typeof t=="object"&&t!==null}Rh.isObject=q6});var SF=_(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.mergeAssign=void 0;var O6=Ch();function wF(t,e,r){let n=t;for(let i of[e,r])if(i)for(let s of Object.getOwnPropertyNames(i)){if(s==="__proto__"||s==="constructor")continue;let o=i[s];if((0,O6.isObject)(o)){if(Array.isArray(o)){let a=n[s];n[s]=Array.isArray(a)?a.concat(o):o;continue}n[s]||(n[s]={}),n[s]=wF(n[s],o)}else n[s]=o}return n}Dh.mergeAssign=wF});var CF=_((LQ,RF)=>{"use strict";RF.exports=x6;function $a(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function x6(t){if(t=t||{},t.circles)return M6(t);return t.proto?n:r;function e(i,s){for(var o=Object.keys(i),a=new Array(o.length),u=0;u<o.length;u++){var c=o[u],l=i[c];typeof l!="object"||l===null?a[c]=l:l instanceof Date?a[c]=new Date(l):ArrayBuffer.isView(l)?a[c]=$a(l):a[c]=s(l)}return a}function r(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,r);if(i instanceof Map)return new Map(e(Array.from(i),r));if(i instanceof Set)return new Set(e(Array.from(i),r));var s={};for(var o in i)if(Object.hasOwnProperty.call(i,o)!==!1){var a=i[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(e(Array.from(a),r)):a instanceof Set?s[o]=new Set(e(Array.from(a),r)):ArrayBuffer.isView(a)?s[o]=$a(a):s[o]=r(a)}return s}function n(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,n);if(i instanceof Map)return new Map(e(Array.from(i),n));if(i instanceof Set)return new Set(e(Array.from(i),n));var s={};for(var o in i){var a=i[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(e(Array.from(a),n)):a instanceof Set?s[o]=new Set(e(Array.from(a),n)):ArrayBuffer.isView(a)?s[o]=$a(a):s[o]=n(a)}return s}}function M6(t){var e=[],r=[];return t.proto?s:i;function n(o,a){for(var u=Object.keys(o),c=new Array(u.length),l=0;l<u.length;l++){var f=u[l],d=o[f];if(typeof d!="object"||d===null)c[f]=d;else if(d instanceof Date)c[f]=new Date(d);else if(ArrayBuffer.isView(d))c[f]=$a(d);else{var g=e.indexOf(d);g!==-1?c[f]=r[g]:c[f]=a(d)}}return c}function i(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,i);if(o instanceof Map)return new Map(n(Array.from(o),i));if(o instanceof Set)return new Set(n(Array.from(o),i));var a={};e.push(o),r.push(a);for(var u in o)if(Object.hasOwnProperty.call(o,u)!==!1){var c=o[u];if(typeof c!="object"||c===null)a[u]=c;else if(c instanceof Date)a[u]=new Date(c);else if(c instanceof Map)a[u]=new Map(n(Array.from(c),i));else if(c instanceof Set)a[u]=new Set(n(Array.from(c),i));else if(ArrayBuffer.isView(c))a[u]=$a(c);else{var l=e.indexOf(c);l!==-1?a[u]=r[l]:a[u]=i(c)}}return e.pop(),r.pop(),a}function s(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,s);if(o instanceof Map)return new Map(n(Array.from(o),s));if(o instanceof Set)return new Set(n(Array.from(o),s));var a={};e.push(o),r.push(a);for(var u in o){var c=o[u];if(typeof c!="object"||c===null)a[u]=c;else if(c instanceof Date)a[u]=new Date(c);else if(c instanceof Map)a[u]=new Map(n(Array.from(c),s));else if(c instanceof Set)a[u]=new Set(n(Array.from(c),s));else if(ArrayBuffer.isView(c))a[u]=$a(c);else{var l=e.indexOf(c);l!==-1?a[u]=r[l]:a[u]=s(c)}}return e.pop(),r.pop(),a}}});var EF=_(Wa=>{"use strict";var F6=Wa&&Wa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.mergeOptionsWithDefaults=void 0;var I6=F6(CF()),Vw=Ch(),Eh=(0,I6.default)();function DF(t,e,r,n,i){if(!(0,Vw.isObject)(t))return Eh(e);let s={};for(let o of Object.keys(e)){let a=e[o],u=t[o];if(u!==void 0){if((0,Vw.isObject)(u)){if(r.has(u)){i.add([u,s,o]);continue}r.add(u);let c=Array.isArray(u)?u.map(l=>Eh(l)):(0,Vw.isObject)(a)&&!Array.isArray(a)?DF(u,a,r,n,i):Eh(u);n.set(u,c),s[o]=c;continue}s[o]=u;continue}s[o]=Eh(a)}return s}function k6(t,e){let r=new WeakSet,n=new WeakMap,i=new Set,s=DF(t,e,r,n,i);for(let[o,a,u]of i)a[u]=n.get(o);return s}Wa.mergeOptionsWithDefaults=k6});var Yw=_(Ki=>{"use strict";var A6=Ki&&Ki.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gw=Ki&&Ki.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&A6(e,t,r)};Object.defineProperty(Ki,"__esModule",{value:!0});Gw(Ch(),Ki);Gw(SF(),Ki);Gw(EF(),Ki)});var PF=_(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.serializeErrors=void 0;var TF=_F(),N6=Bw(),Th=Yw();function L6(t){let e=(r,n)=>{if(!r||typeof r!="object")return r;if(n.has(r))return n.get(r);if(r instanceof Error){let s=(0,TF.serializeError)(r);return n.set(r,s),s}if(r instanceof Map){let s=new Map;n.set(r,s);for(let[o,a]of r){let u=e(o,n),c=e(a,n);(0,Th.isObject)(o)&&n.set(o,u),(0,Th.isObject)(a)&&n.set(a,c),s.set(u,c)}return s}if(r instanceof Set){let s=new Set;n.set(r,s);for(let o of r){if(!(0,Th.isObject)(o)){s.add(o);continue}let a=e(o,n);n.set(o,a),s.add(a)}return s}if((0,N6.isIterable)(r)){let s=[];n.set(r,s);for(let o of r)s.push(e(o,n));return s}n.set(r,"[Circular]");let i=Object.fromEntries(Object.entries(r).map(([s,o])=>{if(!(0,Th.isObject)(o))return[s,o];if(n.has(o))return[s,n.get(o)];if(o instanceof Error){let u=(0,TF.serializeError)(o);return n.set(o,u),[s,u]}let a=e(o,n);return n.set(o,a),[s,a]}));return n.set(r,i),i};return e(t,new WeakMap)}Ph.serializeErrors=L6});var qF=_(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.ErrorFormatter=void 0;var j6=PF(),Xw=class{transform(e){let r=(0,j6.serializeErrors)({...e});for(let n of Object.keys(r))e[n]=r[n];return e}};qh.ErrorFormatter=Xw});var xh=_(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});Oh.getLogFunction=void 0;var $6=(t,e)=>{let r=t[e];if(typeof r=="function")return r};Oh.getLogFunction=$6});var OF=_(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.padNumber=Es.padString=Es.upperCaseFirstChar=void 0;var W6=t=>t.charAt(0).toUpperCase()+t.slice(1);Es.upperCaseFirstChar=W6;var H6=(t,e)=>t+" ".repeat(e-t.length);Es.padString=H6;var U6=(t,e)=>{let r=String(t);return"0".repeat(e-r.length)+r};Es.padNumber=U6});var MF=_(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});Fh.LanguageServerFormatter=void 0;var xF=Pt(),z6=xh(),Mh=OF(),Jw=class{constructor(e){this.options=e}transform(e){let r=new Date,n=`${r.getHours()%12||12}:${(0,Mh.padNumber)(r.getMinutes(),2)}:${(0,Mh.padNumber)(r.getSeconds(),2)} ${r.getHours()<12?"a.m.":"p.m."}`,i=[],s=String(e[xF.LEVEL]);(0,z6.getLogFunction)(this.options.connection.console,s)||i.push(`[${(0,Mh.padString)((0,Mh.upperCaseFirstChar)(s),5)} - ${n}]`),e.component&&i.push(`[${String(e.component)}]`),i.push(e.message),delete e.component,delete e.timestamp;let o=new Set(Object.keys({...e})),a=[];if(this.options.preferredKeyOrder)for(let c of this.options.preferredKeyOrder)o.has(c)&&(a.push(`${c}: ${JSON.stringify(e[c])}`),o.delete(c),delete e[c]);for(let c of o)c==="level"||c==="message"||(a.push(`${c}: ${JSON.stringify(e[c])}`),delete e[c]);let u=a.length>0?`${i.join(" ")} | ${a.join(" ")}`:i.join(" ");return e[xF.MESSAGE]=u,e.message=u,e}};Fh.LanguageServerFormatter=Jw});var FF=_(yi=>{"use strict";var K6=yi&&yi.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Qw=yi&&yi.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},B6=yi&&yi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ha;Object.defineProperty(yi,"__esModule",{value:!0});yi.LanguageServerTransport=void 0;var V6=B6(vo()),Zw=Pt(),G6=xh(),e0=class extends V6.default{constructor(e){super(e),Ha.set(this,void 0),K6(this,Ha,e.connection.console,"f")}log(e,r){setImmediate(()=>{this.emit("logged",e)});try{let n=(0,G6.getLogFunction)(Qw(this,Ha,"f"),String(e[Zw.LEVEL]));typeof n=="function"?n.call(Qw(this,Ha,"f"),String(e[Zw.MESSAGE])):Qw(this,Ha,"f").log(String(e[Zw.MESSAGE]))}catch(n){(!(n instanceof Error)||!n.message.includes("Connection is disposed"))&&this.emit("error",n)}r()}};yi.LanguageServerTransport=e0;Ha=new WeakMap});var IF=_(vi=>{"use strict";var Y6=vi&&vi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ih=vi&&vi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Y6(e,t,r)};Object.defineProperty(vi,"__esModule",{value:!0});Ih(qF(),vi);Ih(xh(),vi);Ih(MF(),vi);Ih(FF(),vi)});var t0=_(za=>{"use strict";var X6=za&&za.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(za,"__esModule",{value:!0});za.createLogger=void 0;var Ua=X6(yF()),kh=IF();function J6(t,e="info",r){let n=[new kh.LanguageServerTransport({connection:t,format:Ua.default.format.combine(new kh.ErrorFormatter,new kh.LanguageServerFormatter({connection:t,preferredKeyOrder:["module","uri","command"]}))})];return r&&n.push(new Ua.default.transports.File({filename:r,format:Ua.default.format.combine(new kh.ErrorFormatter,Ua.default.format.timestamp(),Ua.default.format.json())})),Ua.default.createLogger({level:e,transports:n,levels:{error:0,warn:1,info:2,debug:3}})}za.createLogger=J6});var Ka=_(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.Notification=_i.CodeActionKind=_i.CommandId=void 0;var Q6=ai(),Z6;(function(t){t.ApplyAutoFix="stylelint.applyAutoFix",t.OpenRuleDoc="stylelint.openRuleDoc"})(Z6=_i.CommandId||(_i.CommandId={}));_i.CodeActionKind={StylelintSourceFixAll:`${Q6.CodeActionKind.SourceFixAll}.stylelint`};var eB;(function(t){t.DidRegisterCodeActionRequestHandler="stylelint/didRegisterCodeActionRequestHandler",t.DidRegisterDocumentFormattingEditProvider="stylelint/didRegisterDocumentFormattingEditProvider",t.DidResetConfiguration="stylelint/didResetConfiguration"})(eB=_i.Notification||(_i.Notification={}))});var LF=_(Ps=>{"use strict";var kF=Ps&&Ps.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},er=Ps&&Ps.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},r0,Ts,Gn,$c,NF;Object.defineProperty(Ps,"__esModule",{value:!0});Ps.AutoFixModule=void 0;var tB=re(),AF=Ka(),Ah=class{constructor({context:e,logger:r}){r0.add(this),Ts.set(this,void 0),Gn.set(this,void 0),$c.set(this,[]),kF(this,Ts,e,"f"),kF(this,Gn,r,"f")}onInitialize(){return{capabilities:{executeCommandProvider:{commands:[AF.CommandId.ApplyAutoFix]}}}}dispose(){er(this,$c,"f").forEach(e=>e.dispose()),er(this,$c,"f").length=0}onDidRegisterHandlers(){er(this,Gn,"f")?.debug("Registering onExecuteCommand handler"),er(this,$c,"f").push(er(this,Ts,"f").commands.on(AF.CommandId.ApplyAutoFix,async({arguments:e})=>{if(!e)return{};let r=e[0],n=r.uri,i=er(this,Ts,"f").documents.get(n);if(!i||!await er(this,r0,"m",NF).call(this,i))return er(this,Gn,"f")?.isDebugEnabled()&&(i?er(this,Gn,"f").debug("Document should not be auto-fixed, ignoring",{uri:n,language:i.languageId}):er(this,Gn,"f").debug("Unknown document, ignoring",{uri:n})),{};if(r.version!==i.version)return er(this,Gn,"f")?.debug("Document has been modified, ignoring",{uri:n}),{};let s=new tB.WorkspaceChange,o=s.getTextEditChange(r),a=await er(this,Ts,"f").getFixes(i);a.forEach(u=>o.add(u)),er(this,Gn,"f")?.debug("Applying fixes",{uri:n,edits:a});try{let u=await er(this,Ts,"f").connection.workspace.applyEdit(s.edit);u.applied||er(this,Gn,"f")?.debug("Failed to apply fixes",{uri:n,response:u})}catch(u){er(this,Gn,"f")?.debug("Failed to apply fixes",{uri:n,error:u})}return{}}))}};Ps.AutoFixModule=Ah;Ts=new WeakMap,Gn=new WeakMap,$c=new WeakMap,r0=new WeakSet,NF=async function(e){return(await er(this,Ts,"f").getOptions(e.uri)).validate.includes(e.languageId)};Ah.id="auto-fix"});var WF=_(Br=>{"use strict";var rB=Br&&Br.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nB=Br&&Br.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iB=Br&&Br.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rB(e,t,r);return nB(e,t),e},jF=Br&&Br.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},It=Br&&Br.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Wc,br,qs;Object.defineProperty(Br,"__esModule",{value:!0});Br.CommandManager=void 0;var $F=iB(re()),n0=class{constructor(e,r){Wc.set(this,void 0),br.set(this,void 0),qs.set(this,new Map),jF(this,Wc,e,"f"),jF(this,br,r,"f")}dispose(){It(this,br,"f")?.debug("Disposing command manager"),It(this,qs,"f").clear(),It(this,Wc,"f").onExecuteCommand(()=>{})}on(e,r){if(Array.isArray(e)){It(this,br,"f")?.debug("Registering commands",{commands:e});for(let n of e)It(this,qs,"f").set(n,r);return{dispose:()=>{It(this,br,"f")?.debug("Deregistering commands",{commands:e});for(let n of e)It(this,qs,"f").delete(n)}}}return It(this,br,"f")?.debug("Registering command",{command:e}),It(this,qs,"f").set(e,r),{dispose:()=>{It(this,br,"f")?.debug("Deregistering command",{command:e}),It(this,qs,"f").delete(e)}}}register(){It(this,br,"f")?.debug("Registering ExecuteCommandRequest handler"),It(this,Wc,"f").onExecuteCommand(async(...e)=>{It(this,br,"f")?.debug("Received ExecuteCommandRequest",{command:e[0].command,arguments:e[0].arguments});let r=It(this,qs,"f").get(e[0].command);if(!r)return It(this,br,"f")?.debug("No handler registered for command",{command:e[0].command}),{};It(this,br,"f")?.debug("Executing command",{command:e[0].command});try{let n=await r(...e);return It(this,br,"f")?.debug("Sending command response",{command:e[0].command,response:n}),n}catch(n){return It(this,br,"f")?.error("Error executing command",{command:e[0].command,error:n}),new $F.ResponseError($F.ErrorCodes.InternalError,`Error executing command ${e[0].command}`,n)}}),It(this,br,"f")?.debug("ExecuteCommandRequest handler registered")}};Br.CommandManager=n0;Wc=new WeakMap,br=new WeakMap,qs=new WeakMap});var HF=_(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.createDisableCompletionItem=void 0;var Hc=ai();function sB(t,e=""){let r=Hc.CompletionItem.create(t);return r.kind=Hc.CompletionItemKind.Snippet,r.insertTextFormat=Hc.InsertTextFormat.Snippet,t==="stylelint-disable"?(r.insertText=`/* stylelint-disable \${0:${e||"rule"}} */
/* stylelint-enable \${0:${e||"rule"}} */`,r.detail="Turn off all Stylelint or individual rules, after which you do not need to re-enable Stylelint. (Stylelint)",r.documentation={kind:Hc.MarkupKind.Markdown,value:`\`\`\`css
/* stylelint-disable ${e||"rule"} */
/* stylelint-enable ${e||"rule"} */
\`\`\``}):(r.insertText=`/* ${t} \${0:${e||"rule"}} */`,r.detail=t==="stylelint-disable-line"?"Turn off Stylelint rules for individual lines only, after which you do not need to explicitly re-enable them. (Stylelint)":"Turn off Stylelint rules for the next line only, after which you do not need to explicitly re-enable them. (Stylelint)",r.documentation={kind:Hc.MarkupKind.Markdown,value:`\`\`\`css
/* ${t} ${e||"rule"} */
\`\`\``}),r}Nh.createDisableCompletionItem=sB});var UF=_(En=>{"use strict";var oB=En&&En.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aB=En&&En.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uB=En&&En.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oB(e,t,r);return aB(e,t),e},cB=En&&En.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(En,"__esModule",{value:!0});En.createDisableRuleFileCodeAction=void 0;var lB=cB(require("os")),Os=uB(re());function dB(t,{code:e}){let r=new Os.WorkspaceChange,n=t.getText(Os.Range.create(Os.Position.create(0,0),Os.Position.create(0,2)));return r.getTextEditChange(t).add(Os.TextEdit.insert(Os.Position.create(n==="#!"?1:0,0),`/* stylelint-disable ${e} */${lB.default.EOL}`)),Os.CodeAction.create(`Disable ${e} for the entire file`,r.edit,Os.CodeActionKind.QuickFix)}En.createDisableRuleFileCodeAction=dB});var zF=_(Pn=>{"use strict";var fB=Pn&&Pn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hB=Pn&&Pn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gB=Pn&&Pn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fB(e,t,r);return hB(e,t),e},pB=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.createDisableRuleLineCodeAction=void 0;var mB=pB(require("os")),Tn=gB(re());function yB(t,{code:e,range:r},n){let i=new Tn.WorkspaceChange;if(n==="sameLine")i.getTextEditChange(t).add(Tn.TextEdit.insert(Tn.Position.create(r.start.line,Tn.uinteger.MAX_VALUE),` /* stylelint-disable-line ${e} */`));else{let o=t.getText(Tn.Range.create(Tn.Position.create(r.start.line,0),Tn.Position.create(r.start.line,Tn.uinteger.MAX_VALUE))).match(/^([ \t]+)/)?.[1]??"";i.getTextEditChange(t).add(Tn.TextEdit.insert(Tn.Position.create(r.start.line,0),`${o}/* stylelint-disable-next-line ${e} */${mB.default.EOL}`))}return Tn.CodeAction.create(`Disable ${e} for this line`,i.edit,Tn.CodeActionKind.QuickFix)}Pn.createDisableRuleLineCodeAction=yB});var KF=_(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});Lh.displayError=void 0;var vB=Bw();function _B(t,e){if(!(e instanceof Error)){t.window.showErrorMessage(String(e).replace(/\n/gu," "));return}if((0,vB.isIterableObject)(e?.reasons)){for(let r of e.reasons)t.window.showErrorMessage(`Stylelint: ${r}`);return}if(e?.code===78){t.window.showErrorMessage(`Stylelint: ${e.message}`);return}t.window.showErrorMessage((e.stack||e.message).replace(/\n/gu," "))}Lh.displayError=_B});var VF=_(Ms=>{"use strict";var BF=Ms&&Ms.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},wr=Ms&&Ms.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},jh,To,Ba,xs,i0;Object.defineProperty(Ms,"__esModule",{value:!0});Ms.NotificationManager=void 0;var s0=class{constructor(e,r){jh.add(this),To.set(this,void 0),Ba.set(this,void 0),xs.set(this,new Map),BF(this,To,e,"f"),BF(this,Ba,r,"f")}dispose(){wr(this,Ba,"f")?.debug("Disposing notification manager");for(let[e]of wr(this,xs,"f"))e?wr(this,To,"f").onNotification(e,()=>{}):wr(this,To,"f").onNotification(()=>{});wr(this,xs,"f").clear()}on(e,r){let n=typeof e=="function",[i,s]=n?[void 0,e]:[e,r];if(!s)throw new Error("Handler must be defined");let o={dispose:()=>{wr(this,xs,"f").get(i)?.delete(s)}},a=wr(this,xs,"f").get(i);return a?(a.add(s),o):(wr(this,xs,"f").set(i,new Set([s])),n?(wr(this,To,"f").onNotification((...u)=>wr(this,jh,"m",i0).call(this,void 0,u)),o):(wr(this,To,"f").onNotification(e,(...u)=>wr(this,jh,"m",i0).call(this,e,u)),o))}};Ms.NotificationManager=s0;To=new WeakMap,Ba=new WeakMap,xs=new WeakMap,jh=new WeakSet,i0=async function(e,r){wr(this,Ba,"f")?.debug("Received notification",{notificationType:e??"<all>",params:r});let n=wr(this,xs,"f").get(e),i=[];for(let s of n)i.push(async()=>{try{await s(...r)}catch(o){wr(this,Ba,"f")?.error("Error handling notification",{notificationType:e??"<all>",error:o})}});await Promise.all(i.map(s=>s()))}});var GF=_(Va=>{"use strict";var o0=Va&&Va.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Uc;Object.defineProperty(Va,"__esModule",{value:!0});Va.RuleCodeActionsCollection=void 0;var a0=class{constructor(){Uc.set(this,new Map)}get(e){let r=o0(this,Uc,"f").get(e);if(r)return r;let n={};return o0(this,Uc,"f").set(e,n),n}*[(Uc=new WeakMap,Symbol.iterator)](){for(let e of o0(this,Uc,"f").values())e.disableLine&&(yield e.disableLine),e.disableFile&&(yield e.disableFile),e.documentation&&(yield e.documentation)}get size(){let e=this[Symbol.iterator](),r=0;for(;!e.next().done;)r++;return r}};Va.RuleCodeActionsCollection=a0});var XF=_(YF=>{"use strict";Object.defineProperty(YF,"__esModule",{value:!0})});var $h=_(Vr=>{"use strict";var bB=Vr&&Vr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fs=Vr&&Vr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&bB(e,t,r)};Object.defineProperty(Vr,"__esModule",{value:!0});Fs(WF(),Vr);Fs(HF(),Vr);Fs(UF(),Vr);Fs(zF(),Vr);Fs(KF(),Vr);Fs(VF(),Vr);Fs(GF(),Vr);Fs(XF(),Vr)});var Wh=_((oZ,ZF)=>{"use strict";var QF=require("path");ZF.exports=function(t,e){return t=JF(t),e=JF(e),process.platform==="win32"&&(t=t.toLowerCase(),e=e.toLowerCase()),t.lastIndexOf(e,0)===0&&(t[e.length]===QF.sep||t[e.length]===void 0)};function JF(t){return t[t.length-1]===QF.sep?t.slice(0,-1):t}});var Ga=_((zc,u0)=>{(function(t,e){if(typeof zc=="object"&&typeof u0=="object")u0.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r=e();for(var n in r)(typeof zc=="object"?zc:t)[n]=r[n]}})(zc,()=>(()=>{"use strict";var t={470:i=>{function s(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function o(u,c){for(var l,f="",d=0,g=-1,p=0,b=0;b<=u.length;++b){if(b<u.length)l=u.charCodeAt(b);else{if(l===47)break;l=47}if(l===47){if(!(g===b-1||p===1))if(g!==b-1&&p===2){if(f.length<2||d!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var C=f.lastIndexOf("/");if(C!==f.length-1){C===-1?(f="",d=0):d=(f=f.slice(0,C)).length-1-f.lastIndexOf("/"),g=b,p=0;continue}}else if(f.length===2||f.length===1){f="",d=0,g=b,p=0;continue}}c&&(f.length>0?f+="/..":f="..",d=2)}else f.length>0?f+="/"+u.slice(g+1,b):f=u.slice(g+1,b),d=b-g-1;g=b,p=0}else l===46&&p!==-1?++p:p=-1}return f}var a={resolve:function(){for(var u,c="",l=!1,f=arguments.length-1;f>=-1&&!l;f--){var d;f>=0?d=arguments[f]:(u===void 0&&(u=process.cwd()),d=u),s(d),d.length!==0&&(c=d+"/"+c,l=d.charCodeAt(0)===47)}return c=o(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(u){if(s(u),u.length===0)return".";var c=u.charCodeAt(0)===47,l=u.charCodeAt(u.length-1)===47;return(u=o(u,!c)).length!==0||c||(u="."),u.length>0&&l&&(u+="/"),c?"/"+u:u},isAbsolute:function(u){return s(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,c=0;c<arguments.length;++c){var l=arguments[c];s(l),l.length>0&&(u===void 0?u=l:u+="/"+l)}return u===void 0?".":a.normalize(u)},relative:function(u,c){if(s(u),s(c),u===c||(u=a.resolve(u))===(c=a.resolve(c)))return"";for(var l=1;l<u.length&&u.charCodeAt(l)===47;++l);for(var f=u.length,d=f-l,g=1;g<c.length&&c.charCodeAt(g)===47;++g);for(var p=c.length-g,b=d<p?d:p,C=-1,D=0;D<=b;++D){if(D===b){if(p>b){if(c.charCodeAt(g+D)===47)return c.slice(g+D+1);if(D===0)return c.slice(g+D)}else d>b&&(u.charCodeAt(l+D)===47?C=D:D===0&&(C=0));break}var w=u.charCodeAt(l+D);if(w!==c.charCodeAt(g+D))break;w===47&&(C=D)}var S="";for(D=l+C+1;D<=f;++D)D!==f&&u.charCodeAt(D)!==47||(S.length===0?S+="..":S+="/..");return S.length>0?S+c.slice(g+C):(g+=C,c.charCodeAt(g)===47&&++g,c.slice(g))},_makeLong:function(u){return u},dirname:function(u){if(s(u),u.length===0)return".";for(var c=u.charCodeAt(0),l=c===47,f=-1,d=!0,g=u.length-1;g>=1;--g)if((c=u.charCodeAt(g))===47){if(!d){f=g;break}}else d=!1;return f===-1?l?"/":".":l&&f===1?"//":u.slice(0,f)},basename:function(u,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');s(u);var l,f=0,d=-1,g=!0;if(c!==void 0&&c.length>0&&c.length<=u.length){if(c.length===u.length&&c===u)return"";var p=c.length-1,b=-1;for(l=u.length-1;l>=0;--l){var C=u.charCodeAt(l);if(C===47){if(!g){f=l+1;break}}else b===-1&&(g=!1,b=l+1),p>=0&&(C===c.charCodeAt(p)?--p==-1&&(d=l):(p=-1,d=b))}return f===d?d=b:d===-1&&(d=u.length),u.slice(f,d)}for(l=u.length-1;l>=0;--l)if(u.charCodeAt(l)===47){if(!g){f=l+1;break}}else d===-1&&(g=!1,d=l+1);return d===-1?"":u.slice(f,d)},extname:function(u){s(u);for(var c=-1,l=0,f=-1,d=!0,g=0,p=u.length-1;p>=0;--p){var b=u.charCodeAt(p);if(b!==47)f===-1&&(d=!1,f=p+1),b===46?c===-1?c=p:g!==1&&(g=1):c!==-1&&(g=-1);else if(!d){l=p+1;break}}return c===-1||f===-1||g===0||g===1&&c===f-1&&c===l+1?"":u.slice(c,f)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(c,l){var f=l.dir||l.root,d=l.base||(l.name||"")+(l.ext||"");return f?f===l.root?f+d:f+"/"+d:d}(0,u)},parse:function(u){s(u);var c={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return c;var l,f=u.charCodeAt(0),d=f===47;d?(c.root="/",l=1):l=0;for(var g=-1,p=0,b=-1,C=!0,D=u.length-1,w=0;D>=l;--D)if((f=u.charCodeAt(D))!==47)b===-1&&(C=!1,b=D+1),f===46?g===-1?g=D:w!==1&&(w=1):g!==-1&&(w=-1);else if(!C){p=D+1;break}return g===-1||b===-1||w===0||w===1&&g===b-1&&g===p+1?b!==-1&&(c.base=c.name=p===0&&d?u.slice(1,b):u.slice(p,b)):(p===0&&d?(c.name=u.slice(1,g),c.base=u.slice(1,b)):(c.name=u.slice(p,g),c.base=u.slice(p,b)),c.ext=u.slice(g,b)),p>0?c.dir=u.slice(0,p-1):d&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a},674:(i,s)=>{if(Object.defineProperty(s,"__esModule",{value:!0}),s.isWindows=void 0,typeof process=="object")s.isWindows=process.platform==="win32";else if(typeof navigator=="object"){let o=navigator.userAgent;s.isWindows=o.indexOf("Windows")>=0}},796:(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.uriToFsPath=s.URI=void 0;let a=o(674),u=/^\w[\w\d+.-]*$/,c=/^\//,l=/^\/\//;function f(V,N){if(!V.scheme&&N)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${V.authority}", path: "${V.path}", query: "${V.query}", fragment: "${V.fragment}"}`);if(V.scheme&&!u.test(V.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(V.path){if(V.authority){if(!c.test(V.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(V.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let d="",g="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class b{static isUri(N){return N instanceof b||!!N&&typeof N.authority=="string"&&typeof N.fragment=="string"&&typeof N.path=="string"&&typeof N.query=="string"&&typeof N.scheme=="string"&&typeof N.fsPath=="string"&&typeof N.with=="function"&&typeof N.toString=="function"}scheme;authority;path;query;fragment;constructor(N,Q,J,ye,he,F=!1){typeof N=="object"?(this.scheme=N.scheme||d,this.authority=N.authority||d,this.path=N.path||d,this.query=N.query||d,this.fragment=N.fragment||d):(this.scheme=function(X,ge){return X||ge?X:"file"}(N,F),this.authority=Q||d,this.path=function(X,ge){switch(X){case"https":case"http":case"file":ge?ge[0]!==g&&(ge=g+ge):ge=g}return ge}(this.scheme,J||d),this.query=ye||d,this.fragment=he||d,f(this,F))}get fsPath(){return A(this,!1)}with(N){if(!N)return this;let{scheme:Q,authority:J,path:ye,query:he,fragment:F}=N;return Q===void 0?Q=this.scheme:Q===null&&(Q=d),J===void 0?J=this.authority:J===null&&(J=d),ye===void 0?ye=this.path:ye===null&&(ye=d),he===void 0?he=this.query:he===null&&(he=d),F===void 0?F=this.fragment:F===null&&(F=d),Q===this.scheme&&J===this.authority&&ye===this.path&&he===this.query&&F===this.fragment?this:new D(Q,J,ye,he,F)}static parse(N,Q=!1){let J=p.exec(N);return J?new D(J[2]||d,ue(J[4]||d),ue(J[5]||d),ue(J[7]||d),ue(J[9]||d),Q):new D(d,d,d,d,d)}static file(N){let Q=d;if(a.isWindows&&(N=N.replace(/\\/g,g)),N[0]===g&&N[1]===g){let J=N.indexOf(g,2);J===-1?(Q=N.substring(2),N=g):(Q=N.substring(2,J),N=N.substring(J)||g)}return new D("file",Q,N,d,d)}static from(N){let Q=new D(N.scheme,N.authority,N.path,N.query,N.fragment);return f(Q,!0),Q}toString(N=!1){return z(this,N)}toJSON(){return this}static revive(N){if(N){if(N instanceof b)return N;{let Q=new D(N);return Q._formatted=N.external,Q._fsPath=N._sep===C?N.fsPath:null,Q}}return N}}s.URI=b;let C=a.isWindows?1:void 0;class D extends b{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=A(this,!1)),this._fsPath}toString(N=!1){return N?z(this,!0):(this._formatted||(this._formatted=z(this,!1)),this._formatted)}toJSON(){let N={$mid:1};return this._fsPath&&(N.fsPath=this._fsPath,N._sep=C),this._formatted&&(N.external=this._formatted),this.path&&(N.path=this.path),this.scheme&&(N.scheme=this.scheme),this.authority&&(N.authority=this.authority),this.query&&(N.query=this.query),this.fragment&&(N.fragment=this.fragment),N}}let w={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function S(V,N,Q){let J,ye=-1;for(let he=0;he<V.length;he++){let F=V.charCodeAt(he);if(F>=97&&F<=122||F>=65&&F<=90||F>=48&&F<=57||F===45||F===46||F===95||F===126||N&&F===47||Q&&F===91||Q&&F===93||Q&&F===58)ye!==-1&&(J+=encodeURIComponent(V.substring(ye,he)),ye=-1),J!==void 0&&(J+=V.charAt(he));else{J===void 0&&(J=V.substr(0,he));let X=w[F];X!==void 0?(ye!==-1&&(J+=encodeURIComponent(V.substring(ye,he)),ye=-1),J+=X):ye===-1&&(ye=he)}}return ye!==-1&&(J+=encodeURIComponent(V.substring(ye))),J!==void 0?J:V}function O(V){let N;for(let Q=0;Q<V.length;Q++){let J=V.charCodeAt(Q);J===35||J===63?(N===void 0&&(N=V.substr(0,Q)),N+=w[J]):N!==void 0&&(N+=V[Q])}return N!==void 0?N:V}function A(V,N){let Q;return Q=V.authority&&V.path.length>1&&V.scheme==="file"?`//${V.authority}${V.path}`:V.path.charCodeAt(0)===47&&(V.path.charCodeAt(1)>=65&&V.path.charCodeAt(1)<=90||V.path.charCodeAt(1)>=97&&V.path.charCodeAt(1)<=122)&&V.path.charCodeAt(2)===58?N?V.path.substr(1):V.path[1].toLowerCase()+V.path.substr(2):V.path,a.isWindows&&(Q=Q.replace(/\//g,"\\")),Q}function z(V,N){let Q=N?O:S,J="",{scheme:ye,authority:he,path:F,query:X,fragment:ge}=V;if(ye&&(J+=ye,J+=":"),(he||ye==="file")&&(J+=g,J+=g),he){let le=he.indexOf("@");if(le!==-1){let oe=he.substr(0,le);he=he.substr(le+1),le=oe.lastIndexOf(":"),le===-1?J+=Q(oe,!1,!1):(J+=Q(oe.substr(0,le),!1,!1),J+=":",J+=Q(oe.substr(le+1),!1,!0)),J+="@"}he=he.toLowerCase(),le=he.lastIndexOf(":"),le===-1?J+=Q(he,!1,!0):(J+=Q(he.substr(0,le),!1,!0),J+=he.substr(le))}if(F){if(F.length>=3&&F.charCodeAt(0)===47&&F.charCodeAt(2)===58){let le=F.charCodeAt(1);le>=65&&le<=90&&(F=`/${String.fromCharCode(le+32)}:${F.substr(3)}`)}else if(F.length>=2&&F.charCodeAt(1)===58){let le=F.charCodeAt(0);le>=65&&le<=90&&(F=`${String.fromCharCode(le+32)}:${F.substr(2)}`)}J+=Q(F,!0,!1)}return X&&(J+="?",J+=Q(X,!1,!1)),ge&&(J+="#",J+=N?ge:S(ge,!1,!1)),J}function U(V){try{return decodeURIComponent(V)}catch{return V.length>3?V.substr(0,3)+U(V.substr(3)):V}}s.uriToFsPath=A;let K=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ue(V){return V.match(K)?V.replace(K,N=>U(N)):V}},679:function(i,s,o){var a=this&&this.__createBinding||(Object.create?function(p,b,C,D){D===void 0&&(D=C);var w=Object.getOwnPropertyDescriptor(b,C);w&&!("get"in w?!b.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return b[C]}}),Object.defineProperty(p,D,w)}:function(p,b,C,D){D===void 0&&(D=C),p[D]=b[C]}),u=this&&this.__setModuleDefault||(Object.create?function(p,b){Object.defineProperty(p,"default",{enumerable:!0,value:b})}:function(p,b){p.default=b}),c=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var b={};if(p!=null)for(var C in p)C!=="default"&&Object.prototype.hasOwnProperty.call(p,C)&&a(b,p,C);return u(b,p),b};Object.defineProperty(s,"__esModule",{value:!0}),s.Utils=void 0;let l=c(o(470)),f=l.posix||l,d="/";var g;(function(p){p.joinPath=function(b,...C){return b.with({path:f.join(b.path,...C)})},p.resolvePath=function(b,...C){let D=b.path,w=!1;D[0]!==d&&(D=d+D,w=!0);let S=f.resolve(D,...C);return w&&S[0]===d&&!b.authority&&(S=S.substring(1)),b.with({path:S})},p.dirname=function(b){if(b.path.length===0||b.path===d)return b;let C=f.dirname(b.path);return C.length===1&&C.charCodeAt(0)===46&&(C=""),b.with({path:C})},p.basename=function(b){return f.basename(b.path)},p.extname=function(b){return f.extname(b.path)}})(g||(s.Utils=g={}))}},e={};function r(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,r),o.exports}var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.URI=void 0;let s=r(796);Object.defineProperty(i,"URI",{enumerable:!0,get:function(){return s.URI}});let o=r(679);Object.defineProperty(i,"Utils",{enumerable:!0,get:function(){return o.Utils}})})(),n})())});var c0=_(Ya=>{"use strict";var eI=Ya&&Ya.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.findPackageRoot=void 0;var wB=eI(require("fs/promises")),Kc=eI(require("path"));async function SB(t,e="package.json"){let r=t;for(;;){let n=Kc.default.join(r,e);try{if((await wB.default.stat(n)).isFile())return r;let s=Kc.default.dirname(r);if(!Kc.default.relative(s,r))return;r=s}catch(i){if(i.code==="ENOENT"||i.code==="ENOTDIR"){let s=Kc.default.dirname(r);if(!Kc.default.relative(s,r))return;r=s}else throw i}}}Ya.findPackageRoot=SB});var rI=_(Xa=>{"use strict";var tI=Xa&&Xa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.runProcessFindLine=void 0;var RB=tI(require("child_process")),CB=tI(require("readline"));function DB(t,e,r,n){return new Promise((i,s)=>{let o=RB.default.spawn(t,e,r),a=CB.default.createInterface({input:o.stdout}),u,c,l=!1,f=!1,d=()=>{l||c===void 0||!f||(l=!0,c===0?i(u):s(new Error(`Command "${t}" exited with code ${c}.`)))},g=p=>{l=!0,o.removeAllListeners(),a.close();try{o.kill()}catch{}s(p)};a.on("line",p=>{if(!(l||u!==void 0))try{let b=n(p);b!==void 0&&(u=b),d()}catch(b){g(b)}}),a.on("close",()=>{l||(f=!0,d())}),o.on("error",g),o.on("exit",(p,b)=>{c=p??b,d()})})}Xa.runProcessFindLine=DB});var g0=_(bi=>{"use strict";var nI=bi&&bi.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Gt=bi&&bi.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},iI=bi&&bi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Bc,Yn,Hh,Po,f0,sI,oI,aI;Object.defineProperty(bi,"__esModule",{value:!0});bi.GlobalPathResolver=void 0;var EB=iI(require("os")),l0=iI(require("path")),d0=rI(),h0=class{constructor(e){Bc.add(this),Yn.set(this,void 0),Hh.set(this,{yarn:void 0,npm:void 0,pnpm:void 0}),Po.set(this,void 0),f0.set(this,{yarn:Gt(this,Bc,"m",sI).bind(this),npm:Gt(this,Bc,"m",oI).bind(this),pnpm:Gt(this,Bc,"m",aI).bind(this)}),nI(this,Yn,e,"f"),nI(this,Po,EB.default.platform()==="win32","f")}async resolve(e){let r=Gt(this,Hh,"f")[e];if(r)return r;let n=Gt(this,f0,"f")[e];if(!n){Gt(this,Yn,"f")?.warn("Unsupported package manager.",{packageManager:e});return}try{let i=await n();return i&&(Gt(this,Hh,"f")[e]=i),i}catch(i){Gt(this,Yn,"f")?.warn("Failed to resolve global node_modules path.",{packageManager:e,error:i});return}}};bi.GlobalPathResolver=h0;Yn=new WeakMap,Hh=new WeakMap,Po=new WeakMap,f0=new WeakMap,Bc=new WeakSet,sI=async function(){let e=n=>{try{return JSON.parse(n)}catch{return}},r=await(0,d0.runProcessFindLine)("yarn",["global","dir","--json"],Gt(this,Po,"f")?{shell:!0}:void 0,n=>{let i=e(n);if(!i||i.type!=="log"||!i.data)return;let s=l0.default.join(i.data,"node_modules");return Gt(this,Yn,"f")?.debug("Yarn returned global node_modules path.",{path:s}),s});if(!r){Gt(this,Yn,"f")?.warn('"yarn global dir --json" did not return a path.');return}return r},oI=async function(){let e=await(0,d0.runProcessFindLine)("npm",["config","get","prefix"],Gt(this,Po,"f")?{shell:!0}:void 0,r=>{let n=r.trim();if(!n)return;let i=Gt(this,Po,"f")?l0.default.join(n,"node_modules"):l0.default.join(n,"lib/node_modules");return Gt(this,Yn,"f")?.debug("npm returned global node_modules path.",{path:i}),i});if(!e){Gt(this,Yn,"f")?.warn('"npm config get prefix" did not return a path.');return}return e},aI=async function(){let e=await(0,d0.runProcessFindLine)("pnpm",["root","-g"],Gt(this,Po,"f")?{shell:!0}:void 0,r=>{let n=r.trim();if(n)return Gt(this,Yn,"f")?.debug("pnpm returned global node_modules path.",{path:n}),n});if(!e){Gt(this,Yn,"f")?.warn('"pnpm root -g" did not return a path.');return}return e}});var Uh=_(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.thenable=kt.typedArray=kt.stringArray=kt.array=kt.func=kt.error=kt.number=kt.string=kt.boolean=void 0;function TB(t){return t===!0||t===!1}kt.boolean=TB;function uI(t){return typeof t=="string"||t instanceof String}kt.string=uI;function PB(t){return typeof t=="number"||t instanceof Number}kt.number=PB;function qB(t){return t instanceof Error}kt.error=qB;function cI(t){return typeof t=="function"}kt.func=cI;function lI(t){return Array.isArray(t)}kt.array=lI;function OB(t){return lI(t)&&t.every(e=>uI(e))}kt.stringArray=OB;function xB(t,e){return Array.isArray(t)&&t.every(e)}kt.typedArray=xB;function MB(t){return t&&cI(t.then)}kt.thenable=MB});var p0=_(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.generateUuid=qn.parse=qn.isUUID=qn.v4=qn.empty=void 0;var Vc=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Gc=class t extends Vc{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};Gc._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Gc._timeHighBits=["8","9","a","b"];qn.empty=new Vc("00000000-0000-0000-0000-000000000000");function dI(){return new Gc}qn.v4=dI;var FB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function fI(t){return FB.test(t)}qn.isUUID=fI;function IB(t){if(!fI(t))throw new Error("invalid uuid");return new Vc(t)}qn.parse=IB;function kB(){return dI().asHex()}qn.generateUuid=kB});var hI=_(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.attachPartialResult=ks.ProgressFeature=ks.attachWorkDone=void 0;var Is=re(),AB=p0(),qo=class t{constructor(e,r){this._connection=e,this._token=r,t.Instances.set(this._token,this)}begin(e,r,n,i){let s={kind:"begin",title:e,percentage:r,message:n,cancellable:i};this._connection.sendProgress(Is.WorkDoneProgress.type,this._token,s)}report(e,r){let n={kind:"report"};typeof e=="number"?(n.percentage=e,r!==void 0&&(n.message=r)):n.message=e,this._connection.sendProgress(Is.WorkDoneProgress.type,this._token,n)}done(){t.Instances.delete(this._token),this._connection.sendProgress(Is.WorkDoneProgress.type,this._token,{kind:"end"})}};qo.Instances=new Map;var zh=class extends qo{constructor(e,r){super(e,r),this._source=new Is.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Yc=class{constructor(){}begin(){}report(){}done(){}},Kh=class extends Yc{constructor(){super(),this._source=new Is.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function NB(t,e){if(e===void 0||e.workDoneToken===void 0)return new Yc;let r=e.workDoneToken;return delete e.workDoneToken,new qo(t,r)}ks.attachWorkDone=NB;var LB=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){super.initialize(e),e?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(Is.WorkDoneProgressCancelNotification.type,r=>{let n=qo.Instances.get(r.token);(n instanceof zh||n instanceof Kh)&&n.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Yc:new qo(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=(0,AB.generateUuid)();return this.connection.sendRequest(Is.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new zh(this.connection,e))}else return Promise.resolve(new Kh)}};ks.ProgressFeature=LB;var m0;(function(t){t.type=new Is.ProgressType})(m0||(m0={}));var y0=class{constructor(e,r){this._connection=e,this._token=r}report(e){this._connection.sendProgress(m0.type,this._token,e)}};function jB(t,e){if(e===void 0||e.partialResultToken===void 0)return;let r=e.partialResultToken;return delete e.partialResultToken,new y0(t,r)}ks.attachPartialResult=jB});var gI=_(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.ConfigurationFeature=void 0;var $B=re(),WB=Uh(),HB=t=>class extends t{getConfiguration(e){return e?WB.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let r={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest($B.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(e)?n:n[0]:Array.isArray(e)?[]:null)}};Bh.ConfigurationFeature=HB});var pI=_(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.WorkspaceFoldersFeature=void 0;var Vh=re(),UB=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let r=e.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Vh.Emitter,this.connection.onNotification(Vh.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(e){super.fillServerCapabilities(e);let r=e.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Vh.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Vh.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Gh.WorkspaceFoldersFeature=UB});var mI=_(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.CallHierarchyFeature=void 0;var v0=re(),zB=t=>class extends t{get callHierarchy(){return{onPrepare:e=>this.connection.onRequest(v0.CallHierarchyPrepareRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0)),onIncomingCalls:e=>{let r=v0.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:e=>{let r=v0.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Yh.CallHierarchyFeature=zB});var b0=_(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.SemanticTokensBuilder=As.SemanticTokensDiff=As.SemanticTokensFeature=void 0;var Xh=re(),KB=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Xh.SemanticTokensRefreshRequest.type),on:e=>{let r=Xh.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onDelta:e=>{let r=Xh.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:e=>{let r=Xh.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};As.SemanticTokensFeature=KB;var Jh=class{constructor(e,r){this.originalSequence=e,this.modifiedSequence=r}computeDiff(){let e=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<e&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<e){let i=e-1,s=r-1;for(;i>=n&&s>=n&&this.originalSequence[i]===this.modifiedSequence[s];)i--,s--;(i<n||s<n)&&(i++,s++);let o=i-n+1,a=this.modifiedSequence.slice(n,s+1);return a.length===1&&a[0]===this.originalSequence[i]?[{start:n,deleteCount:o-1}]:[{start:n,deleteCount:o,data:a}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<e?[{start:n,deleteCount:e-n}]:[]}};As.SemanticTokensDiff=Jh;var _0=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,r,n,i,s){let o=e,a=r;this._dataLen>0&&(o-=this._prevLine,o===0&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=r}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Jh(this._prevData,this._data).computeDiff()}:this.build()}};As.SemanticTokensBuilder=_0});var yI=_(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.ShowDocumentFeature=void 0;var BB=re(),VB=t=>class extends t{showDocument(e){return this.connection.sendRequest(BB.ShowDocumentRequest.type,e)}};Qh.ShowDocumentFeature=VB});var vI=_(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.FileOperationsFeature=void 0;var Ja=re(),GB=t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(Ja.DidCreateFilesNotification.type,r=>{e(r)})}onDidRenameFiles(e){return this.connection.onNotification(Ja.DidRenameFilesNotification.type,r=>{e(r)})}onDidDeleteFiles(e){return this.connection.onNotification(Ja.DidDeleteFilesNotification.type,r=>{e(r)})}onWillCreateFiles(e){return this.connection.onRequest(Ja.WillCreateFilesRequest.type,(r,n)=>e(r,n))}onWillRenameFiles(e){return this.connection.onRequest(Ja.WillRenameFilesRequest.type,(r,n)=>e(r,n))}onWillDeleteFiles(e){return this.connection.onRequest(Ja.WillDeleteFilesRequest.type,(r,n)=>e(r,n))}};Zh.FileOperationsFeature=GB});var _I=_(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.LinkedEditingRangeFeature=void 0;var YB=re(),XB=t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest(YB.LinkedEditingRangeRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0))}};eg.LinkedEditingRangeFeature=XB});var bI=_(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.TypeHierarchyFeature=void 0;var w0=re(),JB=t=>class extends t{get typeHierarchy(){return{onPrepare:e=>this.connection.onRequest(w0.TypeHierarchyPrepareRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0)),onSupertypes:e=>{let r=w0.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onSubtypes:e=>{let r=w0.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};tg.TypeHierarchyFeature=JB});var SI=_(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.InlineValueFeature=void 0;var wI=re(),QB=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(wI.InlineValueRefreshRequest.type),on:e=>this.connection.onRequest(wI.InlineValueRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r)))}}};rg.InlineValueFeature=QB});var CI=_(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.FoldingRangeFeature=void 0;var RI=re(),ZB=t=>class extends t{get foldingRange(){return{refresh:()=>this.connection.sendRequest(RI.FoldingRangeRefreshRequest.type),on:e=>{let r=RI.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};ng.FoldingRangeFeature=ZB});var DI=_(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.InlayHintFeature=void 0;var S0=re(),e8=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(S0.InlayHintRefreshRequest.type),on:e=>this.connection.onRequest(S0.InlayHintRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r))),resolve:e=>this.connection.onRequest(S0.InlayHintResolveRequest.type,(r,n)=>e(r,n))}}};ig.InlayHintFeature=e8});var EI=_(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.DiagnosticFeature=void 0;var Xc=re(),t8=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Xc.DiagnosticRefreshRequest.type),on:e=>this.connection.onRequest(Xc.DocumentDiagnosticRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Xc.DocumentDiagnosticRequest.partialResult,r))),onWorkspace:e=>this.connection.onRequest(Xc.WorkspaceDiagnosticRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Xc.WorkspaceDiagnosticRequest.partialResult,r)))}}};sg.DiagnosticFeature=t8});var C0=_(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.TextDocuments=void 0;var Oo=re(),R0=class{constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new Oo.Emitter,this._onDidOpen=new Oo.Emitter,this._onDidClose=new Oo.Emitter,this._onDidSave=new Oo.Emitter,this._onWillSave=new Oo.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=Oo.TextDocumentSyncKind.Incremental;let r=[];return r.push(e.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,s);let o=Object.freeze({document:s});this._onDidOpen.fire(o),this._onDidChangeContent.fire(o)})),r.push(e.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges;if(s.length===0)return;let{version:o}=i;if(o==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let a=this._syncedDocuments.get(i.uri);a!==void 0&&(a=this._configuration.update(a,s,o),this._syncedDocuments.set(i.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),r.push(e.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(e.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(e.onWillSaveTextDocumentWaitUntil((n,i)=>{let s=this._syncedDocuments.get(n.textDocument.uri);return s!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:s,reason:n.reason}),i):[]})),r.push(e.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Oo.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};og.TextDocuments=R0});var E0=_(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.NotebookDocuments=Qa.NotebookSyncFeature=void 0;var On=re(),TI=C0(),r8=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:e=>this.connection.onNotification(On.DidOpenNotebookDocumentNotification.type,r=>{e(r)}),onDidChangeNotebookDocument:e=>this.connection.onNotification(On.DidChangeNotebookDocumentNotification.type,r=>{e(r)}),onDidSaveNotebookDocument:e=>this.connection.onNotification(On.DidSaveNotebookDocumentNotification.type,r=>{e(r)}),onDidCloseNotebookDocument:e=>this.connection.onNotification(On.DidCloseNotebookDocumentNotification.type,r=>{e(r)})}}};Qa.NotebookSyncFeature=r8;var ag=class t{onDidOpenTextDocument(e){return this.openHandler=e,On.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,On.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,On.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return t.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return t.NULL_DISPOSE}onDidSaveTextDocument(){return t.NULL_DISPOSE}};ag.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var D0=class{constructor(e){e instanceof TI.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new TI.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new On.Emitter,this._onDidChange=new On.Emitter,this._onDidSave=new On.Emitter,this._onDidClose=new On.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){let r=this.notebookCellMap.get(e);return r&&r[0]}findNotebookDocumentForCell(e){let r=typeof e=="string"?e:e.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){let r=new ag,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let s of i.cellTextDocuments)r.openTextDocument({textDocument:s});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s===void 0)return;s.version=i.notebookDocument.version;let o=s.metadata,a=!1,u=i.change;u.metadata!==void 0&&(a=!0,s.metadata=u.metadata);let c=[],l=[],f=[],d=[];if(u.cells!==void 0){let D=u.cells;if(D.structure!==void 0){let w=D.structure.array;if(s.cells.splice(w.start,w.deleteCount,...w.cells!==void 0?w.cells:[]),D.structure.didOpen!==void 0)for(let S of D.structure.didOpen)r.openTextDocument({textDocument:S}),c.push(S.uri);if(D.structure.didClose)for(let S of D.structure.didClose)r.closeTextDocument({textDocument:S}),l.push(S.uri)}if(D.data!==void 0){let w=new Map(D.data.map(S=>[S.document,S]));for(let S=0;S<=s.cells.length;S++){let O=w.get(s.cells[S].document);if(O!==void 0){let A=s.cells.splice(S,1,O);if(f.push({old:A[0],new:O}),w.delete(O.document),w.size===0)break}}}if(D.textContent!==void 0)for(let w of D.textContent)r.changeTextDocument({textDocument:w.document,contentChanges:w.changes}),d.push(w.document.uri)}this.updateCellMap(s);let g={notebookDocument:s};a&&(g.metadata={old:o,new:s.metadata});let p=[];for(let D of c)p.push(this.getNotebookCell(D));let b=[];for(let D of l)b.push(this.getNotebookCell(D));let C=[];for(let D of d)C.push(this.getNotebookCell(D));(p.length>0||b.length>0||f.length>0||C.length>0)&&(g.cells={added:p,removed:b,changed:{data:f,textContent:C}}),(g.metadata!==void 0||g.cells!==void 0)&&this._onDidChange.fire(g)})),n.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);s!==void 0&&this._onDidSave.fire(s)})),n.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s!==void 0){this._onDidClose.fire(s);for(let o of i.cellTextDocuments)r.closeTextDocument({textDocument:o});this.notebookDocuments.delete(i.notebookDocument.uri);for(let o of s.cells)this.notebookCellMap.delete(o.document)}})),On.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(e){for(let r of e.cells)this.notebookCellMap.set(r.document,[r,e])}};Qa.NotebookDocuments=D0});var PI=_(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.MonikerFeature=void 0;var n8=re(),i8=t=>class extends t{get moniker(){return{on:e=>{let r=n8.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};ug.MonikerFeature=i8});var M0=_(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.createConnection=Be.combineFeatures=Be.combineNotebooksFeatures=Be.combineLanguagesFeatures=Be.combineWorkspaceFeatures=Be.combineWindowFeatures=Be.combineClientFeatures=Be.combineTracerFeatures=Be.combineTelemetryFeatures=Be.combineConsoleFeatures=Be._NotebooksImpl=Be._LanguagesImpl=Be.BulkUnregistration=Be.BulkRegistration=Be.ErrorMessageTracker=void 0;var ee=re(),xn=Uh(),P0=p0(),be=hI(),s8=gI(),o8=pI(),a8=mI(),u8=b0(),c8=yI(),l8=vI(),d8=_I(),f8=bI(),h8=SI(),g8=CI(),p8=DI(),m8=EI(),y8=E0(),v8=PI();function T0(t){if(t!==null)return t}var q0=class{constructor(){this._messages=Object.create(null)}add(e){let r=this._messages[e];r||(r=0),r++,this._messages[e]=r}sendErrors(e){Object.keys(this._messages).forEach(r=>{e.window.showErrorMessage(r)})}};Be.ErrorMessageTracker=q0;var cg=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(ee.MessageType.Error,e)}warn(e){this.send(ee.MessageType.Warning,e)}info(e){this.send(ee.MessageType.Info,e)}log(e){this.send(ee.MessageType.Log,e)}debug(e){this.send(ee.MessageType.Debug,e)}send(e,r){this._rawConnection&&this._rawConnection.sendNotification(ee.LogMessageNotification.type,{type:e,message:r}).catch(()=>{(0,ee.RAL)().console.error("Sending log message failed")})}},O0=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...r){let n={type:ee.MessageType.Error,message:e,actions:r};return this.connection.sendRequest(ee.ShowMessageRequest.type,n).then(T0)}showWarningMessage(e,...r){let n={type:ee.MessageType.Warning,message:e,actions:r};return this.connection.sendRequest(ee.ShowMessageRequest.type,n).then(T0)}showInformationMessage(e,...r){let n={type:ee.MessageType.Info,message:e,actions:r};return this.connection.sendRequest(ee.ShowMessageRequest.type,n).then(T0)}},qI=(0,c8.ShowDocumentFeature)((0,be.ProgressFeature)(O0)),OI;(function(t){function e(){return new lg}t.create=e})(OI||(Be.BulkRegistration=OI={}));var lg=class{constructor(){this._registrations=[],this._registered=new Set}add(e,r){let n=xn.string(e)?e:e.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=P0.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},xI;(function(t){function e(){return new Jc(void 0,[])}t.create=e})(xI||(Be.BulkUnregistration=xI={}));var Jc=class{constructor(e,r){this._connection=e,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let n of this._unregistrations.values())e.push(n);let r={unregisterations:e};this._connection.sendRequest(ee.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let r=xn.string(e)?e:e.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(ee.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},dg=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,r,n){return e instanceof lg?this.registerMany(e):e instanceof Jc?this.registerSingle1(e,r,n):this.registerSingle2(e,r)}registerSingle1(e,r,n){let i=xn.string(r)?r:r.method,s=P0.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:n||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(ee.RegistrationRequest.type,o).then(a=>(e.add({id:s,method:i}),e),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(e,r){let n=xn.string(e)?e:e.method,i=P0.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(ee.RegistrationRequest.type,s).then(o=>ee.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),o=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(o)))}unregisterSingle(e,r){let n={unregisterations:[{id:e,method:r}]};return this.connection.sendRequest(ee.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let r=e.asRegistrationParams();return this.connection.sendRequest(ee.RegistrationRequest.type,r).then(()=>new Jc(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},x0=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function r(i){return i&&!!i.edit}let n=r(e)?e:{edit:e};return this.connection.sendRequest(ee.ApplyWorkspaceEditRequest.type,n)}},MI=(0,l8.FileOperationsFeature)((0,o8.WorkspaceFoldersFeature)((0,s8.ConfigurationFeature)(x0))),fg=class{constructor(){this._trace=ee.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,r){this._trace!==ee.Trace.Off&&this.connection.sendNotification(ee.LogTraceNotification.type,{message:e,verbose:this._trace===ee.Trace.Verbose?r:void 0}).catch(()=>{})}},hg=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(ee.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},gg=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,be.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,r){return(0,be.attachPartialResult)(this.connection,r)}};Be._LanguagesImpl=gg;var FI=(0,g8.FoldingRangeFeature)((0,v8.MonikerFeature)((0,m8.DiagnosticFeature)((0,p8.InlayHintFeature)((0,h8.InlineValueFeature)((0,f8.TypeHierarchyFeature)((0,d8.LinkedEditingRangeFeature)((0,u8.SemanticTokensFeature)((0,a8.CallHierarchyFeature)(gg))))))))),pg=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,be.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,r){return(0,be.attachPartialResult)(this.connection,r)}};Be._NotebooksImpl=pg;var II=(0,y8.NotebookSyncFeature)(pg);function kI(t,e){return function(r){return e(t(r))}}Be.combineConsoleFeatures=kI;function AI(t,e){return function(r){return e(t(r))}}Be.combineTelemetryFeatures=AI;function NI(t,e){return function(r){return e(t(r))}}Be.combineTracerFeatures=NI;function LI(t,e){return function(r){return e(t(r))}}Be.combineClientFeatures=LI;function jI(t,e){return function(r){return e(t(r))}}Be.combineWindowFeatures=jI;function $I(t,e){return function(r){return e(t(r))}}Be.combineWorkspaceFeatures=$I;function WI(t,e){return function(r){return e(t(r))}}Be.combineLanguagesFeatures=WI;function HI(t,e){return function(r){return e(t(r))}}Be.combineNotebooksFeatures=HI;function _8(t,e){function r(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:r(t.console,e.console,kI),tracer:r(t.tracer,e.tracer,NI),telemetry:r(t.telemetry,e.telemetry,AI),client:r(t.client,e.client,LI),window:r(t.window,e.window,jI),workspace:r(t.workspace,e.workspace,$I),languages:r(t.languages,e.languages,WI),notebooks:r(t.notebooks,e.notebooks,HI)}}Be.combineFeatures=_8;function b8(t,e,r){let n=r&&r.console?new(r.console(cg)):new cg,i=t(n);n.rawAttach(i);let s=r&&r.tracer?new(r.tracer(fg)):new fg,o=r&&r.telemetry?new(r.telemetry(hg)):new hg,a=r&&r.client?new(r.client(dg)):new dg,u=r&&r.window?new(r.window(qI)):new qI,c=r&&r.workspace?new(r.workspace(MI)):new MI,l=r&&r.languages?new(r.languages(FI)):new FI,f=r&&r.notebooks?new(r.notebooks(II)):new II,d=[n,s,o,a,u,c,l,f];function g(w){return w instanceof Promise?w:xn.thenable(w)?new Promise((S,O)=>{w.then(A=>S(A),A=>O(A))}):Promise.resolve(w)}let p,b,C,D={listen:()=>i.listen(),sendRequest:(w,...S)=>i.sendRequest(xn.string(w)?w:w.method,...S),onRequest:(w,S)=>i.onRequest(w,S),sendNotification:(w,S)=>{let O=xn.string(w)?w:w.method;return i.sendNotification(O,S)},onNotification:(w,S)=>i.onNotification(w,S),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:w=>(b=w,{dispose:()=>{b=void 0}}),onInitialized:w=>i.onNotification(ee.InitializedNotification.type,w),onShutdown:w=>(p=w,{dispose:()=>{p=void 0}}),onExit:w=>(C=w,{dispose:()=>{C=void 0}}),get console(){return n},get telemetry(){return o},get tracer(){return s},get client(){return a},get window(){return u},get workspace(){return c},get languages(){return l},get notebooks(){return f},onDidChangeConfiguration:w=>i.onNotification(ee.DidChangeConfigurationNotification.type,w),onDidChangeWatchedFiles:w=>i.onNotification(ee.DidChangeWatchedFilesNotification.type,w),__textDocumentSync:void 0,onDidOpenTextDocument:w=>i.onNotification(ee.DidOpenTextDocumentNotification.type,w),onDidChangeTextDocument:w=>i.onNotification(ee.DidChangeTextDocumentNotification.type,w),onDidCloseTextDocument:w=>i.onNotification(ee.DidCloseTextDocumentNotification.type,w),onWillSaveTextDocument:w=>i.onNotification(ee.WillSaveTextDocumentNotification.type,w),onWillSaveTextDocumentWaitUntil:w=>i.onRequest(ee.WillSaveTextDocumentWaitUntilRequest.type,w),onDidSaveTextDocument:w=>i.onNotification(ee.DidSaveTextDocumentNotification.type,w),sendDiagnostics:w=>i.sendNotification(ee.PublishDiagnosticsNotification.type,w),onHover:w=>i.onRequest(ee.HoverRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),void 0)),onCompletion:w=>i.onRequest(ee.CompletionRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onCompletionResolve:w=>i.onRequest(ee.CompletionResolveRequest.type,w),onSignatureHelp:w=>i.onRequest(ee.SignatureHelpRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),void 0)),onDeclaration:w=>i.onRequest(ee.DeclarationRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onDefinition:w=>i.onRequest(ee.DefinitionRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onTypeDefinition:w=>i.onRequest(ee.TypeDefinitionRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onImplementation:w=>i.onRequest(ee.ImplementationRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onReferences:w=>i.onRequest(ee.ReferencesRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onDocumentHighlight:w=>i.onRequest(ee.DocumentHighlightRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onDocumentSymbol:w=>i.onRequest(ee.DocumentSymbolRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onWorkspaceSymbol:w=>i.onRequest(ee.WorkspaceSymbolRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onWorkspaceSymbolResolve:w=>i.onRequest(ee.WorkspaceSymbolResolveRequest.type,w),onCodeAction:w=>i.onRequest(ee.CodeActionRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onCodeActionResolve:w=>i.onRequest(ee.CodeActionResolveRequest.type,(S,O)=>w(S,O)),onCodeLens:w=>i.onRequest(ee.CodeLensRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onCodeLensResolve:w=>i.onRequest(ee.CodeLensResolveRequest.type,(S,O)=>w(S,O)),onDocumentFormatting:w=>i.onRequest(ee.DocumentFormattingRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),void 0)),onDocumentRangeFormatting:w=>i.onRequest(ee.DocumentRangeFormattingRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),void 0)),onDocumentOnTypeFormatting:w=>i.onRequest(ee.DocumentOnTypeFormattingRequest.type,(S,O)=>w(S,O)),onRenameRequest:w=>i.onRequest(ee.RenameRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),void 0)),onPrepareRename:w=>i.onRequest(ee.PrepareRenameRequest.type,(S,O)=>w(S,O)),onDocumentLinks:w=>i.onRequest(ee.DocumentLinkRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onDocumentLinkResolve:w=>i.onRequest(ee.DocumentLinkResolveRequest.type,(S,O)=>w(S,O)),onDocumentColor:w=>i.onRequest(ee.DocumentColorRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onColorPresentation:w=>i.onRequest(ee.ColorPresentationRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onFoldingRanges:w=>i.onRequest(ee.FoldingRangeRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onSelectionRanges:w=>i.onRequest(ee.SelectionRangeRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),(0,be.attachPartialResult)(i,S))),onExecuteCommand:w=>i.onRequest(ee.ExecuteCommandRequest.type,(S,O)=>w(S,O,(0,be.attachWorkDone)(i,S),void 0)),dispose:()=>i.dispose()};for(let w of d)w.attach(D);return i.onRequest(ee.InitializeRequest.type,w=>{e.initialize(w),xn.string(w.trace)&&(s.trace=ee.Trace.fromString(w.trace));for(let S of d)S.initialize(w.capabilities);if(b){let S=b(w,new ee.CancellationTokenSource().token,(0,be.attachWorkDone)(i,w),void 0);return g(S).then(O=>{if(O instanceof ee.ResponseError)return O;let A=O;A||(A={capabilities:{}});let z=A.capabilities;z||(z={},A.capabilities=z),z.textDocumentSync===void 0||z.textDocumentSync===null?z.textDocumentSync=xn.number(D.__textDocumentSync)?D.__textDocumentSync:ee.TextDocumentSyncKind.None:!xn.number(z.textDocumentSync)&&!xn.number(z.textDocumentSync.change)&&(z.textDocumentSync.change=xn.number(D.__textDocumentSync)?D.__textDocumentSync:ee.TextDocumentSyncKind.None);for(let U of d)U.fillServerCapabilities(z);return A})}else{let S={capabilities:{textDocumentSync:ee.TextDocumentSyncKind.None}};for(let O of d)O.fillServerCapabilities(S.capabilities);return S}}),i.onRequest(ee.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,p)return p(new ee.CancellationTokenSource().token)}),i.onNotification(ee.ExitNotification.type,()=>{try{C&&C()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(ee.SetTraceNotification.type,w=>{s.trace=ee.Trace.fromString(w.value)}),D}Be.createConnection=b8});var UI=_(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.resolveModulePath=Gr.FileSystem=Gr.resolveGlobalYarnPath=Gr.resolveGlobalNodePath=Gr.resolve=Gr.uriToFilePath=void 0;var w8=require("url"),Xn=require("path"),F0=require("fs"),N0=require("child_process");function S8(t){let e=w8.parse(t);if(e.protocol!=="file:"||!e.path)return;let r=e.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],o=r[1];s.length===0&&o.length>1&&o[1]===":"&&r.shift()}return Xn.normalize(r.join("/"))}Gr.uriToFilePath=S8;function I0(){return process.platform==="win32"}function mg(t,e,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let u=process.env,c=Object.create(null);Object.keys(u).forEach(l=>c[l]=u[l]),e&&F0.existsSync(e)&&(c[i]?c[i]=e+Xn.delimiter+c[i]:c[i]=e,n&&n(`NODE_PATH value is: ${c[i]}`)),c.ELECTRON_RUN_AS_NODE="1";try{let l=(0,N0.fork)("",[],{cwd:r,env:c,execArgv:["-e",s]});if(l.pid===void 0){a(new Error(`Starting process to resolve node module  ${t} failed`));return}l.on("error",d=>{a(d)}),l.on("message",d=>{d.c==="r"&&(l.send({c:"e"}),d.s?o(d.r):a(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};l.send(f)}catch(l){a(l)}})}Gr.resolve=mg;function k0(t){let e="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};I0()&&(e="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=(0,N0.spawnSync)(e,["config","get","prefix"],n).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let o=s.trim();return t&&t(`'npm config get prefix' value is: ${o}`),o.length>0?I0()?Xn.join(o,"node_modules"):Xn.join(o,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Gr.resolveGlobalNodePath=k0;function R8(t){let e="yarn",r={encoding:"utf8"};I0()&&(e="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=(0,N0.spawnSync)(e,["global","dir","--json"],r),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let u=JSON.parse(a);if(u.type==="log")return Xn.join(u.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}Gr.resolveGlobalYarnPath=R8;var A0;(function(t){let e;function r(){return e!==void 0||(process.platform==="win32"?e=!1:e=!F0.existsSync(__filename.toUpperCase())||!F0.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=r;function n(i,s){return r()?Xn.normalize(s).indexOf(Xn.normalize(i))===0:Xn.normalize(s).toLowerCase().indexOf(Xn.normalize(i).toLowerCase())===0}t.isParent=n})(A0||(Gr.FileSystem=A0={}));function C8(t,e,r,n){return r?(Xn.isAbsolute(r)||(r=Xn.join(t,r)),mg(e,r,r,n).then(i=>A0.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>mg(e,k0(n),t,n))):mg(e,k0(n),t,n)}Gr.resolveModulePath=C8});var zI=_(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});yg.InlineCompletionFeature=void 0;var D8=re(),E8=t=>class extends t{get inlineCompletion(){return{on:e=>this.connection.onRequest(D8.InlineCompletionRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r)))}}};yg.InlineCompletionFeature=E8});var VI=_(dr=>{"use strict";var T8=dr&&dr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BI=dr&&dr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&T8(e,t,r)};Object.defineProperty(dr,"__esModule",{value:!0});dr.ProposedFeatures=dr.NotebookDocuments=dr.TextDocuments=dr.SemanticTokensBuilder=void 0;var P8=b0();Object.defineProperty(dr,"SemanticTokensBuilder",{enumerable:!0,get:function(){return P8.SemanticTokensBuilder}});var q8=zI();BI(re(),dr);var O8=C0();Object.defineProperty(dr,"TextDocuments",{enumerable:!0,get:function(){return O8.TextDocuments}});var x8=E0();Object.defineProperty(dr,"NotebookDocuments",{enumerable:!0,get:function(){return x8.NotebookDocuments}});BI(M0(),dr);var KI;(function(t){t.all={__brand:"features",languages:q8.InlineCompletionFeature}})(KI||(dr.ProposedFeatures=KI={}))});var ZI=_(Mn=>{"use strict";var M8=Mn&&Mn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JI=Mn&&Mn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&M8(e,t,r)};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.createConnection=Mn.Files=void 0;var GI=require("node:util"),L0=Uh(),F8=M0(),Qc=UI(),xo=Zu();JI(Zu(),Mn);JI(VI(),Mn);var YI;(function(t){t.uriToFilePath=Qc.uriToFilePath,t.resolveGlobalNodePath=Qc.resolveGlobalNodePath,t.resolveGlobalYarnPath=Qc.resolveGlobalYarnPath,t.resolve=Qc.resolve,t.resolveModulePath=Qc.resolveModulePath})(YI||(Mn.Files=YI={}));var XI;function vg(){if(XI!==void 0)try{XI.end()}catch{}}var Za=!1,QI;function I8(){let t="--clientProcessId";function e(r){try{let n=parseInt(r);isNaN(n)||(QI=setInterval(()=>{try{process.kill(n,0)}catch{vg(),process.exit(Za?0:1)}},3e3))}catch{}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===t&&r+1<process.argv.length){e(process.argv[r+1]);return}else{let i=n.split("=");i[0]===t&&e(i[1])}}}I8();var k8={initialize:t=>{let e=t.processId;L0.number(e)&&QI===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Za?0:1)}},3e3)},get shutdownReceived(){return Za},set shutdownReceived(t){Za=t},exit:t=>{vg(),process.exit(t)}};function A8(t,e,r,n){let i,s,o,a;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=r,r=n),xo.ConnectionStrategy.is(t)||xo.ConnectionOptions.is(t)?a=t:(s=t,o=e,a=r),N8(s,o,a,i)}Mn.createConnection=A8;function N8(t,e,r,n){let i=!1;if(!t&&!e&&process.argv.length>2){let u,c,l=process.argv.slice(2);for(let f=0;f<l.length;f++){let d=l[f];if(d==="--node-ipc"){t=new xo.IPCMessageReader(process),e=new xo.IPCMessageWriter(process);break}else if(d==="--stdio"){i=!0,t=process.stdin,e=process.stdout;break}else if(d==="--socket"){u=parseInt(l[f+1]);break}else if(d==="--pipe"){c=l[f+1];break}else{var s=d.split("=");if(s[0]==="--socket"){u=parseInt(s[1]);break}else if(s[0]==="--pipe"){c=s[1];break}}}if(u){let f=(0,xo.createServerSocketTransport)(u);t=f[0],e=f[1]}else if(c){let f=(0,xo.createServerPipeTransport)(c);t=f[0],e=f[1]}}var o="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+o);if(!e)throw new Error("Connection output stream is not set. "+o);if(L0.func(t.read)&&L0.func(t.on)){let u=t;u.on("end",()=>{vg(),process.exit(Za?0:1)}),u.on("close",()=>{vg(),process.exit(Za?0:1)})}let a=u=>{let c=(0,xo.createProtocolConnection)(t,e,u,r);return i&&L8(u),c};return(0,F8.createConnection)(a,k8,n)}function L8(t){function e(n){return n.map(i=>typeof i=="string"?i:(0,GI.inspect)(i)).join(" ")}let r=new Map;console.assert=function(i,...s){if(!i)if(s.length===0)t.error("Assertion failed");else{let[o,...a]=s;t.error(`Assertion failed: ${o} ${e(a)}`)}},console.count=function(i="default"){let s=String(i),o=r.get(s)??0;o+=1,r.set(s,o),t.log(`${s}: ${s}`)},console.countReset=function(i){i===void 0?r.clear():r.delete(String(i))},console.debug=function(...i){t.log(e(i))},console.dir=function(i,s){t.log((0,GI.inspect)(i,s))},console.log=function(...i){t.log(e(i))},console.error=function(...i){t.error(e(i))},console.trace=function(...i){let s=new Error().stack.replace(/(.+\n){2}/,""),o="Trace";i.length!==0&&(o+=`: ${e(i)}`),t.log(`${o}
${s}`)},console.warn=function(...i){t.warn(e(i))}}});var j0=_((YZ,ek)=>{"use strict";ek.exports=ZI()});var uk=_((XZ,ak)=>{var wi=-1,Jn=1,Yr=0;function Zc(t,e,r,n){if(t===e)return t?[[Yr,t]]:[];if(r!=null){var i=U8(t,e,r);if(i)return i}var s=W0(t,e),o=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=H0(t,e);var a=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var u=j8(t,e);return o&&u.unshift([Yr,o]),a&&u.push([Yr,a]),rk(u,n),u}function j8(t,e){var r;if(!t)return[[Jn,e]];if(!e)return[[wi,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,s=n.indexOf(i);if(s!==-1)return r=[[Jn,n.substring(0,s)],[Yr,i],[Jn,n.substring(s+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=wi),r;if(i.length===1)return[[wi,t],[Jn,e]];var o=W8(t,e);if(o){var a=o[0],u=o[1],c=o[2],l=o[3],f=o[4],d=Zc(a,c),g=Zc(u,l);return d.concat([[Yr,f]],g)}return $8(t,e)}function $8(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),s=i,o=2*i,a=new Array(o),u=new Array(o),c=0;c<o;c++)a[c]=-1,u[c]=-1;a[s+1]=0,u[s+1]=0;for(var l=r-n,f=l%2!==0,d=0,g=0,p=0,b=0,C=0;C<i;C++){for(var D=-C+d;D<=C-g;D+=2){var w=s+D,S;D===-C||D!==C&&a[w-1]<a[w+1]?S=a[w+1]:S=a[w-1]+1;for(var O=S-D;S<r&&O<n&&t.charAt(S)===e.charAt(O);)S++,O++;if(a[w]=S,S>r)g+=2;else if(O>n)d+=2;else if(f){var A=s+l-D;if(A>=0&&A<o&&u[A]!==-1){var z=r-u[A];if(S>=z)return tk(t,e,S,O)}}}for(var U=-C+p;U<=C-b;U+=2){var A=s+U,z;U===-C||U!==C&&u[A-1]<u[A+1]?z=u[A+1]:z=u[A-1]+1;for(var K=z-U;z<r&&K<n&&t.charAt(r-z-1)===e.charAt(n-K-1);)z++,K++;if(u[A]=z,z>r)b+=2;else if(K>n)p+=2;else if(!f){var w=s+l-U;if(w>=0&&w<o&&a[w]!==-1){var S=a[w],O=s+S-w;if(z=r-z,S>=z)return tk(t,e,S,O)}}}}return[[wi,t],[Jn,e]]}function tk(t,e,r,n){var i=t.substring(0,r),s=e.substring(0,n),o=t.substring(r),a=e.substring(n),u=Zc(i,s),c=Zc(o,a);return u.concat(c)}function W0(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(s,i)==e.substring(s,i)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return nk(t.charCodeAt(i-1))&&i--,i}function H0(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return ik(t.charCodeAt(t.length-i))&&i--,i}function W8(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(g,p,b){for(var C=g.substring(b,b+Math.floor(g.length/4)),D=-1,w="",S,O,A,z;(D=p.indexOf(C,D+1))!==-1;){var U=W0(g.substring(b),p.substring(D)),K=H0(g.substring(0,b),p.substring(0,D));w.length<K+U&&(w=p.substring(D-K,D)+p.substring(D,D+U),S=g.substring(0,b-K),O=g.substring(b+U),A=p.substring(0,D-K),z=p.substring(D+U))}return w.length*2>=g.length?[S,O,A,z,w]:null}var s=i(r,n,Math.ceil(r.length/4)),o=i(r,n,Math.ceil(r.length/2)),a;if(!s&&!o)return null;o?s?a=s[4].length>o[4].length?s:o:a=o:a=s;var u,c,l,f;t.length>e.length?(u=a[0],c=a[1],l=a[2],f=a[3]):(l=a[0],f=a[1],u=a[2],c=a[3]);var d=a[4];return[u,c,l,f,d]}function rk(t,e){t.push([Yr,""]);for(var r=0,n=0,i=0,s="",o="",a;r<t.length;){if(r<t.length-1&&!t[r][1]){t.splice(r,1);continue}switch(t[r][0]){case Jn:i++,o+=t[r][1],r++;break;case wi:n++,s+=t[r][1],r++;break;case Yr:var u=r-i-n-1;if(e){if(u>=0&&ok(t[u][1])){var c=t[u][1].slice(-1);if(t[u][1]=t[u][1].slice(0,-1),s=c+s,o=c+o,!t[u][1]){t.splice(u,1),r--;var l=u-1;t[l]&&t[l][0]===Jn&&(i++,o=t[l][1]+o,l--),t[l]&&t[l][0]===wi&&(n++,s=t[l][1]+s,l--),u=l}}if(sk(t[r][1])){var c=t[r][1].charAt(0);t[r][1]=t[r][1].slice(1),s+=c,o+=c}}if(r<t.length-1&&!t[r][1]){t.splice(r,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(a=W0(o,s),a!==0&&(u>=0?t[u][1]+=o.substring(0,a):(t.splice(0,0,[Yr,o.substring(0,a)]),r++),o=o.substring(a),s=s.substring(a)),a=H0(o,s),a!==0&&(t[r][1]=o.substring(o.length-a)+t[r][1],o=o.substring(0,o.length-a),s=s.substring(0,s.length-a)));var f=i+n;s.length===0&&o.length===0?(t.splice(r-f,f),r=r-f):s.length===0?(t.splice(r-f,f,[Jn,o]),r=r-f+1):o.length===0?(t.splice(r-f,f,[wi,s]),r=r-f+1):(t.splice(r-f,f,[wi,s],[Jn,o]),r=r-f+2)}r!==0&&t[r-1][0]===Yr?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,i=0,n=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var d=!1;for(r=1;r<t.length-1;)t[r-1][0]===Yr&&t[r+1][0]===Yr&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),d=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),d=!0)),r++;d&&rk(t,e)}function nk(t){return t>=55296&&t<=56319}function ik(t){return t>=56320&&t<=57343}function sk(t){return ik(t.charCodeAt(0))}function ok(t){return nk(t.charCodeAt(t.length-1))}function H8(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}function $0(t,e,r,n){return ok(t)||sk(n)?null:H8([[Yr,t],[wi,e],[Jn,r],[Yr,n]])}function U8(t,e,r){var n=typeof r=="number"?{index:r,length:0}:r.oldRange,i=typeof r=="number"?null:r.newRange,s=t.length,o=e.length;if(n.length===0&&(i===null||i.length===0)){var a=n.index,u=t.slice(0,a),c=t.slice(a),l=i?i.index:null;e:{var f=a+o-s;if(l!==null&&l!==f||f<0||f>o)break e;var d=e.slice(0,f),g=e.slice(f);if(g!==c)break e;var p=Math.min(a,f),b=u.slice(0,p),C=d.slice(0,p);if(b!==C)break e;var D=u.slice(p),w=d.slice(p);return $0(b,D,w,c)}e:{if(l!==null&&l!==a)break e;var S=a,d=e.slice(0,S),g=e.slice(S);if(d!==u)break e;var O=Math.min(s-S,o-S),A=c.slice(c.length-O),z=g.slice(g.length-O);if(A!==z)break e;var D=c.slice(0,c.length-O),w=g.slice(0,g.length-O);return $0(u,D,w,A)}}if(n.length>0&&i&&i.length===0)e:{var b=t.slice(0,n.index),A=t.slice(n.index+n.length),p=b.length,O=A.length;if(o<p+O)break e;var C=e.slice(0,p),z=e.slice(o-O);if(b!==C||A!==z)break e;var D=t.slice(p,s-O),w=e.slice(p,o-O);return $0(b,D,w,A)}return null}function _g(t,e,r){return Zc(t,e,r,!0)}_g.INSERT=Jn;_g.DELETE=wi;_g.EQUAL=Yr;ak.exports=_g});var z0=_(eu=>{"use strict";var z8=eu&&eu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eu,"__esModule",{value:!0});eu.createTextEdits=void 0;var bg=z8(uk()),U0=ai();function K8(t,e){let r=(0,bg.default)(t.getText(),e),n=[],i=0;for(let[s,o]of r){let a=i;switch(s){case bg.default.EQUAL:i+=o.length;break;case bg.default.DELETE:i+=o.length,n.push(U0.TextEdit.del(U0.Range.create(t.positionAt(a),t.positionAt(i))));break;case bg.default.INSERT:n.push(U0.TextEdit.insert(t.positionAt(a),o));break}}return n}eu.createTextEdits=K8});var lk=_(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});wg.getDisableType=void 0;var ck=ai();function B8(t,e){let r=t.offsetAt(ck.Position.create(e.line,0)),n=t.offsetAt(ck.Position.create(e.line+1,0)),i=t.getText().slice(r,n),s=i.slice(0,e.character),o=i.slice(e.character),a=s.match(/\/\*\s*(stylelint-disable(?:(?:-next)?-line)?)\s[a-z\-/\s,]*$/i)?.[1]?.toLowerCase();return a&&/^[a-z\-/\s,]*\*\//i.test(o)?a:void 0}wg.getDisableType=B8});var dk=_(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.getFixes=void 0;var V8=z0();async function G8(t,e,r={},n={}){let i=await t.lintDocument(e,{...r,fix:!0},n);return typeof i.output=="string"?(0,V8.createTextEdits)(e,i.output):[]}Sg.getFixes=G8});var fk=_(tu=>{"use strict";var Y8=tu&&tu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tu,"__esModule",{value:!0});tu.getWorkspaceFolder=void 0;var X8=Y8(Wh()),K0=Ga();async function J8(t,e){let{scheme:r,fsPath:n}=K0.URI.parse(e.uri);if(r==="untitled"){let i=(await t.workspace.getWorkspaceFolders())?.[0]?.uri;return i?K0.URI.parse(i).fsPath:void 0}if(n){let i=await t.workspace.getWorkspaceFolders();if(i)for(let{uri:s}of i){let o=K0.URI.parse(s).fsPath;if((0,X8.default)(n,o))return o}}}tu.getWorkspaceFolder=J8});var ru=_(Si=>{"use strict";var Q8=Si&&Si.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rg=Si&&Si.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Q8(e,t,r)};Object.defineProperty(Si,"__esModule",{value:!0});Rg(z0(),Si);Rg(lk(),Si);Rg(dk(),Si);Rg(fk(),Si)});var hk=_(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.getFirstResolvedValue=nu.getFirstReturnValue=void 0;function Z8(...t){for(let e of t){let r=e();if(r!==void 0)return r}}nu.getFirstReturnValue=Z8;async function eV(...t){for(let e of t){let r=await e();if(r!==void 0)return r}}nu.getFirstResolvedValue=eV});var gk=_(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.lazyCallAsync=iu.lazyCall=void 0;function tV(t){let e=!1,r;return()=>(e||(r=t(),e=!0),r)}iu.lazyCall=tV;function rV(t){let e=!1,r;return async()=>(e||(r=await t(),e=!0),r)}iu.lazyCallAsync=rV});var mk=_(Ns=>{"use strict";var nV=Ns&&Ns.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pk=Ns&&Ns.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nV(e,t,r)};Object.defineProperty(Ns,"__esModule",{value:!0});pk(hk(),Ns);pk(gk(),Ns)});var Ck=_(Ri=>{"use strict";var B0=Ri&&Ri.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Je=Ri&&Ri.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Y0=Ri&&Ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Qn,Bi,tr,Eg,Cg,yk,vk,_k,bk,Sk,Rk;Object.defineProperty(Ri,"__esModule",{value:!0});Ri.StylelintResolver=void 0;var iV=Y0(require("fs/promises")),sV=require("module"),Dg=Y0(require("path")),oV=Y0(require("process")),aV=j0(),uV=Ga(),cV=ru(),wk=c0(),lV=g0(),V0=mk(),G0=class{constructor(e,r){Qn.add(this),Bi.set(this,void 0),tr.set(this,void 0),Eg.set(this,void 0),B0(this,Bi,e,"f"),B0(this,tr,r,"f"),B0(this,Eg,new lV.GlobalPathResolver(r),"f")}async resolve({packageManager:e,stylelintPath:r},n){let i=(0,V0.lazyCallAsync)(async()=>Je(this,Bi,"f")&&await(0,cV.getWorkspaceFolder)(Je(this,Bi,"f"),n)),s=await(0,V0.getFirstResolvedValue)(()=>Je(this,Qn,"m",Sk).call(this,r,i),()=>Je(this,Qn,"m",Rk).call(this,n,i,e));if(!s){Je(this,tr,"f")?.warn("Failed to load Stylelint either globally or from the current workspace.");return}return s}};Ri.StylelintResolver=G0;Bi=new WeakMap,tr=new WeakMap,Eg=new WeakMap,Qn=new WeakSet,Cg=function(e,r){Je(this,tr,"f")&&Je(this,tr,"f")?.error(e,r&&{error:r}),Je(this,Bi,"f")&&Je(this,Bi,"f").window.showErrorMessage(`Stylelint: ${e}`)},yk=async function(e){let r=[".pnp.cjs",".pnp.js"];for(let n of r){let i=Dg.default.join(e,n);try{if((await iV.default.stat(i)).isFile())return i}catch(s){Je(this,tr,"f")?.debug("Did not find PnP loader at tested path",{path:i,error:s})}}Je(this,tr,"f")?.debug("Could not find a PnP loader",{path:e})},vk=async function(e){if(!e)return;let r=await(0,wk.findPackageRoot)(e,"yarn.lock");if(!r){Je(this,tr,"f")?.debug("Could not find a Yarn lockfile",{cwd:e});return}let n=await Je(this,Qn,"m",yk).call(this,r);if(n){if(!oV.default.versions.pnp)try{require(n).setup()}catch(i){Je(this,tr,"f")?.warn("Could not setup PnP",{path:n,error:i});return}try{let i=(0,sV.createRequire)(n),s=i.resolve("stylelint"),o=await(0,wk.findPackageRoot)(s);if(!o){Je(this,tr,"f")?.warn("Failed to find the Stylelint package root",{path:s});return}let u={stylelint:i("stylelint"),resolvedPath:o};return Je(this,tr,"f")?.debug("Resolved Stylelint using PnP",{path:n}),u}catch(i){Je(this,tr,"f")?.warn("Could not load Stylelint using PnP",{path:r,error:i});return}}},_k=async function(e,r,n){try{let i=await aV.Files.resolve("stylelint",r,e,n),s={stylelint:require(i),resolvedPath:i};return Je(this,tr,"f")?.debug("Resolved Stylelint from node_modules",{path:i}),s}catch(i){Je(this,tr,"f")?.warn("Could not load Stylelint from node_modules",{error:i});return}},bk=async function(e,r){if(!Je(this,Bi,"f")||Dg.default.isAbsolute(e))return e;let n=await r();return n?Dg.default.join(n,e):e},Sk=async function(e,r){if(!e)return;let n=`Failed to load Stylelint from "stylelintPath": ${e}.`;try{let i=await Je(this,Qn,"m",bk).call(this,e,r),s=require(i);if(s&&typeof s.lint=="function")return{stylelint:s,resolvedPath:i}}catch(i){throw Je(this,Qn,"m",Cg).call(this,n,i),i}Je(this,Qn,"m",Cg).call(this,n)},Rk=async function(e,r,n){let i=Je(this,Bi,"f");try{let s=n?await Je(this,Eg,"f").resolve(n):void 0,o=uV.URI.parse(e.uri),a=o.scheme==="file"?Dg.default.dirname(o.fsPath):await r(),u=await(0,V0.getFirstResolvedValue)(async()=>await Je(this,Qn,"m",vk).call(this,a),async()=>await Je(this,Qn,"m",_k).call(this,a,s,(c,l)=>{Je(this,tr,"f")?.debug(c.replace(/\n/g,"  "),{verbose:l}),i?.tracer.log(c,l)}));if(!u)return;if(typeof u.stylelint?.lint!="function"){Je(this,Qn,"m",Cg).call(this,"stylelint.lint is not a function.");return}return u}catch(s){Je(this,tr,"f")?.debug("Failed to resolve Stylelint from workspace or globally-installed packages.",{error:s})}}});var Ek=_(Dk=>{"use strict";Object.defineProperty(Dk,"__esModule",{value:!0})});var el=_(Ci=>{"use strict";var dV=Ci&&Ci.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tg=Ci&&Ci.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dV(e,t,r)};Object.defineProperty(Ci,"__esModule",{value:!0});Tg(c0(),Ci);Tg(g0(),Ci);Tg(Ck(),Ci);Tg(Ek(),Ci)});var X0=_(su=>{"use strict";var Tk=su&&su.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(su,"__esModule",{value:!0});su.buildStylelintOptions=void 0;var tl=Tk(require("path")),fV=Tk(Wh()),hV=Ga(),gV=el();async function pV(t,e,r={},{config:n,configFile:i,configBasedir:s,customSyntax:o,ignoreDisables:a,reportDescriptionlessDisables:u,reportNeedlessDisables:c,reportInvalidScopeDisables:l}={}){let f={...r,config:n??r.config,configFile:i?e?i.replace(/\$\{workspaceFolder\}/gu,e):i:r.configFile,configBasedir:s?tl.default.isAbsolute(s)?s:tl.default.join(e??"",s):r.configBasedir,customSyntax:o?e?o.replace(/\$\{workspaceFolder\}/gu,e):o:r.customSyntax,ignoreDisables:a??r.ignoreDisables,reportDescriptionlessDisables:u??r.reportDescriptionlessDisables,reportNeedlessDisables:c??r.reportNeedlessDisables,reportInvalidScopeDisables:l??r.reportInvalidScopeDisables},d=hV.URI.parse(t).fsPath;return d&&(e&&(0,fV.default)(d,e)&&(f.ignorePath=tl.default.join(e,".stylelintignore")),f.ignorePath===void 0&&(f.ignorePath=tl.default.join(await(0,gV.findPackageRoot)(d)||tl.default.parse(d).root,".stylelintignore"))),f}su.buildStylelintOptions=pV});var Pk=_(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.intersect=void 0;function mV(t,e){if(!t)return e;if(!e)return t;let[r,n]=t.size<e.size?[t,e]:[e,t],i=new Set;for(let s of r)n.has(s)&&i.add(s);return i}Pg.intersect=mV});var rl=_(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.InvalidOptionError=Mo.DisableReportRuleNames=void 0;var yV;(function(t){t.Needless="--report-needless-disables",t.InvalidScope="--report-invalid-scope-disables",t.Descriptionless="--report-descriptionless-disables",t.Illegal="reportDisables"})(yV=Mo.DisableReportRuleNames||(Mo.DisableReportRuleNames={}));var J0=class extends Error{constructor(e){let r=e.map(n=>n.text);super(r.join(`
`)),this.reasons=r}};Mo.InvalidOptionError=J0});var Q0=_(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.getDisableDiagnosticRule=void 0;var qg=rl();function vV(t){switch(t.code){case qg.DisableReportRuleNames.Needless:return t.message.match(/^Needless disable for "(.+)"$/)?.[1];case qg.DisableReportRuleNames.InvalidScope:return t.message.match(/^Rule "(.+)" isn't enabled$/)?.[1];case qg.DisableReportRuleNames.Descriptionless:return t.message.match(/^Disable for "(.+)" is missing a description$/)?.[1];case qg.DisableReportRuleNames.Illegal:return t.message.match(/^Rule "(.+)" may not be disabled$/)?.[1];default:return}}Og.getDisableDiagnosticRule=vV});var Ok=_(ou=>{"use strict";var Zn=ou&&ou.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},xg,nl,il,sl,Z0;Object.defineProperty(ou,"__esModule",{value:!0});ou.DisableMetadataLookupTable=void 0;var qk=Pk(),_V=Q0(),eS=class{constructor(e){xg.add(this),nl.set(this,new Map),il.set(this,new Map),sl.set(this,new Map);for(let r of e){let n=(0,_V.getDisableDiagnosticRule)(r);if(!n)continue;let i=r.code,s=Zn(this,nl,"f").get(i);s?s.add(r):Zn(this,nl,"f").set(i,new Set([r]));let o=Zn(this,il,"f").get(n);o?o.add(r):Zn(this,il,"f").set(n,new Set([r]));let a=Zn(this,xg,"m",Z0).call(this,r.range),u=Zn(this,sl,"f").get(a);u?u.add(r):Zn(this,sl,"f").set(a,new Set([r]))}}find({type:e,rule:r,range:n}){let i=e?Zn(this,nl,"f").get(e):void 0,s=r?Zn(this,il,"f").get(r):void 0,o=n?Zn(this,sl,"f").get(Zn(this,xg,"m",Z0).call(this,n)):void 0;return(0,qk.intersect)((0,qk.intersect)(i,s),o)??new Set}};ou.DisableMetadataLookupTable=eS;nl=new WeakMap,il=new WeakMap,sl=new WeakMap,xg=new WeakSet,Z0=function({start:e,end:r}){return`${e.line}:${e.character}:${r.line}:${r.character}`}});var xk=_(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.formattingOptionsToRules=void 0;function bV({insertSpaces:t,tabSize:e,insertFinalNewline:r,trimTrailingWhitespace:n}){let i={indentation:[t?e:"tab"]};return r!==void 0&&(i["no-missing-end-of-source-newline"]=r||null),n!==void 0&&(i["no-eol-whitespace"]=n||null),i}Mg.formattingOptionsToRules=bV});var Mk=_(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.isDisableReportRule=void 0;var Fg=rl();function wV(t){switch(t){case Fg.DisableReportRuleNames.Descriptionless:case Fg.DisableReportRuleNames.Illegal:case Fg.DisableReportRuleNames.InvalidScope:case Fg.DisableReportRuleNames.Needless:return!0;default:return!1}}Ig.isDisableReportRule=wV});var tS=_(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.warningToDiagnostic=void 0;var au=ai();function SV(t,e){let r=au.Position.create(t.line-1,t.column-1),n=typeof t.endLine=="number"&&typeof t.endColumn=="number"?au.Position.create(t.endLine-1,t.endColumn-1):au.Position.create(t.line-1,t.column),i=e?.[t.rule]?.url,s=au.Diagnostic.create(au.Range.create(r,n),t.text,au.DiagnosticSeverity[t.severity==="warning"?"Warning":"Error"],t.rule,"Stylelint");return i&&(s.codeDescription={href:i}),s}kg.warningToDiagnostic=SV});var rS=_(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.processLinterResult=void 0;var RV=tS(),CV=rl();function DV(t,{results:e,output:r,ruleMetadata:n}){if(e.length===0)return{diagnostics:[]};let[{invalidOptionWarnings:i,warnings:s,ignored:o}]=e;if(o)return{diagnostics:[]};if(i.length!==0)throw new CV.InvalidOptionError(i);n||(n=new Proxy({},{get:(u,c)=>t.rules?.[c]?.meta}));let a=s.map(u=>(0,RV.warningToDiagnostic)(u,n));return r?{output:r,diagnostics:a}:{diagnostics:a}}Ag.processLinterResult=DV});var Ik=_(Di=>{"use strict";var nS=Di&&Di.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},uu=Di&&Di.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},EV=Di&&Di.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ol,cu,Ng;Object.defineProperty(Di,"__esModule",{value:!0});Di.StylelintRunner=void 0;var TV=EV(require("os")),PV=Ga(),qV=el(),OV=ru(),Fk=rS(),xV=X0(),iS=class{constructor(e,r,n){ol.set(this,void 0),cu.set(this,void 0),Ng.set(this,void 0),nS(this,ol,e,"f"),nS(this,cu,r,"f"),nS(this,Ng,n??new qV.StylelintResolver(e,r),"f")}async lintDocument(e,r={},n={}){let i=uu(this,ol,"f")&&await(0,OV.getWorkspaceFolder)(uu(this,ol,"f"),e),s=await uu(this,Ng,"f").resolve(n,e);if(!s)return uu(this,cu,"f")?.info("No Stylelint found with which to lint document",{uri:e.uri,options:n}),{diagnostics:[]};let{stylelint:o}=s,{fsPath:a}=PV.URI.parse(e.uri),u=TV.default.platform()==="win32"?a.replace(/^[a-z]:/,l=>l.toUpperCase()):a,c={...await(0,xV.buildStylelintOptions)(e.uri,i,r,n),code:e.getText(),formatter:()=>""};u?c.codeFilename=u:r?.config?.rules||(c.config={rules:{}}),uu(this,cu,"f")?.isDebugEnabled()&&uu(this,cu,"f")?.debug("Running Stylelint",{options:{...c,code:"..."}});try{return(0,Fk.processLinterResult)(o,await o.lint(c))}catch(l){if(l instanceof Error&&(l.message.startsWith("No configuration provided for")||l.message.includes("No rules found within configuration")))return(0,Fk.processLinterResult)(o,await o.lint({...c,config:{rules:{}}}));throw l}}};Di.StylelintRunner=iS;ol=new WeakMap,cu=new WeakMap,Ng=new WeakMap});var al=_(Sr=>{"use strict";var MV=Sr&&Sr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vi=Sr&&Sr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&MV(e,t,r)};Object.defineProperty(Sr,"__esModule",{value:!0});Vi(X0(),Sr);Vi(Ok(),Sr);Vi(xk(),Sr);Vi(Q0(),Sr);Vi(Mk(),Sr);Vi(rS(),Sr);Vi(Ik(),Sr);Vi(rl(),Sr);Vi(tS(),Sr)});var Wk=_(Xr=>{"use strict";var FV=Xr&&Xr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IV=Xr&&Xr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kV=Xr&&Xr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FV(e,t,r);return IV(e,t),e},kk=Xr&&Xr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Ae=Xr&&Xr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Fo,hn,$t,lu,jk,Ak,Nk,Lk,$k;Object.defineProperty(Xr,"__esModule",{value:!0});Xr.CodeActionModule=void 0;var Rr=kV(re()),Ls=Ka(),sS=$h(),AV=al(),Lg=class{constructor({context:e,logger:r}){Fo.add(this),hn.set(this,void 0),$t.set(this,void 0),lu.set(this,[]),kk(this,hn,e,"f"),kk(this,$t,r,"f")}dispose(){Ae(this,lu,"f").forEach(e=>e.dispose()),Ae(this,lu,"f").length=0,Ae(this,hn,"f").connection.onCodeAction(()=>{})}onInitialize(){return{capabilities:{codeActionProvider:{codeActionKinds:[Rr.CodeActionKind.QuickFix,Ls.CodeActionKind.StylelintSourceFixAll]},executeCommandProvider:{commands:[Ls.CommandId.OpenRuleDoc]}}}}onDidRegisterHandlers(){Ae(this,$t,"f")?.debug("Registering onCodeAction handler"),Ae(this,hn,"f").connection.onCodeAction(async({context:e,textDocument:{uri:r}})=>{Ae(this,$t,"f")?.debug("Received onCodeAction",{context:e,uri:r});let n=Ae(this,hn,"f").documents.get(r);if(!n)return Ae(this,$t,"f")?.debug("Unknown document, ignoring",{uri:r}),[];if(!await Ae(this,Fo,"m",jk).call(this,n))return Ae(this,$t,"f")?.debug("Document should not be validated, ignoring",{uri:r,language:n.languageId}),[];let i=await Ae(this,Fo,"m",$k).call(this,n,e);return Ae(this,$t,"f")?.debug("Returning code actions",{actions:i}),i}),Ae(this,$t,"f")?.debug("onCodeAction handler registered"),Ae(this,lu,"f").push(Ae(this,hn,"f").commands.on(Ls.CommandId.OpenRuleDoc,async({arguments:e})=>{let r=e?.[0];if(!r)return Ae(this,$t,"f")?.debug("No URL provided, ignoring command request"),{};let{uri:n}=r;return Ae(this,$t,"f")?.debug("Opening rule documentation",{uri:n}),(await Ae(this,hn,"f").connection.window.showDocument({uri:n,external:!0})).success?{}:(Ae(this,$t,"f")?.warn("Failed to open rule documentation",{uri:n}),new Rr.ResponseError(Rr.ErrorCodes.InternalError,"Failed to open rule documentation"))})),Ae(this,lu,"f").push(Ae(this,hn,"f").notifications.on(Rr.InitializedNotification.type,()=>Ae(this,hn,"f").connection.sendNotification(Ls.Notification.DidRegisterCodeActionRequestHandler)))}};Xr.CodeActionModule=Lg;hn=new WeakMap,$t=new WeakMap,lu=new WeakMap,Fo=new WeakSet,jk=async function(e){return(await Ae(this,hn,"f").getOptions(e.uri)).validate.includes(e.languageId)},Ak=async function(e){let r=await Ae(this,hn,"f").getFixes(e),n={uri:e.uri,version:e.version};return r.length>0?Rr.CodeAction.create("Fix all Stylelint auto-fixable problems",{documentChanges:[Rr.TextDocumentEdit.create(n,r)]},Ls.CodeActionKind.StylelintSourceFixAll):void 0},Nk=function(e){let r=Rr.Command.create("Fix all Stylelint auto-fixable problems",Ls.CommandId.ApplyAutoFix,{uri:e.uri,version:e.version});return Rr.CodeAction.create("Fix all Stylelint auto-fixable problems",r,Rr.CodeActionKind.Source)},Lk=function({code:e,codeDescription:r}){let n=r?.href;if(!n)return;let i=Rr.Command.create(`Open documentation for ${e}`,Ls.CommandId.OpenRuleDoc,{uri:n});return Rr.CodeAction.create(`Show documentation for ${e}`,i,Rr.CodeActionKind.QuickFix)},$k=async function(e,r){let n=r.only&&new Set(r.only);if(Ae(this,$t,"f")?.debug("Creating code actions",{only:r.only}),n?.has(Rr.CodeActionKind.SourceFixAll)||n?.has(Ls.CodeActionKind.StylelintSourceFixAll)){Ae(this,$t,"f")?.debug('Creating "source-fix-all" code action');let s=await Ae(this,Fo,"m",Ak).call(this,e);return s?[s]:[]}if(n?.has(Rr.CodeActionKind.Source))return Ae(this,$t,"f")?.debug('Creating "source" code action'),[Ae(this,Fo,"m",Nk).call(this,e)];if(n&&!n.has(Rr.CodeActionKind.QuickFix))return Ae(this,$t,"f")?.debug("No quick fix actions requested, skipping action creation"),[];let i=new sS.RuleCodeActionsCollection;for(let s of r.diagnostics){let{source:o,code:a}=s;if(!(o!=="Stylelint"||typeof a!="string")){if(!(0,AV.isDisableReportRule)(a)){let u=await Ae(this,hn,"f").getOptions(e.uri),{location:c}=u.codeAction.disableRuleComment;Ae(this,$t,"f")?.debug("Creating disable rule for line code action",{rule:a,location:c}),i.get(a).disableLine=(0,sS.createDisableRuleLineCodeAction)(e,s,c),i.get(a).disableFile||(Ae(this,$t,"f")?.debug("Creating disable rule for file code action",{rule:a}),i.get(a).disableFile=(0,sS.createDisableRuleFileCodeAction)(e,s))}i.get(a).documentation||(Ae(this,$t,"f")?.debug("Creating documentation code action",{rule:a}),i.get(a).documentation=Ae(this,Fo,"m",Lk).call(this,s))}}return[...i]};Lg.id="code-action"});var Vk=_($s=>{"use strict";var Hk=$s&&$s.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Cr=$s&&$s.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},jg,js,ei,Uk,Bk;Object.defineProperty($s,"__esModule",{value:!0});$s.CompletionModule=void 0;var zk=ai(),NV=ru(),du=$h(),Kk=al(),$g=class{constructor({context:e,logger:r}){jg.add(this),js.set(this,void 0),ei.set(this,void 0),Hk(this,js,e,"f"),Hk(this,ei,r,"f")}dispose(){Cr(this,js,"f").connection.onCompletion(()=>{})}onInitialize(){return{capabilities:{completionProvider:{}}}}onDidRegisterHandlers(){Cr(this,ei,"f")?.debug("Registering onCompletion handler"),Cr(this,js,"f").connection.onCompletion(Cr(this,jg,"m",Bk).bind(this)),Cr(this,ei,"f")?.debug("onCompletion handler registered")}};$s.CompletionModule=$g;js=new WeakMap,ei=new WeakMap,jg=new WeakSet,Uk=async function(e){let r=await Cr(this,js,"f").getOptions(e.uri);return r.validate.includes(e.languageId)&&r.snippet.includes(e.languageId)},Bk=async function({textDocument:e,position:r}){let{uri:n}=e;Cr(this,ei,"f")?.debug("Received onCompletion",{uri:n,position:r});let i=Cr(this,js,"f").documents.get(n);if(!i||!await Cr(this,jg,"m",Uk).call(this,i))return Cr(this,ei,"f")?.isDebugEnabled()&&(i?Cr(this,ei,"f").debug("Snippets or validation not enabled for language, ignoring",{uri:n,language:i.languageId}):Cr(this,ei,"f").debug("Unknown document, ignoring",{uri:n})),[];let o=Cr(this,js,"f").getModule("validator")?.getDiagnostics(n);if(!o||o.length===0){let d=[(0,du.createDisableCompletionItem)("stylelint-disable-line"),(0,du.createDisableCompletionItem)("stylelint-disable-next-line"),(0,du.createDisableCompletionItem)("stylelint-disable")];return Cr(this,ei,"f")?.debug("No diagnostics for document, returning generic completion items",{uri:n,items:d}),d}let a=new Set,u=new Set,c=new Kk.DisableMetadataLookupTable(o);for(let{code:d,range:g}of o)!d||typeof d!="string"||d==="CssSyntaxError"||c.find({type:Kk.DisableReportRuleNames.Needless,rule:d,range:g}).size>0||(g.start.line===r.line?a.add(d):g.start.line===r.line+1&&u.add(d));let l=[],f=(0,NV.getDisableType)(i,r);if(f==="stylelint-disable-line")for(let d of a)l.push({label:d,kind:zk.CompletionItemKind.Snippet,detail:`disable ${d} rule. (Stylelint)`});else if(f==="stylelint-disable"||f==="stylelint-disable-next-line")for(let d of u)l.push({label:d,kind:zk.CompletionItemKind.Snippet,detail:`disable ${d} rule. (Stylelint)`});else l.push((0,du.createDisableCompletionItem)("stylelint-disable-line",a.size===1?a.values().next().value:void 0)),l.push((0,du.createDisableCompletionItem)("stylelint-disable-next-line",u.size===1?u.values().next().value:void 0)),l.push((0,du.createDisableCompletionItem)("stylelint-disable"));return Cr(this,ei,"f")?.debug("Returning completion items",{uri:n,results:l}),l};$g.id="completion"});var Yk=_(Jr=>{"use strict";var LV=Jr&&Jr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jV=Jr&&Jr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$V=Jr&&Jr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LV(e,t,r);return jV(e,t),e},oS=Jr&&Jr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ae=Jr&&Jr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ti,fr,Ze,ul,Ws,Ei,aS,Wg,Gk,Hg;Object.defineProperty(Jr,"__esModule",{value:!0});Jr.FormatterModule=void 0;var uS=$V(re()),WV=al(),HV=Ka(),UV=Ga(),Ug=class{constructor({context:e,logger:r}){ti.add(this),fr.set(this,void 0),Ze.set(this,void 0),ul.set(this,!1),Ws.set(this,new Map),Ei.set(this,[]),oS(this,fr,e,"f"),oS(this,Ze,r,"f")}dispose(){ae(this,fr,"f").connection.onDocumentFormatting(()=>{}),ae(this,Ei,"f").forEach(e=>e.dispose()),ae(this,Ei,"f").length=0,ae(this,ti,"m",Hg).call(this)}onInitialize({capabilities:e}){return oS(this,ul,!!e.textDocument?.formatting?.dynamicRegistration,"f"),{capabilities:{documentFormattingProvider:!ae(this,ul,"f")}}}onDidRegisterHandlers(){ae(this,Ze,"f")?.debug("Registering connection.onDocumentFormatting handler"),ae(this,fr,"f").connection.onDocumentFormatting(async({textDocument:e,options:r})=>{if(ae(this,Ze,"f")?.debug("Received onDocumentFormatting",{textDocument:e,options:r}),!e)return ae(this,Ze,"f")?.debug("No text document provided, ignoring"),null;let{uri:n}=e,i=ae(this,fr,"f").documents.get(n);if(!i||!await ae(this,ti,"m",aS).call(this,i))return ae(this,Ze,"f")?.isDebugEnabled()&&(i?ae(this,Ze,"f").debug("Document should not be formatted, ignoring",{uri:n,language:i.languageId}):ae(this,Ze,"f").debug("Unknown document, ignoring",{uri:n})),null;let s={config:{rules:(0,WV.formattingOptionsToRules)(r)}};ae(this,Ze,"f")?.debug("Formatting document",{uri:n,linterOptions:s});let o=ae(this,fr,"f").getFixes(i,s);return ae(this,Ze,"f")?.debug("Returning fixes",{uri:n,fixes:o}),o}),ae(this,Ze,"f")?.debug("connection.onDocumentFormatting handler registered"),ae(this,Ze,"f")?.debug("Registering documents.onDidOpen handler"),ae(this,Ei,"f").push(ae(this,fr,"f").documents.onDidOpen(({document:e})=>ae(this,ti,"m",Wg).call(this,e))),ae(this,Ze,"f")?.debug("documents.onDidOpen handler registered"),ae(this,Ze,"f")?.debug("Registering documents.onDidChangeContent handler"),ae(this,Ei,"f").push(ae(this,fr,"f").documents.onDidChangeContent(({document:e})=>ae(this,ti,"m",Wg).call(this,e))),ae(this,Ze,"f")?.debug("documents.onDidChangeContent handler registered"),ae(this,Ze,"f")?.debug("Registering documents.onDidSave handler"),ae(this,Ei,"f").push(ae(this,fr,"f").documents.onDidSave(({document:e})=>ae(this,ti,"m",Wg).call(this,e))),ae(this,Ze,"f")?.debug("documents.onDidSave handler registered"),ae(this,Ze,"f")?.debug("Registering documents.onDidClose handler"),ae(this,Ei,"f").push(ae(this,fr,"f").documents.onDidClose(({document:e})=>ae(this,ti,"m",Gk).call(this,e.uri))),ae(this,Ze,"f")?.debug("documents.onDidClose handler registered"),ae(this,Ze,"f")?.debug("Registering DidChangeConfigurationNotification"),ae(this,Ei,"f").push(ae(this,fr,"f").notifications.on(uS.DidChangeConfigurationNotification.type,()=>ae(this,ti,"m",Hg).call(this))),ae(this,Ze,"f")?.debug("DidChangeConfigurationNotification registered"),ae(this,Ze,"f")?.debug("Registering DidChangeWorkspaceFoldersNotification"),ae(this,Ei,"f").push(ae(this,fr,"f").notifications.on(uS.DidChangeWorkspaceFoldersNotification.type,()=>ae(this,ti,"m",Hg).call(this))),ae(this,Ze,"f")?.debug("DidChangeWorkspaceFoldersNotification registered")}};Jr.FormatterModule=Ug;fr=new WeakMap,Ze=new WeakMap,ul=new WeakMap,Ws=new WeakMap,Ei=new WeakMap,ti=new WeakSet,aS=async function(e){return(await ae(this,fr,"f").getOptions(e.uri)).validate.includes(e.languageId)},Wg=async function(e){if(!ae(this,ul,"f")||!await ae(this,ti,"m",aS).call(this,e)||ae(this,Ws,"f").has(e.uri))return;let{scheme:r,fsPath:n}=UV.URI.parse(e.uri),i=(r==="file"?n.replace(/\\/g,"/"):n).replace(/[[\]{}]/g,"?"),o={documentSelector:[{scheme:r,pattern:i}]};ae(this,Ws,"f").set(e.uri,ae(this,fr,"f").connection.client.register(uS.DocumentFormattingRequest.type,o)),ae(this,Ze,"f")?.debug("Registering formatter for document",{uri:e.uri,options:o}),await ae(this,fr,"f").connection.sendNotification(HV.Notification.DidRegisterDocumentFormattingEditProvider,{uri:e.uri,options:o})},Gk=function(e){let r=ae(this,Ws,"f").get(e);r&&(ae(this,Ze,"f")?.debug("Deregistering formatter for document",{uri:e}),r.then(({dispose:n})=>n()).catch(n=>{ae(this,Ze,"f")?.error("Error deregistering formatter for document",{uri:e,error:n})}),ae(this,Ws,"f").delete(e))},Hg=function(){for(let[e,r]of ae(this,Ws,"f"))ae(this,Ze,"f")?.debug("Deregistering formatter for document",{uri:e}),r.then(({dispose:n})=>n()).catch(n=>{ae(this,Ze,"f")?.error("Error deregistering formatter for document",{uri:e,error:n})});ae(this,Ws,"f").clear()};Ug.id="formatter"});var Jk=_((See,Xk)=>{var zV=ds(),KV=(t,e)=>{let r=zV(t,e);return r?r.version:null};Xk.exports=KV});var Zk=_((Ree,Qk)=>{var BV=ds(),VV=(t,e)=>{let r=BV(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Qk.exports=VV});var rA=_((Cee,tA)=>{var eA=lr(),GV=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new eA(t instanceof eA?t.version:t,r).inc(e,n,i).version}catch{return null}};tA.exports=GV});var sA=_((Dee,iA)=>{var nA=ds(),YV=(t,e)=>{let r=nA(t,null,!0),n=nA(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,a=s?n:r,u=!!o.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let l=u?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};iA.exports=YV});var aA=_((Eee,oA)=>{var XV=lr(),JV=(t,e)=>new XV(t,e).major;oA.exports=JV});var cA=_((Tee,uA)=>{var QV=lr(),ZV=(t,e)=>new QV(t,e).minor;uA.exports=ZV});var dA=_((Pee,lA)=>{var eG=lr(),tG=(t,e)=>new eG(t,e).patch;lA.exports=tG});var hA=_((qee,fA)=>{var rG=ds(),nG=(t,e)=>{let r=rG(t,e);return r&&r.prerelease.length?r.prerelease:null};fA.exports=nG});var pA=_((Oee,gA)=>{var iG=wn(),sG=(t,e,r)=>iG(e,t,r);gA.exports=sG});var yA=_((xee,mA)=>{var oG=wn(),aG=(t,e)=>oG(t,e,!0);mA.exports=aG});var zg=_((Mee,_A)=>{var vA=lr(),uG=(t,e,r)=>{let n=new vA(t,r),i=new vA(e,r);return n.compare(i)||n.compareBuild(i)};_A.exports=uG});var wA=_((Fee,bA)=>{var cG=zg(),lG=(t,e)=>t.sort((r,n)=>cG(r,n,e));bA.exports=lG});var RA=_((Iee,SA)=>{var dG=zg(),fG=(t,e)=>t.sort((r,n)=>dG(n,r,e));SA.exports=fG});var DA=_((kee,CA)=>{var hG=lr(),gG=ds(),{safeRe:Kg,t:Bg}=pa(),pG=(t,e)=>{if(t instanceof hG)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Kg[Bg.COERCEFULL]:Kg[Bg.COERCE]);else{let u=e.includePrerelease?Kg[Bg.COERCERTLFULL]:Kg[Bg.COERCERTL],c;for(;(c=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return gG(`${n}.${i}.${s}${o}${a}`,e)};CA.exports=pG});var TA=_((Aee,EA)=>{var mG=Sn(),yG=(t,e)=>new mG(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));EA.exports=yG});var qA=_((Nee,PA)=>{var vG=lr(),_G=Sn(),bG=(t,e,r)=>{let n=null,i=null,s=null;try{s=new _G(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new vG(n,r))}),n};PA.exports=bG});var xA=_((Lee,OA)=>{var wG=lr(),SG=Sn(),RG=(t,e,r)=>{let n=null,i=null,s=null;try{s=new SG(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new wG(n,r))}),n};OA.exports=RG});var IA=_((jee,FA)=>{var cS=lr(),CG=Sn(),MA=ic(),DG=(t,e)=>{t=new CG(t,e);let r=new cS("0.0.0");if(t.test(r)||(r=new cS("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new cS(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||MA(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||MA(r,s))&&(r=s)}return r&&t.test(r)?r:null};FA.exports=DG});var AA=_(($ee,kA)=>{var EG=Sn(),TG=(t,e)=>{try{return new EG(t,e).range||"*"}catch{return null}};kA.exports=TG});var Vg=_((Wee,$A)=>{var PG=lr(),jA=oc(),{ANY:qG}=jA,OG=Sn(),xG=_a(),NA=ic(),LA=rf(),MG=nf(),FG=tf(),IG=(t,e,r,n)=>{t=new PG(t,n),e=new OG(e,n);let i,s,o,a,u;switch(r){case">":i=NA,s=MG,o=LA,a=">",u=">=";break;case"<":i=LA,s=FG,o=NA,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(xG(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let l=e.set[c],f=null,d=null;if(l.forEach(g=>{g.semver===qG&&(g=new jA(">=0.0.0")),f=f||g,d=d||g,i(g.semver,f.semver,n)?f=g:o(g.semver,d.semver,n)&&(d=g)}),f.operator===a||f.operator===u||(!d.operator||d.operator===a)&&s(t,d.semver))return!1;if(d.operator===u&&o(t,d.semver))return!1}return!0};$A.exports=IG});var HA=_((Hee,WA)=>{var kG=Vg(),AG=(t,e,r)=>kG(t,e,">",r);WA.exports=AG});var zA=_((Uee,UA)=>{var NG=Vg(),LG=(t,e,r)=>NG(t,e,"<",r);UA.exports=LG});var VA=_((zee,BA)=>{var KA=Sn(),jG=(t,e,r)=>(t=new KA(t,r),e=new KA(e,r),t.intersects(e,r));BA.exports=jG});var YA=_((Kee,GA)=>{var $G=_a(),WG=wn();GA.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((l,f)=>WG(l,f,r));for(let l of o)$G(l,e,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,f]of n)l===f?a.push(l):!f&&l===o[0]?a.push("*"):f?l===o[0]?a.push(`<=${f}`):a.push(`${l} - ${f}`):a.push(`>=${l}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var tN=_((Bee,eN)=>{var XA=Sn(),dS=oc(),{ANY:lS}=dS,cl=_a(),fS=wn(),HG=(t,e,r={})=>{if(t===e)return!0;t=new XA(t,r),e=new XA(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=zG(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},UG=[new dS(">=0.0.0-0")],JA=[new dS(">=0.0.0")],zG=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===lS){if(e.length===1&&e[0].semver===lS)return!0;r.includePrerelease?t=UG:t=JA}if(e.length===1&&e[0].semver===lS){if(r.includePrerelease)return!0;e=JA}let n=new Set,i,s;for(let g of t)g.operator===">"||g.operator===">="?i=QA(i,g,r):g.operator==="<"||g.operator==="<="?s=ZA(s,g,r):n.add(g.semver);if(n.size>1)return null;let o;if(i&&s){if(o=fS(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let g of n){if(i&&!cl(g,String(i),r)||s&&!cl(g,String(s),r))return null;for(let p of e)if(!cl(g,String(p),r))return!1;return!0}let a,u,c,l,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let g of e){if(l=l||g.operator===">"||g.operator===">=",c=c||g.operator==="<"||g.operator==="<=",i){if(d&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===d.major&&g.semver.minor===d.minor&&g.semver.patch===d.patch&&(d=!1),g.operator===">"||g.operator===">="){if(a=QA(i,g,r),a===g&&a!==i)return!1}else if(i.operator===">="&&!cl(i.semver,String(g),r))return!1}if(s){if(f&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===f.major&&g.semver.minor===f.minor&&g.semver.patch===f.patch&&(f=!1),g.operator==="<"||g.operator==="<="){if(u=ZA(s,g,r),u===g&&u!==s)return!1}else if(s.operator==="<="&&!cl(s.semver,String(g),r))return!1}if(!g.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&l&&!i&&o!==0||d||f)},QA=(t,e,r)=>{if(!t)return e;let n=fS(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},ZA=(t,e,r)=>{if(!t)return e;let n=fS(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};eN.exports=HG});var sN=_((Vee,iN)=>{var hS=pa(),rN=tc(),KG=lr(),nN=y_(),BG=ds(),VG=Jk(),GG=Zk(),YG=rA(),XG=sA(),JG=aA(),QG=cA(),ZG=dA(),e9=hA(),t9=wn(),r9=pA(),n9=yA(),i9=zg(),s9=wA(),o9=RA(),a9=ic(),u9=rf(),c9=R_(),l9=C_(),d9=tf(),f9=nf(),h9=D_(),g9=DA(),p9=oc(),m9=Sn(),y9=_a(),v9=TA(),_9=qA(),b9=xA(),w9=IA(),S9=AA(),R9=Vg(),C9=HA(),D9=zA(),E9=VA(),T9=YA(),P9=tN();iN.exports={parse:BG,valid:VG,clean:GG,inc:YG,diff:XG,major:JG,minor:QG,patch:ZG,prerelease:e9,compare:t9,rcompare:r9,compareLoose:n9,compareBuild:i9,sort:s9,rsort:o9,gt:a9,lt:u9,eq:c9,neq:l9,gte:d9,lte:f9,cmp:h9,coerce:g9,Comparator:p9,Range:m9,satisfies:y9,toComparators:v9,maxSatisfying:_9,minSatisfying:b9,minVersion:w9,validRange:S9,outside:R9,gtr:C9,ltr:D9,intersects:E9,simplifyRange:T9,subset:P9,SemVer:KG,re:hS.re,src:hS.src,tokens:hS.t,SEMVER_SPEC_VERSION:rN.SEMVER_SPEC_VERSION,RELEASE_TYPES:rN.RELEASE_TYPES,compareIdentifiers:nN.compareIdentifiers,rcompareIdentifiers:nN.rcompareIdentifiers}});var cN=_(Ti=>{"use strict";var gS=Ti&&Ti.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ft=Ti&&Ti.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Qg=Ti&&Ti.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Xg,Gi,Qr,Gg,Yg,ll,oN,uN;Object.defineProperty(Ti,"__esModule",{value:!0});Ti.OldStylelintWarningModule=void 0;var q9=Qg(require("path")),O9=Qg(require("fs/promises")),aN=Qg(sN()),x9=Qg(Wh()),M9=ru(),F9=el(),Jg=class{constructor({context:e,logger:r}){Xg.add(this),Gi.set(this,void 0),Qr.set(this,void 0),Gg.set(this,new Set),Yg.set(this,!1),ll.set(this,[]),gS(this,Gi,e,"f"),gS(this,Qr,r,"f")}dispose(){ft(this,ll,"f").forEach(e=>e.dispose()),ft(this,ll,"f").length=0}onInitialize({capabilities:e}){gS(this,Yg,e.window?.showDocument?.support??!1,"f")}onDidRegisterHandlers(){ft(this,Qr,"f")?.debug("Registering onDidOpen handler"),ft(this,ll,"f").push(ft(this,Gi,"f").documents.onDidOpen(async({document:e})=>{let r=await ft(this,Xg,"m",uN).call(this,e);if(!r)return;ft(this,Qr,"f")?.warn(`Found unsupported version of Stylelint: ${r}`);let n=`Stylelint version ${r} is no longer supported. While it may continue to work for a while, you may encounter unexpected behavior. Please upgrade to version 14.0.0 or newer. See the migration guide for more information.`;if(!ft(this,Yg,"f")){ft(this,Gi,"f").connection.window.showWarningMessage(n);return}(await ft(this,Gi,"f").connection.window.showWarningMessage(n,{title:"Open migration guide"}))?.title==="Open migration guide"&&((await ft(this,Gi,"f").connection.window.showDocument({uri:"https://github.com/stylelint/vscode-stylelint#migrating-from-vscode-stylelint-0xstylelint-13x",external:!0})).success||ft(this,Qr,"f")?.warn("Failed to open migration guide"))})),ft(this,Qr,"f")?.debug("onDidOpen handler registered")}};Ti.OldStylelintWarningModule=Jg;Gi=new WeakMap,Qr=new WeakMap,Gg=new WeakMap,Yg=new WeakMap,ll=new WeakMap,Xg=new WeakSet,oN=async function(e,r){let n=await ft(this,Gi,"f").resolveStylelint(e);if(!n){ft(this,Qr,"f")?.debug("Stylelint not found",{uri:e.uri});return}let i=await(0,F9.findPackageRoot)(n.resolvedPath);if(!i){ft(this,Qr,"f")?.debug("Stylelint package root not found",{uri:e.uri});return}if(!(0,x9.default)(i,r)){ft(this,Qr,"f")?.debug("Stylelint package root is not inside the workspace",{uri:e.uri});return}let s=q9.default.join(i,"package.json");try{let o=await O9.default.readFile(s,"utf8");return JSON.parse(o).version}catch(o){ft(this,Qr,"f")?.debug("Stylelint package manifest could not be read",{uri:e.uri,manifestPath:s,error:o});return}},uN=async function(e){let r=await(0,M9.getWorkspaceFolder)(ft(this,Gi,"f").connection,e);if(!r){ft(this,Qr,"f")?.debug("Document not part of a workspace, ignoring",{uri:e.uri});return}if(ft(this,Gg,"f").has(r)){ft(this,Qr,"f")?.debug("Document has already been checked, ignoring",{uri:e.uri});return}ft(this,Gg,"f").add(r);let n=await ft(this,Xg,"m",oN).call(this,e,r);if(n)try{let i=aN.default.coerce(n);if(!i)throw new Error(`Could not coerce version "${n}"`);return aN.default.lt(i,"14.0.0")?n:void 0}catch(i){ft(this,Qr,"f")?.debug("Stylelint version could not be parsed",{uri:e.uri,version:n,error:i});return}};Jg.id="old-stylelint-warning"});var fN=_(Hs=>{"use strict";var lN=Hs&&Hs.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Ee=Hs&&Hs.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Pi,Fn,rr,fu,Io,dN,pS,Zg,mS;Object.defineProperty(Hs,"__esModule",{value:!0});Hs.ValidatorModule=void 0;var I9=re(),ep=class{constructor({context:e,logger:r}){Pi.add(this),Fn.set(this,void 0),rr.set(this,void 0),fu.set(this,new Map),Io.set(this,[]),lN(this,Fn,e,"f"),lN(this,rr,r,"f")}dispose(){Ee(this,Io,"f").forEach(e=>e.dispose()),Ee(this,Io,"f").length=0}getDiagnostics(e){return Ee(this,fu,"f").get(e)??[]}onInitialize(){Ee(this,Pi,"m",Zg).call(this)}onDidRegisterHandlers(){Ee(this,rr,"f")?.debug("Registering handlers"),Ee(this,Io,"f").push(Ee(this,Fn,"f").notifications.on(I9.DidChangeWatchedFilesNotification.type,async()=>await Ee(this,Pi,"m",Zg).call(this))),Ee(this,rr,"f")?.debug("onDidChangeWatchedFiles handler registered"),Ee(this,Io,"f").push(Ee(this,Fn,"f").documents.onDidChangeContent(async({document:e})=>await Ee(this,Pi,"m",pS).call(this,e))),Ee(this,rr,"f")?.debug("onDidChangeContent handler registered"),Ee(this,Io,"f").push(Ee(this,Fn,"f").documents.onDidClose(async({document:e})=>{await Ee(this,Pi,"m",mS).call(this,e)})),Ee(this,rr,"f")?.debug("onDidClose handler registered"),Ee(this,rr,"f")?.debug("Handlers registered")}async onDidChangeConfiguration(){Ee(this,rr,"f")?.debug("Received onDidChangeConfiguration"),await Ee(this,Pi,"m",Zg).call(this)}};Hs.ValidatorModule=ep;Fn=new WeakMap,rr=new WeakMap,fu=new WeakMap,Io=new WeakMap,Pi=new WeakSet,dN=async function(e){return(await Ee(this,Fn,"f").getOptions(e.uri)).validate.includes(e.languageId)},pS=async function(e){if(!await Ee(this,Pi,"m",dN).call(this,e)){Ee(this,fu,"f").has(e.uri)?(Ee(this,rr,"f")?.debug("Document should not be validated, clearing diagnostics",{uri:e.uri,language:e.languageId}),await Ee(this,Pi,"m",mS).call(this,e)):Ee(this,rr,"f")?.debug("Document should not be validated, ignoring",{uri:e.uri,language:e.languageId});return}let r=await Ee(this,Fn,"f").lintDocument(e);if(!r){Ee(this,rr,"f")?.debug("No lint result, ignoring",{uri:e.uri});return}Ee(this,rr,"f")?.debug("Sending diagnostics",{uri:e.uri,result:r});try{await Ee(this,Fn,"f").connection.sendDiagnostics({uri:e.uri,diagnostics:r.diagnostics}),Ee(this,fu,"f").set(e.uri,r.diagnostics),Ee(this,rr,"f")?.debug("Diagnostics sent",{uri:e.uri})}catch(n){Ee(this,Fn,"f").displayError(n),Ee(this,rr,"f")?.error("Failed to send diagnostics",{uri:e.uri,error:n})}},Zg=async function(){await Promise.allSettled(Ee(this,Fn,"f").documents.all().map(e=>Ee(this,Pi,"m",pS).call(this,e)))},mS=async function({uri:e}){Ee(this,rr,"f")?.debug("Clearing diagnostics for document",{uri:e}),Ee(this,fu,"f").delete(e),await Ee(this,Fn,"f").connection.sendDiagnostics({uri:e,diagnostics:[]}),Ee(this,rr,"f")?.debug("Diagnostics cleared",{uri:e})};ep.id="validator"});var hN=_(In=>{"use strict";var k9=In&&In.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hu=In&&In.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&k9(e,t,r)};Object.defineProperty(In,"__esModule",{value:!0});hu(LF(),In);hu(Wk(),In);hu(Vk(),In);hu(Yk(),In);hu(cN(),In);hu(fN(),In)});var gN=_((rp,tp)=>{var A9=rp&&rp.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};(function(t){if(typeof tp=="object"&&typeof tp.exports=="object"){var e=t(require,rp);e!==void 0&&(tp.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=void 0;var r=function(){function u(c,l,f,d){this._uri=c,this._languageId=l,this._version=f,this._content=d,this._lineOffsets=void 0}return Object.defineProperty(u.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),u.prototype.getText=function(c){if(c){var l=this.offsetAt(c.start),f=this.offsetAt(c.end);return this._content.substring(l,f)}return this._content},u.prototype.update=function(c,l){for(var f=0,d=c;f<d.length;f++){var g=d[f];if(u.isIncremental(g)){var p=o(g.range),b=this.offsetAt(p.start),C=this.offsetAt(p.end);this._content=this._content.substring(0,b)+g.text+this._content.substring(C,this._content.length);var D=Math.max(p.start.line,0),w=Math.max(p.end.line,0),S=this._lineOffsets,O=s(g.text,!1,b);if(w-D===O.length)for(var A=0,z=O.length;A<z;A++)S[A+D+1]=O[A];else O.length<1e4?S.splice.apply(S,A9([D+1,w-D],O,!1)):this._lineOffsets=S=S.slice(0,D+1).concat(O,S.slice(w+1));var U=g.text.length-(C-b);if(U!==0)for(var A=D+1+O.length,z=S.length;A<z;A++)S[A]=S[A]+U}else if(u.isFull(g))this._content=g.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=l},u.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets},u.prototype.positionAt=function(c){c=Math.max(Math.min(c,this._content.length),0);var l=this.getLineOffsets(),f=0,d=l.length;if(d===0)return{line:0,character:c};for(;f<d;){var g=Math.floor((f+d)/2);l[g]>c?d=g:f=g+1}var p=f-1;return{line:p,character:c-l[p]}},u.prototype.offsetAt=function(c){var l=this.getLineOffsets();if(c.line>=l.length)return this._content.length;if(c.line<0)return 0;var f=l[c.line],d=c.line+1<l.length?l[c.line+1]:this._content.length;return Math.max(Math.min(f+c.character,d),f)},Object.defineProperty(u.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),u.isIncremental=function(c){var l=c;return l!=null&&typeof l.text=="string"&&l.range!==void 0&&(l.rangeLength===void 0||typeof l.rangeLength=="number")},u.isFull=function(c){var l=c;return l!=null&&typeof l.text=="string"&&l.range===void 0&&l.rangeLength===void 0},u}(),n;(function(u){function c(d,g,p,b){return new r(d,g,p,b)}u.create=c;function l(d,g,p){if(d instanceof r)return d.update(g,p),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")}u.update=l;function f(d,g){for(var p=d.getText(),b=i(g.map(a),function(z,U){var K=z.range.start.line-U.range.start.line;return K===0?z.range.start.character-U.range.start.character:K}),C=0,D=[],w=0,S=b;w<S.length;w++){var O=S[w],A=d.offsetAt(O.range.start);if(A<C)throw new Error("Overlapping edit");A>C&&D.push(p.substring(C,A)),O.newText.length&&D.push(O.newText),C=d.offsetAt(O.range.end)}return D.push(p.substr(C)),D.join("")}u.applyEdits=f})(n||(e.TextDocument=n={}));function i(u,c){if(u.length<=1)return u;var l=u.length/2|0,f=u.slice(0,l),d=u.slice(l);i(f,c),i(d,c);for(var g=0,p=0,b=0;g<f.length&&p<d.length;){var C=c(f[g],d[p]);C<=0?u[b++]=f[g++]:u[b++]=d[p++]}for(;g<f.length;)u[b++]=f[g++];for(;p<d.length;)u[b++]=d[p++];return u}function s(u,c,l){l===void 0&&(l=0);for(var f=c?[l]:[],d=0;d<u.length;d++){var g=u.charCodeAt(d);(g===13||g===10)&&(g===13&&d+1<u.length&&u.charCodeAt(d+1)===10&&d++,f.push(l+d+1))}return f}function o(u){var c=u.start,l=u.end;return c.line>l.line||c.line===l.line&&c.character>l.character?{start:l,end:c}:u}function a(u){var c=o(u.range);return c!==u.range?{newText:u.newText,range:c}:u}})});var CN=_(zs=>{"use strict";var kn=zs&&zs.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},$=zs&&zs.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ot,fl,Dr,we,Ao,yu,ko,gl,_u,vu,ip,Us,gu,pu,No,sp,mu,hl,_N,bN,wN,SN,RN,dl,pN,mN,yN,vN;Object.defineProperty(zs,"__esModule",{value:!0});zs.StylelintLanguageServer=void 0;var N9=gN(),L9=j0(),np=re(),j9=ru(),vS=$h(),yS=Yw(),$9=al(),W9=el(),H9=Ka(),U9=t0(),_S={codeAction:{disableRuleComment:{location:"separateLine"}},config:null,configFile:"",configBasedir:"",customSyntax:"",ignoreDisables:!1,packageManager:"npm",reportDescriptionlessDisables:!1,reportInvalidScopeDisables:!1,reportNeedlessDisables:!1,snippet:["css","postcss"],stylelintPath:"",validate:["css","postcss"]},bS=class{constructor({connection:e,logger:r,modules:n}){ot.add(this),fl.set(this,"New"),Dr.set(this,void 0),we.set(this,void 0),Ao.set(this,void 0),yu.set(this,void 0),ko.set(this,void 0),gl.set(this,void 0),_u.set(this,void 0),vu.set(this,void 0),ip.set(this,void 0),Us.set(this,new Map),gu.set(this,!1),pu.set(this,new Map),No.set(this,[]),kn(this,Dr,e,"f"),kn(this,we,(r??(0,U9.createLogger)(e))?.child({component:"language-server"}),"f"),kn(this,Ao,new vS.NotificationManager(e,$(this,we,"f")),"f"),kn(this,yu,new vS.CommandManager(e,$(this,we,"f")),"f"),kn(this,ko,_S,"f"),kn(this,gl,new W9.StylelintResolver(e,$(this,we,"f")),"f"),kn(this,_u,new $9.StylelintRunner(e,$(this,we,"f"),$(this,gl,"f")),"f"),kn(this,vu,new L9.TextDocuments(N9.TextDocument),"f"),kn(this,ip,{connection:$(this,Dr,"f"),notifications:$(this,Ao,"f"),commands:$(this,yu,"f"),documents:$(this,vu,"f"),runner:$(this,_u,"f"),getOptions:$(this,ot,"m",hl).bind(this),getModule:$(this,ot,"m",SN).bind(this),getFixes:$(this,ot,"m",wN).bind(this),displayError:$(this,ot,"m",mu).bind(this),lintDocument:$(this,ot,"m",bN).bind(this),resolveStylelint:$(this,ot,"m",_N).bind(this)},"f");let i=new Proxy($(this,ip,"f"),{get(s,o){return s[o]},set(){throw new Error("Cannot set read-only property")}});if(n)for(let s of n){if($(this,we,"f").info("Registering module",{module:s.id}),!s.id)throw new Error("Modules must have an ID");if(typeof s.id!="string")throw new Error("Module IDs must be strings");let o=new s({context:i,logger:r?.child({component:`language-server:${s.id}`})});if($(this,Us,"f").has(s.id))throw new Error(`Module with ID "${s.id}" already registered`);$(this,Us,"f").set(s.id,o),$(this,we,"f").info("Module registered",{module:s.id})}}start(){$(this,ot,"m",sp).call(this,"Started"),$(this,we,"f").info("Starting language server"),$(this,vu,"f").listen($(this,Dr,"f")),$(this,Dr,"f").listen(),$(this,ot,"m",RN).call(this),$(this,we,"f").info("Language server started")}dispose(){try{$(this,ot,"m",sp).call(this,"Disposed")}catch{return}$(this,we,"f").info("Stopping language server"),$(this,Us,"f").forEach(e=>e.dispose()),$(this,No,"f").forEach(e=>e.dispose()),$(this,No,"f").length=0,$(this,Dr,"f").onInitialize(()=>({capabilities:{}})),$(this,Dr,"f").onShutdown(()=>{}),$(this,Us,"f").clear(),$(this,Ao,"f").dispose(),$(this,yu,"f").dispose(),$(this,Dr,"f").dispose()}};zs.StylelintLanguageServer=bS;fl=new WeakMap,Dr=new WeakMap,we=new WeakMap,Ao=new WeakMap,yu=new WeakMap,ko=new WeakMap,gl=new WeakMap,_u=new WeakMap,vu=new WeakMap,ip=new WeakMap,Us=new WeakMap,gu=new WeakMap,pu=new WeakMap,No=new WeakMap,ot=new WeakSet,sp=function(e){if($(this,fl,"f")===e)throw new Error(`Cannot transition from state ${e} to itself`);switch($(this,fl,"f")){case"Initialized":if(e!=="Disposed")throw new Error("Can only transition state from Initialized to Disposed");break;case"Disposed":throw new Error("Cannot transition from Disposed");default:break}kn(this,fl,e,"f")},mu=function(e){(0,vS.displayError)($(this,Dr,"f"),e)},hl=async function(e){if(!$(this,gu,"f"))return $(this,ko,"f");let r=$(this,pu,"f").get(e);if(r)return $(this,we,"f").debug("Returning cached options",{resource:e}),r;$(this,we,"f").debug("Requesting options from client",{resource:e});let n=await $(this,Dr,"f").workspace.getConfiguration({scopeUri:e,section:"stylelint"});$(this,we,"f").debug("Received options from client",{resource:e,options:n});let i=(0,yS.mergeOptionsWithDefaults)(n,_S);return Object.freeze(i),$(this,pu,"f").set(e,i),$(this,we,"f").debug("Returning options",{resource:e,options:i}),i},_N=async function(e){$(this,we,"f").debug("Resolving Stylelint",{uri:e.uri});try{let r=await $(this,ot,"m",hl).call(this,e.uri),n=await $(this,gl,"f").resolve(r,e);return n?$(this,we,"f").debug("Stylelint resolved",{uri:e.uri,resolvedPath:n.resolvedPath}):$(this,we,"f").warn("Failed to resolve Stylelint",{uri:e.uri}),n}catch(r){$(this,ot,"m",mu).call(this,r),$(this,we,"f").error("Error resolving Stylelint",{uri:e.uri,error:r});return}},bN=async function(e,r={}){$(this,we,"f").debug("Linting document",{uri:e.uri,linterOptions:r});try{let n=await $(this,ot,"m",hl).call(this,e.uri),i=await $(this,_u,"f").lintDocument(e,r,n);return $(this,we,"f").debug("Lint run complete",{uri:e.uri,results:i}),i}catch(n){$(this,ot,"m",mu).call(this,n),$(this,we,"f").error("Error running lint",{uri:e.uri,error:n});return}},wN=async function(e,r={}){try{let n=await $(this,ot,"m",hl).call(this,e.uri),i=await(0,j9.getFixes)($(this,_u,"f"),e,r,n);return $(this,we,"f").debug("Fixes retrieved",{uri:e.uri,edits:i}),i}catch(n){return $(this,ot,"m",mu).call(this,n),$(this,we,"f").error("Error getting fixes",{uri:e.uri,error:n}),[]}},SN=function(e){return $(this,Us,"f").get(e)},RN=function(){$(this,we,"f").info("Registering handlers"),$(this,Dr,"f").onInitialize($(this,ot,"m",pN).bind(this)),$(this,we,"f").debug("connection.onInitialize handler registered"),$(this,No,"f").push($(this,Ao,"f").on(np.InitializedNotification.type,$(this,ot,"m",mN).bind(this))),$(this,we,"f").debug("connection.onInitialized handler registered"),$(this,Dr,"f").onShutdown(()=>this.dispose()),$(this,we,"f").debug("connection.onShutdown handler registered"),$(this,yu,"f").register(),$(this,No,"f").push($(this,Ao,"f").on(np.DidChangeConfigurationNotification.type,$(this,ot,"m",vN).bind(this))),$(this,we,"f").debug("connection.onDidChangeConfiguration handler registered"),$(this,No,"f").push($(this,vu,"f").onDidClose($(this,ot,"m",yN).bind(this))),$(this,we,"f").debug("documents.onDidClose handler registered"),$(this,ot,"m",dl).call(this,"onDidRegisterHandlers"),$(this,we,"f").info("Handlers registered")},dl=function(e,...r){$(this,we,"f").debug(`Invoking ${String(e)}`);let n=Object.create(null);for(let[i,s]of $(this,Us,"f")){let o=s[e];if(o)try{n[i]=o.apply(s,r),$(this,we,"f").debug(`Invoked ${String(e)}`,{module:i,returnValue:n[i]})}catch(a){$(this,ot,"m",mu).call(this,a),$(this,we,"f").error(`Error invoking ${String(e)}`,{module:i,error:a})}}return n},pN=function(e){$(this,we,"f").debug("received onInitialize",{params:e});let r={capabilities:{textDocumentSync:{openClose:!0,change:np.TextDocumentSyncKind.Full}}};e.capabilities.workspace?.configuration&&($(this,we,"f").debug("Client reports workspace configuration support; using scoped configuration"),kn(this,gu,!0,"f"));for(let[,n]of Object.entries($(this,ot,"m",dl).call(this,"onInitialize",e)))n&&(0,yS.mergeAssign)(r,n);return $(this,we,"f").debug("Returning initialization results",{result:r}),r},mN=async function(e){$(this,ot,"m",sp).call(this,"Initialized"),$(this,we,"f").debug("received onInitialized",{params:e}),$(this,gu,"f")&&($(this,we,"f").debug("Registering DidChangeConfigurationNotification"),await $(this,Dr,"f").client.register(np.DidChangeConfigurationNotification.type,{section:"stylelint"}))},yN=function({document:e}){$(this,we,"f").debug("received documents.onDidClose, clearing cached options",{uri:e.uri}),$(this,pu,"f").delete(e.uri)},vN=async function(e){if($(this,gu,"f")){$(this,we,"f").debug("received onDidChangeConfiguration, clearing cached options",{params:e}),$(this,pu,"f").clear(),$(this,ot,"m",dl).call(this,"onDidChangeConfiguration"),await $(this,Dr,"f").sendNotification(H9.Notification.DidResetConfiguration);return}$(this,we,"f").debug("received onDidChangeConfiguration",{params:e}),kn(this,ko,(0,yS.mergeOptionsWithDefaults)(e.settings.stylelint,_S),"f"),Object.freeze($(this,ko,"f")),$(this,we,"f").debug("Global options updated",{options:$(this,ko,"f")}),$(this,ot,"m",dl).call(this,"onDidChangeConfiguration")}});var EN=_(Er=>{"use strict";var DN=Er&&Er.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z9=Er&&Er.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wS=Er&&Er.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&DN(e,t,r)},K9=Er&&Er.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DN(e,t,r);return z9(e,t),e};Object.defineProperty(Er,"__esModule",{value:!0});Er.modules=void 0;wS(t0(),Er);Er.modules=K9(hN());wS(CN(),Er);wS(Ka(),Er)});var PN=_(Bs=>{"use strict";var B9=Bs&&Bs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.deactivate=Bs.activate=void 0;var V9=require("node:events"),G9=B9(require("node:path")),SS=LP(),Ks=require("vscode"),TN=$_(),op=EN(),ri;async function Y9({subscriptions:t}){let e=G9.default.join(__dirname,"start-server.js"),r=Object.assign(new V9.EventEmitter,{codeActionReady:!1});ri=new SS.LanguageClient("Stylelint",{run:{module:e},debug:{module:e,options:{execArgv:["--nolazy","--inspect=6004"]}}},{documentSelector:[{scheme:"file"},{scheme:"untitled"}],diagnosticCollectionName:"Stylelint",synchronize:{fileEvents:[Ks.workspace.createFileSystemWatcher("**/.stylelintrc{,.js,.json,.yaml,.yml}"),Ks.workspace.createFileSystemWatcher("**/{stylelint.config.js,.stylelintignore}")]}});let n=async s=>{await Ks.window.showErrorMessage(`Stylelint: ${s instanceof Error?s.message:String(s)}`)},i=()=>{ri.onNotification(op.Notification.DidRegisterCodeActionRequestHandler,()=>{r.codeActionReady=!0}),ri.onNotification(op.Notification.DidRegisterDocumentFormattingEditProvider,s=>{r.emit(TN.ApiEvent.DidRegisterDocumentFormattingEditProvider,s)}),ri.onNotification(op.Notification.DidResetConfiguration,()=>{r.emit(TN.ApiEvent.DidResetConfiguration)})};try{await ri.start(),i()}catch(s){await n(s)}return t.push(Ks.commands.registerCommand("stylelint.executeAutofix",async()=>{let s=Ks.window.activeTextEditor;if(!s)return;let o={uri:s.document.uri.toString(),version:s.document.version},a={command:op.CommandId.ApplyAutoFix,arguments:[o]};try{await ri.sendRequest(SS.ExecuteCommandRequest.type,a)}catch{await Ks.window.showErrorMessage("Failed to apply Stylelint fixes to the document. Please consider opening an issue with steps to reproduce.")}})),t.push(Ks.commands.registerCommand("stylelint.restart",async()=>{await ri.stop();try{await ri.start(),i()}catch(s){await n(s)}})),t.push(new SS.SettingMonitor(ri,"stylelint.enable").start()),Promise.resolve(r)}Bs.activate=Y9;async function X9(){if(ri)try{return ri.stop()}catch(t){let e=t&&t?t.message:"unknown";throw await Ks.window.showErrorMessage(`error stopping stylelint language server: ${e}`),t}}Bs.deactivate=X9});var J9=exports&&exports.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qN=exports&&exports.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&J9(e,t,r)};Object.defineProperty(exports,"__esModule",{value:!0});qN(PN(),exports);qN($_(),exports);
