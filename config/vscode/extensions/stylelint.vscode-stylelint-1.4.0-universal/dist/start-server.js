"use strict";var m=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ru=m(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.thenable=Xe.typedArray=Xe.stringArray=Xe.array=Xe.func=Xe.error=Xe.number=Xe.string=Xe.boolean=void 0;function LO(t){return t===!0||t===!1}Xe.boolean=LO;function qv(t){return typeof t=="string"||t instanceof String}Xe.string=qv;function FO(t){return typeof t=="number"||t instanceof Number}Xe.number=FO;function kO(t){return t instanceof Error}Xe.error=kO;function Ov(t){return typeof t=="function"}Xe.func=Ov;function Mv(t){return Array.isArray(t)}Xe.array=Mv;function $O(t){return Mv(t)&&t.every(e=>qv(e))}Xe.stringArray=$O;function WO(t,e){return Array.isArray(t)&&t.every(e)}Xe.typedArray=WO;function HO(t){return t&&Ov(t.then)}Xe.thenable=HO});var ro=m(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.stringArray=gt.array=gt.func=gt.error=gt.number=gt.string=gt.boolean=void 0;function UO(t){return t===!0||t===!1}gt.boolean=UO;function Cv(t){return typeof t=="string"||t instanceof String}gt.string=Cv;function BO(t){return typeof t=="number"||t instanceof Number}gt.number=BO;function zO(t){return t instanceof Error}gt.error=zO;function GO(t){return typeof t=="function"}gt.func=GO;function Av(t){return Array.isArray(t)}gt.array=Av;function VO(t){return Av(t)&&t.every(e=>Cv(e))}gt.stringArray=VO});var Rd=m(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.Message=ee.NotificationType9=ee.NotificationType8=ee.NotificationType7=ee.NotificationType6=ee.NotificationType5=ee.NotificationType4=ee.NotificationType3=ee.NotificationType2=ee.NotificationType1=ee.NotificationType0=ee.NotificationType=ee.RequestType9=ee.RequestType8=ee.RequestType7=ee.RequestType6=ee.RequestType5=ee.RequestType4=ee.RequestType3=ee.RequestType2=ee.RequestType1=ee.RequestType=ee.RequestType0=ee.AbstractMessageSignature=ee.ParameterStructures=ee.ResponseError=ee.ErrorCodes=void 0;var mi=ro(),Qf;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Qf||(ee.ErrorCodes=Qf={}));var Zf=class t extends Error{constructor(e,r,n){super(r),this.code=mi.number(e)?e:Qf.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};ee.ResponseError=Zf;var Nt=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};ee.ParameterStructures=Nt;Nt.auto=new Nt("auto");Nt.byPosition=new Nt("byPosition");Nt.byName=new Nt("byName");var Le=class{constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return Nt.auto}};ee.AbstractMessageSignature=Le;var ed=class extends Le{constructor(e){super(e,0)}};ee.RequestType0=ed;var td=class extends Le{constructor(e,r=Nt.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ee.RequestType=td;var rd=class extends Le{constructor(e,r=Nt.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ee.RequestType1=rd;var nd=class extends Le{constructor(e){super(e,2)}};ee.RequestType2=nd;var id=class extends Le{constructor(e){super(e,3)}};ee.RequestType3=id;var od=class extends Le{constructor(e){super(e,4)}};ee.RequestType4=od;var sd=class extends Le{constructor(e){super(e,5)}};ee.RequestType5=sd;var ad=class extends Le{constructor(e){super(e,6)}};ee.RequestType6=ad;var ud=class extends Le{constructor(e){super(e,7)}};ee.RequestType7=ud;var ld=class extends Le{constructor(e){super(e,8)}};ee.RequestType8=ld;var cd=class extends Le{constructor(e){super(e,9)}};ee.RequestType9=cd;var fd=class extends Le{constructor(e,r=Nt.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ee.NotificationType=fd;var dd=class extends Le{constructor(e){super(e,0)}};ee.NotificationType0=dd;var hd=class extends Le{constructor(e,r=Nt.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ee.NotificationType1=hd;var gd=class extends Le{constructor(e){super(e,2)}};ee.NotificationType2=gd;var pd=class extends Le{constructor(e){super(e,3)}};ee.NotificationType3=pd;var md=class extends Le{constructor(e){super(e,4)}};ee.NotificationType4=md;var vd=class extends Le{constructor(e){super(e,5)}};ee.NotificationType5=vd;var yd=class extends Le{constructor(e){super(e,6)}};ee.NotificationType6=yd;var bd=class extends Le{constructor(e){super(e,7)}};ee.NotificationType7=bd;var _d=class extends Le{constructor(e){super(e,8)}};ee.NotificationType8=_d;var wd=class extends Le{constructor(e){super(e,9)}};ee.NotificationType9=wd;var Nv;(function(t){function e(i){let o=i;return o&&mi.string(o.method)&&(mi.string(o.id)||mi.number(o.id))}t.isRequest=e;function r(i){let o=i;return o&&mi.string(o.method)&&i.id===void 0}t.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(mi.string(o.id)||mi.number(o.id)||o.id===null)}t.isResponse=n})(Nv||(ee.Message=Nv={}))});var Ed=m(On=>{"use strict";var jv;Object.defineProperty(On,"__esModule",{value:!0});On.LRUCache=On.LinkedMap=On.Touch=void 0;var pt;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(pt||(On.Touch=pt={}));var nu=class{constructor(){this[jv]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=pt.None){let n=this._map.get(e);if(n)return r!==pt.None&&this.touch(n,r),n.value}set(e,r,n=pt.None){let i=this._map.get(e);if(i)i.value=r,n!==pt.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case pt.None:this.addItemLast(i);break;case pt.First:this.addItemFirst(i);break;case pt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(jv=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==pt.First&&r!==pt.Last)){if(r===pt.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===pt.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};On.LinkedMap=nu;var Sd=class extends nu{constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=pt.AsNew){return super.get(e,r)}peek(e){return super.get(e,pt.None)}set(e,r){return super.set(e,r,pt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};On.LRUCache=Sd});var Iv=m(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.Disposable=void 0;var xv;(function(t){function e(r){return{dispose:r}}t.create=e})(xv||(iu.Disposable=xv={}))});var Mn=m(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});var Dd;function Pd(){if(Dd===void 0)throw new Error("No runtime abstraction layer installed");return Dd}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Dd=r}t.install=e})(Pd||(Pd={}));Td.default=Pd});var io=m(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.Emitter=no.Event=void 0;var YO=Mn(),Lv;(function(t){let e={dispose(){}};t.None=function(){return e}})(Lv||(no.Event=Lv={}));var qd=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{r.push(n[o].apply(i[o],e))}catch(a){(0,YO.default)().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},ou=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new qd),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};no.Emitter=ou;ou._noop=function(){}});var uu=m(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.CancellationTokenSource=oo.CancellationToken=void 0;var KO=Mn(),XO=ro(),Od=io(),su;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Od.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Od.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||XO.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(su||(oo.CancellationToken=su={}));var JO=Object.freeze(function(t,e){let r=(0,KO.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),au=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?JO:(this._emitter||(this._emitter=new Od.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Md=class{get token(){return this._token||(this._token=new au),this._token}cancel(){this._token?this._token.cancel():this._token=su.Cancelled}dispose(){this._token?this._token instanceof au&&this._token.dispose():this._token=su.None}};oo.CancellationTokenSource=Md});var Fv=m(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.SharedArrayReceiverStrategy=so.SharedArraySenderStrategy=void 0;var QO=uu(),qs;(function(t){t.Continue=0,t.Cancelled=1})(qs||(qs={}));var Cd=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=qs.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,qs.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};so.SharedArraySenderStrategy=Cd;var Ad=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===qs.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Nd=class{constructor(e){this.token=new Ad(e)}cancel(){}dispose(){}},jd=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new QO.CancellationTokenSource:new Nd(r)}};so.SharedArrayReceiverStrategy=jd});var Id=m(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.Semaphore=void 0;var ZO=Mn(),xd=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,ZO.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};lu.Semaphore=xd});var $v=m(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.ReadableStreamMessageReader=Cn.AbstractMessageReader=Cn.MessageReader=void 0;var Fd=Mn(),ao=ro(),Ld=io(),eM=Id(),kv;(function(t){function e(r){let n=r;return n&&ao.func(n.listen)&&ao.func(n.dispose)&&ao.func(n.onError)&&ao.func(n.onClose)&&ao.func(n.onPartialMessage)}t.is=e})(kv||(Cn.MessageReader=kv={}));var cu=class{constructor(){this.errorEmitter=new Ld.Emitter,this.closeEmitter=new Ld.Emitter,this.partialMessageEmitter=new Ld.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${ao.string(e.message)?e.message:"unknown"}`)}};Cn.AbstractMessageReader=cu;var kd;(function(t){function e(r){let n,i,o,s=new Map,a,u=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,s.set(o.name,o)),r.contentDecoders!==void 0)for(let l of r.contentDecoders)s.set(l.name,l);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,u.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let l of r.contentTypeDecoders)u.set(l.name,l)}return a===void 0&&(a=(0,Fd.default)().applicationJson.decoder,u.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:u}}t.fromOptions=e})(kd||(kd={}));var $d=class extends cu{constructor(e,r){super(),this.readable=e,this.options=kd.fromOptions(r),this.buffer=(0,Fd.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new eM.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Fd.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Cn.ReadableStreamMessageReader=$d});var zv=m(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.WriteableStreamMessageWriter=An.AbstractMessageWriter=An.MessageWriter=void 0;var Wv=Mn(),Os=ro(),tM=Id(),Hv=io(),rM="Content-Length: ",Uv=`\r
`,Bv;(function(t){function e(r){let n=r;return n&&Os.func(n.dispose)&&Os.func(n.onClose)&&Os.func(n.onError)&&Os.func(n.write)}t.is=e})(Bv||(An.MessageWriter=Bv={}));var fu=class{constructor(){this.errorEmitter=new Hv.Emitter,this.closeEmitter=new Hv.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Os.string(e.message)?e.message:"unknown"}`)}};An.AbstractMessageWriter=fu;var Wd;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,Wv.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,Wv.default)().applicationJson.encoder}}t.fromOptions=e})(Wd||(Wd={}));var Hd=class extends fu{constructor(e,r){super(),this.writable=e,this.options=Wd.fromOptions(r),this.errorCount=0,this.writeSemaphore=new tM.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(rM,n.byteLength.toString(),Uv),i.push(Uv),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};An.WriteableStreamMessageWriter=Hd});var Gv=m(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.AbstractMessageBuffer=void 0;var nM=13,iM=10,oM=`\r
`,Ud=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];for(i=0;i<l.length;){switch(l[i]){case nM:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case iM:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=l.byteLength,n++}if(r!==4)return;let s=this._read(o+i),a=new Map,u=this.toString(s,"ascii").split(oM);if(u.length<2)return a;for(let l=0;l<u.length-2;l++){let d=u[l],p=d.indexOf(":");if(p===-1)throw new Error(`Message header must separate key and value using ':'
${d}`);let g=d.substr(0,p),h=d.substr(p+1).trim();a.set(e?g.toLowerCase():g,h)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);r.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return r}};du.AbstractMessageBuffer=Ud});var Jv=m(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.createMessageConnection=se.ConnectionOptions=se.MessageStrategy=se.CancellationStrategy=se.CancellationSenderStrategy=se.CancellationReceiverStrategy=se.RequestCancellationReceiverStrategy=se.IdCancellationReceiverStrategy=se.ConnectionStrategy=se.ConnectionError=se.ConnectionErrors=se.LogTraceNotification=se.SetTraceNotification=se.TraceFormat=se.TraceValues=se.Trace=se.NullLogger=se.ProgressType=se.ProgressToken=void 0;var Vv=Mn(),He=ro(),te=Rd(),Yv=Ed(),Ms=io(),Bd=uu(),Ns;(function(t){t.type=new te.NotificationType("$/cancelRequest")})(Ns||(Ns={}));var zd;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}t.is=e})(zd||(se.ProgressToken=zd={}));var Cs;(function(t){t.type=new te.NotificationType("$/progress")})(Cs||(Cs={}));var Gd=class{constructor(){}};se.ProgressType=Gd;var Vd;(function(t){function e(r){return He.func(r)}t.is=e})(Vd||(Vd={}));se.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var De;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(De||(se.Trace=De={}));var Kv;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(Kv||(se.TraceValues=Kv={}));(function(t){function e(n){if(!He.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=r})(De||(se.Trace=De={}));var Kt;(function(t){t.Text="text",t.JSON="json"})(Kt||(se.TraceFormat=Kt={}));(function(t){function e(r){return He.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Kt||(se.TraceFormat=Kt={}));var Yd;(function(t){t.type=new te.NotificationType("$/setTrace")})(Yd||(se.SetTraceNotification=Yd={}));var hu;(function(t){t.type=new te.NotificationType("$/logTrace")})(hu||(se.LogTraceNotification=hu={}));var As;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(As||(se.ConnectionErrors=As={}));var uo=class t extends Error{constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};se.ConnectionError=uo;var Kd;(function(t){function e(r){let n=r;return n&&He.func(n.cancelUndispatched)}t.is=e})(Kd||(se.ConnectionStrategy=Kd={}));var gu;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&He.func(n.createCancellationTokenSource)&&(n.dispose===void 0||He.func(n.dispose))}t.is=e})(gu||(se.IdCancellationReceiverStrategy=gu={}));var Xd;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&He.func(n.createCancellationTokenSource)&&(n.dispose===void 0||He.func(n.dispose))}t.is=e})(Xd||(se.RequestCancellationReceiverStrategy=Xd={}));var pu;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new Bd.CancellationTokenSource}});function e(r){return gu.is(r)||Xd.is(r)}t.is=e})(pu||(se.CancellationReceiverStrategy=pu={}));var mu;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Ns.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&He.func(n.sendCancellation)&&He.func(n.cleanup)}t.is=e})(mu||(se.CancellationSenderStrategy=mu={}));var vu;(function(t){t.Message=Object.freeze({receiver:pu.Message,sender:mu.Message});function e(r){let n=r;return n&&pu.is(n.receiver)&&mu.is(n.sender)}t.is=e})(vu||(se.CancellationStrategy=vu={}));var yu;(function(t){function e(r){let n=r;return n&&He.func(n.handleMessage)}t.is=e})(yu||(se.MessageStrategy=yu={}));var Xv;(function(t){function e(r){let n=r;return n&&(vu.is(n.cancellationStrategy)||Kd.is(n.connectionStrategy)||yu.is(n.messageStrategy))}t.is=e})(Xv||(se.ConnectionOptions=Xv={}));var wr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(wr||(wr={}));function sM(t,e,r,n){let i=r!==void 0?r:se.NullLogger,o=0,s=0,a=0,u="2.0",l,d=new Map,p,g=new Map,h=new Map,R,D=new Yv.LinkedMap,M=new Map,P=new Set,_=new Map,y=De.Off,C=Kt.Text,L,k=wr.New,Y=new Ms.Emitter,Z=new Ms.Emitter,Ee=new Ms.Emitter,W=new Ms.Emitter,x=new Ms.Emitter,z=n&&n.cancellationStrategy?n.cancellationStrategy:vu.Message;function B(w){if(w===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+w.toString()}function ce(w){return w===null?"res-unknown-"+(++a).toString():"res-"+w.toString()}function he(){return"not-"+(++s).toString()}function O(w,j){te.Message.isRequest(j)?w.set(B(j.id),j):te.Message.isResponse(j)?w.set(ce(j.id),j):w.set(he(),j)}function H(w){}function re(){return k===wr.Listening}function ue(){return k===wr.Closed}function J(){return k===wr.Disposed}function st(){(k===wr.New||k===wr.Listening)&&(k=wr.Closed,Z.fire(void 0))}function _t(w){Y.fire([w,void 0,void 0])}function xr(w){Y.fire(w)}t.onClose(st),t.onError(_t),e.onClose(st),e.onError(xr);function Ir(){R||D.size===0||(R=(0,Vv.default)().timer.setImmediate(()=>{R=void 0,an()}))}function Tn(w){te.Message.isRequest(w)?ht(w):te.Message.isNotification(w)?Zi(w):te.Message.isResponse(w)?pi(w):un(w)}function an(){if(D.size===0)return;let w=D.shift();try{let j=n?.messageStrategy;yu.is(j)?j.handleMessage(w,Tn):Tn(w)}finally{Ir()}}let Qi=w=>{try{if(te.Message.isNotification(w)&&w.method===Ns.type.method){let j=w.params.id,$=B(j),X=D.get($);if(te.Message.isRequest(X)){let Pe=n?.connectionStrategy,Ie=Pe&&Pe.cancelUndispatched?Pe.cancelUndispatched(X,H):void 0;if(Ie&&(Ie.error!==void 0||Ie.result!==void 0)){D.delete($),_.delete(j),Ie.id=X.id,fn(Ie,w.method,Date.now()),e.write(Ie).catch(()=>i.error("Sending response for canceled message failed."));return}}let Me=_.get(j);if(Me!==void 0){Me.cancel(),Vt(w);return}else P.add(j)}O(D,w)}finally{Ir()}};function ht(w){if(J())return;function j(ge,Ce,we){let Ue={jsonrpc:u,id:w.id};ge instanceof te.ResponseError?Ue.error=ge.toJson():Ue.result=ge===void 0?null:ge,fn(Ue,Ce,we),e.write(Ue).catch(()=>i.error("Sending response failed."))}function $(ge,Ce,we){let Ue={jsonrpc:u,id:w.id,error:ge.toJson()};fn(Ue,Ce,we),e.write(Ue).catch(()=>i.error("Sending response failed."))}function X(ge,Ce,we){ge===void 0&&(ge=null);let Ue={jsonrpc:u,id:w.id,result:ge};fn(Ue,Ce,we),e.write(Ue).catch(()=>i.error("Sending response failed."))}Lr(w);let Me=d.get(w.method),Pe,Ie;Me&&(Pe=Me.type,Ie=Me.handler);let $e=Date.now();if(Ie||l){let ge=w.id??String(Date.now()),Ce=gu.is(z.receiver)?z.receiver.createCancellationTokenSource(ge):z.receiver.createCancellationTokenSource(w);w.id!==null&&P.has(w.id)&&Ce.cancel(),w.id!==null&&_.set(ge,Ce);try{let we;if(Ie)if(w.params===void 0){if(Pe!==void 0&&Pe.numberOfParams!==0){$(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${w.method} defines ${Pe.numberOfParams} params but received none.`),w.method,$e);return}we=Ie(Ce.token)}else if(Array.isArray(w.params)){if(Pe!==void 0&&Pe.parameterStructures===te.ParameterStructures.byName){$(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${w.method} defines parameters by name but received parameters by position`),w.method,$e);return}we=Ie(...w.params,Ce.token)}else{if(Pe!==void 0&&Pe.parameterStructures===te.ParameterStructures.byPosition){$(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${w.method} defines parameters by position but received parameters by name`),w.method,$e);return}we=Ie(w.params,Ce.token)}else l&&(we=l(w.method,w.params,Ce.token));let Ue=we;we?Ue.then?Ue.then(tt=>{_.delete(ge),j(tt,w.method,$e)},tt=>{_.delete(ge),tt instanceof te.ResponseError?$(tt,w.method,$e):tt&&He.string(tt.message)?$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${w.method} failed with message: ${tt.message}`),w.method,$e):$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${w.method} failed unexpectedly without providing any details.`),w.method,$e)}):(_.delete(ge),j(we,w.method,$e)):(_.delete(ge),X(we,w.method,$e))}catch(we){_.delete(ge),we instanceof te.ResponseError?j(we,w.method,$e):we&&He.string(we.message)?$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${w.method} failed with message: ${we.message}`),w.method,$e):$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${w.method} failed unexpectedly without providing any details.`),w.method,$e)}}else $(new te.ResponseError(te.ErrorCodes.MethodNotFound,`Unhandled method ${w.method}`),w.method,$e)}function pi(w){if(!J())if(w.id===null)w.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(w.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let j=w.id,$=M.get(j);if(qn(w,$),$!==void 0){M.delete(j);try{if(w.error){let X=w.error;$.reject(new te.ResponseError(X.code,X.message,X.data))}else if(w.result!==void 0)$.resolve(w.result);else throw new Error("Should never happen.")}catch(X){X.message?i.error(`Response handler '${$.method}' failed with message: ${X.message}`):i.error(`Response handler '${$.method}' failed unexpectedly.`)}}}}function Zi(w){if(J())return;let j,$;if(w.method===Ns.type.method){let X=w.params.id;P.delete(X),Vt(w);return}else{let X=g.get(w.method);X&&($=X.handler,j=X.type)}if($||p)try{if(Vt(w),$)if(w.params===void 0)j!==void 0&&j.numberOfParams!==0&&j.parameterStructures!==te.ParameterStructures.byName&&i.error(`Notification ${w.method} defines ${j.numberOfParams} params but received none.`),$();else if(Array.isArray(w.params)){let X=w.params;w.method===Cs.type.method&&X.length===2&&zd.is(X[0])?$({token:X[0],value:X[1]}):(j!==void 0&&(j.parameterStructures===te.ParameterStructures.byName&&i.error(`Notification ${w.method} defines parameters by name but received parameters by position`),j.numberOfParams!==w.params.length&&i.error(`Notification ${w.method} defines ${j.numberOfParams} params but received ${X.length} arguments`)),$(...X))}else j!==void 0&&j.parameterStructures===te.ParameterStructures.byPosition&&i.error(`Notification ${w.method} defines parameters by position but received parameters by name`),$(w.params);else p&&p(w.method,w.params)}catch(X){X.message?i.error(`Notification handler '${w.method}' failed with message: ${X.message}`):i.error(`Notification handler '${w.method}' failed unexpectedly.`)}else Ee.fire(w)}function un(w){if(!w){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(w,null,4)}`);let j=w;if(He.string(j.id)||He.number(j.id)){let $=j.id,X=M.get($);X&&X.reject(new Error("The received response has neither a result nor an error property."))}}function At(w){if(w!=null)switch(y){case De.Verbose:return JSON.stringify(w,null,4);case De.Compact:return JSON.stringify(w);default:return}}function ln(w){if(!(y===De.Off||!L))if(C===Kt.Text){let j;(y===De.Verbose||y===De.Compact)&&w.params&&(j=`Params: ${At(w.params)}

`),L.log(`Sending request '${w.method} - (${w.id})'.`,j)}else vr("send-request",w)}function cn(w){if(!(y===De.Off||!L))if(C===Kt.Text){let j;(y===De.Verbose||y===De.Compact)&&(w.params?j=`Params: ${At(w.params)}

`:j=`No parameters provided.

`),L.log(`Sending notification '${w.method}'.`,j)}else vr("send-notification",w)}function fn(w,j,$){if(!(y===De.Off||!L))if(C===Kt.Text){let X;(y===De.Verbose||y===De.Compact)&&(w.error&&w.error.data?X=`Error data: ${At(w.error.data)}

`:w.result?X=`Result: ${At(w.result)}

`:w.error===void 0&&(X=`No result returned.

`)),L.log(`Sending response '${j} - (${w.id})'. Processing request took ${Date.now()-$}ms`,X)}else vr("send-response",w)}function Lr(w){if(!(y===De.Off||!L))if(C===Kt.Text){let j;(y===De.Verbose||y===De.Compact)&&w.params&&(j=`Params: ${At(w.params)}

`),L.log(`Received request '${w.method} - (${w.id})'.`,j)}else vr("receive-request",w)}function Vt(w){if(!(y===De.Off||!L||w.method===hu.type.method))if(C===Kt.Text){let j;(y===De.Verbose||y===De.Compact)&&(w.params?j=`Params: ${At(w.params)}

`:j=`No parameters provided.

`),L.log(`Received notification '${w.method}'.`,j)}else vr("receive-notification",w)}function qn(w,j){if(!(y===De.Off||!L))if(C===Kt.Text){let $;if((y===De.Verbose||y===De.Compact)&&(w.error&&w.error.data?$=`Error data: ${At(w.error.data)}

`:w.result?$=`Result: ${At(w.result)}

`:w.error===void 0&&($=`No result returned.

`)),j){let X=w.error?` Request failed: ${w.error.message} (${w.error.code}).`:"";L.log(`Received response '${j.method} - (${w.id})' in ${Date.now()-j.timerStart}ms.${X}`,$)}else L.log(`Received response ${w.id} without active response promise.`,$)}else vr("receive-response",w)}function vr(w,j){if(!L||y===De.Off)return;let $={isLSPMessage:!0,type:w,message:j,timestamp:Date.now()};L.log($)}function yr(){if(ue())throw new uo(As.Closed,"Connection is closed.");if(J())throw new uo(As.Disposed,"Connection is disposed.")}function Qa(){if(re())throw new uo(As.AlreadyListening,"Connection is already listening")}function Za(){if(!re())throw new Error("Call listen() first.")}function Fr(w){return w===void 0?null:w}function Ds(w){if(w!==null)return w}function Ps(w){return w!=null&&!Array.isArray(w)&&typeof w=="object"}function eo(w,j){switch(w){case te.ParameterStructures.auto:return Ps(j)?Ds(j):[Fr(j)];case te.ParameterStructures.byName:if(!Ps(j))throw new Error("Received parameters by name but param is not an object literal.");return Ds(j);case te.ParameterStructures.byPosition:return[Fr(j)];default:throw new Error(`Unknown parameter structure ${w.toString()}`)}}function Ts(w,j){let $,X=w.numberOfParams;switch(X){case 0:$=void 0;break;case 1:$=eo(w.parameterStructures,j[0]);break;default:$=[];for(let Me=0;Me<j.length&&Me<X;Me++)$.push(Fr(j[Me]));if(j.length<X)for(let Me=j.length;Me<X;Me++)$.push(null);break}return $}let dn={sendNotification:(w,...j)=>{yr();let $,X;if(He.string(w)){$=w;let Pe=j[0],Ie=0,$e=te.ParameterStructures.auto;te.ParameterStructures.is(Pe)&&(Ie=1,$e=Pe);let ge=j.length,Ce=ge-Ie;switch(Ce){case 0:X=void 0;break;case 1:X=eo($e,j[Ie]);break;default:if($e===te.ParameterStructures.byName)throw new Error(`Received ${Ce} parameters for 'by Name' notification parameter structure.`);X=j.slice(Ie,ge).map(we=>Fr(we));break}}else{let Pe=j;$=w.method,X=Ts(w,Pe)}let Me={jsonrpc:u,method:$,params:X};return cn(Me),e.write(Me).catch(Pe=>{throw i.error("Sending notification failed."),Pe})},onNotification:(w,j)=>{yr();let $;return He.func(w)?p=w:j&&(He.string(w)?($=w,g.set(w,{type:void 0,handler:j})):($=w.method,g.set(w.method,{type:w,handler:j}))),{dispose:()=>{$!==void 0?g.delete($):p=void 0}}},onProgress:(w,j,$)=>{if(h.has(j))throw new Error(`Progress handler for token ${j} already registered`);return h.set(j,$),{dispose:()=>{h.delete(j)}}},sendProgress:(w,j,$)=>dn.sendNotification(Cs.type,{token:j,value:$}),onUnhandledProgress:W.event,sendRequest:(w,...j)=>{yr(),Za();let $,X,Me;if(He.string(w)){$=w;let ge=j[0],Ce=j[j.length-1],we=0,Ue=te.ParameterStructures.auto;te.ParameterStructures.is(ge)&&(we=1,Ue=ge);let tt=j.length;Bd.CancellationToken.is(Ce)&&(tt=tt-1,Me=Ce);let Yt=tt-we;switch(Yt){case 0:X=void 0;break;case 1:X=eo(Ue,j[we]);break;default:if(Ue===te.ParameterStructures.byName)throw new Error(`Received ${Yt} parameters for 'by Name' request parameter structure.`);X=j.slice(we,tt).map(eu=>Fr(eu));break}}else{let ge=j;$=w.method,X=Ts(w,ge);let Ce=w.numberOfParams;Me=Bd.CancellationToken.is(ge[Ce])?ge[Ce]:void 0}let Pe=o++,Ie;Me&&(Ie=Me.onCancellationRequested(()=>{let ge=z.sender.sendCancellation(dn,Pe);return ge===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Pe}`),Promise.resolve()):ge.catch(()=>{i.log(`Sending cancellation messages for id ${Pe} failed`)})}));let $e={jsonrpc:u,id:Pe,method:$,params:X};return ln($e),typeof z.sender.enableCancellation=="function"&&z.sender.enableCancellation($e),new Promise(async(ge,Ce)=>{let we=Yt=>{ge(Yt),z.sender.cleanup(Pe),Ie?.dispose()},Ue=Yt=>{Ce(Yt),z.sender.cleanup(Pe),Ie?.dispose()},tt={method:$,timerStart:Date.now(),resolve:we,reject:Ue};try{await e.write($e),M.set(Pe,tt)}catch(Yt){throw i.error("Sending request failed."),tt.reject(new te.ResponseError(te.ErrorCodes.MessageWriteError,Yt.message?Yt.message:"Unknown reason")),Yt}})},onRequest:(w,j)=>{yr();let $=null;return Vd.is(w)?($=void 0,l=w):He.string(w)?($=null,j!==void 0&&($=w,d.set(w,{handler:j,type:void 0}))):j!==void 0&&($=w.method,d.set(w.method,{type:w,handler:j})),{dispose:()=>{$!==null&&($!==void 0?d.delete($):l=void 0)}}},hasPendingResponse:()=>M.size>0,trace:async(w,j,$)=>{let X=!1,Me=Kt.Text;$!==void 0&&(He.boolean($)?X=$:(X=$.sendNotification||!1,Me=$.traceFormat||Kt.Text)),y=w,C=Me,y===De.Off?L=void 0:L=j,X&&!ue()&&!J()&&await dn.sendNotification(Yd.type,{value:De.toString(w)})},onError:Y.event,onClose:Z.event,onUnhandledNotification:Ee.event,onDispose:x.event,end:()=>{e.end()},dispose:()=>{if(J())return;k=wr.Disposed,x.fire(void 0);let w=new te.ResponseError(te.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let j of M.values())j.reject(w);M=new Map,_=new Map,P=new Set,D=new Yv.LinkedMap,He.func(e.dispose)&&e.dispose(),He.func(t.dispose)&&t.dispose()},listen:()=>{yr(),Qa(),k=wr.Listening,t.listen(Qi)},inspect:()=>{(0,Vv.default)().console.log("inspect")}};return dn.onNotification(hu.type,w=>{if(y===De.Off||!L)return;let j=y===De.Verbose||y===De.Compact;L.log(w.message,j?w.verbose:void 0)}),dn.onNotification(Cs.type,w=>{let j=h.get(w.token);j?j(w.value):W.fire(w)}),dn}se.createMessageConnection=sM});var bu=m(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.ProgressType=A.ProgressToken=A.createMessageConnection=A.NullLogger=A.ConnectionOptions=A.ConnectionStrategy=A.AbstractMessageBuffer=A.WriteableStreamMessageWriter=A.AbstractMessageWriter=A.MessageWriter=A.ReadableStreamMessageReader=A.AbstractMessageReader=A.MessageReader=A.SharedArrayReceiverStrategy=A.SharedArraySenderStrategy=A.CancellationToken=A.CancellationTokenSource=A.Emitter=A.Event=A.Disposable=A.LRUCache=A.Touch=A.LinkedMap=A.ParameterStructures=A.NotificationType9=A.NotificationType8=A.NotificationType7=A.NotificationType6=A.NotificationType5=A.NotificationType4=A.NotificationType3=A.NotificationType2=A.NotificationType1=A.NotificationType0=A.NotificationType=A.ErrorCodes=A.ResponseError=A.RequestType9=A.RequestType8=A.RequestType7=A.RequestType6=A.RequestType5=A.RequestType4=A.RequestType3=A.RequestType2=A.RequestType1=A.RequestType0=A.RequestType=A.Message=A.RAL=void 0;A.MessageStrategy=A.CancellationStrategy=A.CancellationSenderStrategy=A.CancellationReceiverStrategy=A.ConnectionError=A.ConnectionErrors=A.LogTraceNotification=A.SetTraceNotification=A.TraceFormat=A.TraceValues=A.Trace=void 0;var xe=Rd();Object.defineProperty(A,"Message",{enumerable:!0,get:function(){return xe.Message}});Object.defineProperty(A,"RequestType",{enumerable:!0,get:function(){return xe.RequestType}});Object.defineProperty(A,"RequestType0",{enumerable:!0,get:function(){return xe.RequestType0}});Object.defineProperty(A,"RequestType1",{enumerable:!0,get:function(){return xe.RequestType1}});Object.defineProperty(A,"RequestType2",{enumerable:!0,get:function(){return xe.RequestType2}});Object.defineProperty(A,"RequestType3",{enumerable:!0,get:function(){return xe.RequestType3}});Object.defineProperty(A,"RequestType4",{enumerable:!0,get:function(){return xe.RequestType4}});Object.defineProperty(A,"RequestType5",{enumerable:!0,get:function(){return xe.RequestType5}});Object.defineProperty(A,"RequestType6",{enumerable:!0,get:function(){return xe.RequestType6}});Object.defineProperty(A,"RequestType7",{enumerable:!0,get:function(){return xe.RequestType7}});Object.defineProperty(A,"RequestType8",{enumerable:!0,get:function(){return xe.RequestType8}});Object.defineProperty(A,"RequestType9",{enumerable:!0,get:function(){return xe.RequestType9}});Object.defineProperty(A,"ResponseError",{enumerable:!0,get:function(){return xe.ResponseError}});Object.defineProperty(A,"ErrorCodes",{enumerable:!0,get:function(){return xe.ErrorCodes}});Object.defineProperty(A,"NotificationType",{enumerable:!0,get:function(){return xe.NotificationType}});Object.defineProperty(A,"NotificationType0",{enumerable:!0,get:function(){return xe.NotificationType0}});Object.defineProperty(A,"NotificationType1",{enumerable:!0,get:function(){return xe.NotificationType1}});Object.defineProperty(A,"NotificationType2",{enumerable:!0,get:function(){return xe.NotificationType2}});Object.defineProperty(A,"NotificationType3",{enumerable:!0,get:function(){return xe.NotificationType3}});Object.defineProperty(A,"NotificationType4",{enumerable:!0,get:function(){return xe.NotificationType4}});Object.defineProperty(A,"NotificationType5",{enumerable:!0,get:function(){return xe.NotificationType5}});Object.defineProperty(A,"NotificationType6",{enumerable:!0,get:function(){return xe.NotificationType6}});Object.defineProperty(A,"NotificationType7",{enumerable:!0,get:function(){return xe.NotificationType7}});Object.defineProperty(A,"NotificationType8",{enumerable:!0,get:function(){return xe.NotificationType8}});Object.defineProperty(A,"NotificationType9",{enumerable:!0,get:function(){return xe.NotificationType9}});Object.defineProperty(A,"ParameterStructures",{enumerable:!0,get:function(){return xe.ParameterStructures}});var Jd=Ed();Object.defineProperty(A,"LinkedMap",{enumerable:!0,get:function(){return Jd.LinkedMap}});Object.defineProperty(A,"LRUCache",{enumerable:!0,get:function(){return Jd.LRUCache}});Object.defineProperty(A,"Touch",{enumerable:!0,get:function(){return Jd.Touch}});var aM=Iv();Object.defineProperty(A,"Disposable",{enumerable:!0,get:function(){return aM.Disposable}});var Qv=io();Object.defineProperty(A,"Event",{enumerable:!0,get:function(){return Qv.Event}});Object.defineProperty(A,"Emitter",{enumerable:!0,get:function(){return Qv.Emitter}});var Zv=uu();Object.defineProperty(A,"CancellationTokenSource",{enumerable:!0,get:function(){return Zv.CancellationTokenSource}});Object.defineProperty(A,"CancellationToken",{enumerable:!0,get:function(){return Zv.CancellationToken}});var ey=Fv();Object.defineProperty(A,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return ey.SharedArraySenderStrategy}});Object.defineProperty(A,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return ey.SharedArrayReceiverStrategy}});var Qd=$v();Object.defineProperty(A,"MessageReader",{enumerable:!0,get:function(){return Qd.MessageReader}});Object.defineProperty(A,"AbstractMessageReader",{enumerable:!0,get:function(){return Qd.AbstractMessageReader}});Object.defineProperty(A,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Qd.ReadableStreamMessageReader}});var Zd=zv();Object.defineProperty(A,"MessageWriter",{enumerable:!0,get:function(){return Zd.MessageWriter}});Object.defineProperty(A,"AbstractMessageWriter",{enumerable:!0,get:function(){return Zd.AbstractMessageWriter}});Object.defineProperty(A,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Zd.WriteableStreamMessageWriter}});var uM=Gv();Object.defineProperty(A,"AbstractMessageBuffer",{enumerable:!0,get:function(){return uM.AbstractMessageBuffer}});var at=Jv();Object.defineProperty(A,"ConnectionStrategy",{enumerable:!0,get:function(){return at.ConnectionStrategy}});Object.defineProperty(A,"ConnectionOptions",{enumerable:!0,get:function(){return at.ConnectionOptions}});Object.defineProperty(A,"NullLogger",{enumerable:!0,get:function(){return at.NullLogger}});Object.defineProperty(A,"createMessageConnection",{enumerable:!0,get:function(){return at.createMessageConnection}});Object.defineProperty(A,"ProgressToken",{enumerable:!0,get:function(){return at.ProgressToken}});Object.defineProperty(A,"ProgressType",{enumerable:!0,get:function(){return at.ProgressType}});Object.defineProperty(A,"Trace",{enumerable:!0,get:function(){return at.Trace}});Object.defineProperty(A,"TraceValues",{enumerable:!0,get:function(){return at.TraceValues}});Object.defineProperty(A,"TraceFormat",{enumerable:!0,get:function(){return at.TraceFormat}});Object.defineProperty(A,"SetTraceNotification",{enumerable:!0,get:function(){return at.SetTraceNotification}});Object.defineProperty(A,"LogTraceNotification",{enumerable:!0,get:function(){return at.LogTraceNotification}});Object.defineProperty(A,"ConnectionErrors",{enumerable:!0,get:function(){return at.ConnectionErrors}});Object.defineProperty(A,"ConnectionError",{enumerable:!0,get:function(){return at.ConnectionError}});Object.defineProperty(A,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return at.CancellationReceiverStrategy}});Object.defineProperty(A,"CancellationSenderStrategy",{enumerable:!0,get:function(){return at.CancellationSenderStrategy}});Object.defineProperty(A,"CancellationStrategy",{enumerable:!0,get:function(){return at.CancellationStrategy}});Object.defineProperty(A,"MessageStrategy",{enumerable:!0,get:function(){return at.MessageStrategy}});var lM=Mn();A.RAL=lM.default});var ny=m(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});var ty=require("util"),gn=bu(),_u=class t extends gn.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new ty.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};_u.emptyBuffer=Buffer.allocUnsafe(0);var eh=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),gn.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),gn.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),gn.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),gn.Disposable.create(()=>this.stream.off("data",e))}},th=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),gn.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),gn.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),gn.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,r,o):this.stream.write(e,o)})}end(){this.stream.end()}},ry=Object.freeze({messageBuffer:Object.freeze({create:t=>new _u(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new ty.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:t=>new eh(t),asWritableStream:t=>new th(t)}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:()=>clearImmediate(r)}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:()=>clearInterval(n)}}})});function rh(){return ry}(function(t){function e(){gn.RAL.install(ry)}t.install=e})(rh||(rh={}));nh.default=rh});var bi=m(ve=>{"use strict";var cM=ve&&ve.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fM=ve&&ve.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cM(e,t,r)};Object.defineProperty(ve,"__esModule",{value:!0});ve.createMessageConnection=ve.createServerSocketTransport=ve.createClientSocketTransport=ve.createServerPipeTransport=ve.createClientPipeTransport=ve.generateRandomPipeName=ve.StreamMessageWriter=ve.StreamMessageReader=ve.SocketMessageWriter=ve.SocketMessageReader=ve.PortMessageWriter=ve.PortMessageReader=ve.IPCMessageWriter=ve.IPCMessageReader=void 0;var lo=ny();lo.default.install();var iy=require("path"),dM=require("os"),hM=require("crypto"),Su=require("net"),Xt=bu();fM(bu(),ve);var ih=class extends Xt.AbstractMessageReader{constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Xt.Disposable.create(()=>this.process.off("message",e))}};ve.IPCMessageReader=ih;var oh=class extends Xt.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};ve.IPCMessageWriter=oh;var sh=class extends Xt.AbstractMessageReader{constructor(e){super(),this.onData=new Xt.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};ve.PortMessageReader=sh;var ah=class extends Xt.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};ve.PortMessageWriter=ah;var vi=class extends Xt.ReadableStreamMessageReader{constructor(e,r="utf-8"){super((0,lo.default)().stream.asReadableStream(e),r)}};ve.SocketMessageReader=vi;var yi=class extends Xt.WriteableStreamMessageWriter{constructor(e,r){super((0,lo.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ve.SocketMessageWriter=yi;var wu=class extends Xt.ReadableStreamMessageReader{constructor(e,r){super((0,lo.default)().stream.asReadableStream(e),r)}};ve.StreamMessageReader=wu;var Ru=class extends Xt.WriteableStreamMessageWriter{constructor(e,r){super((0,lo.default)().stream.asWritableStream(e),r)}};ve.StreamMessageWriter=Ru;var oy=process.env.XDG_RUNTIME_DIR,gM=new Map([["linux",107],["darwin",103]]);function pM(){let t=(0,hM.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;oy?e=iy.join(oy,`vscode-ipc-${t}.sock`):e=iy.join(dM.tmpdir(),`vscode-${t}.sock`);let r=gM.get(process.platform);return r!==void 0&&e.length>r&&(0,lo.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}ve.generateRandomPipeName=pM;function mM(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=(0,Su.createServer)(a=>{s.close(),r([new vi(a,e),new yi(a,e)])});s.on("error",o),s.listen(t,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}ve.createClientPipeTransport=mM;function vM(t,e="utf-8"){let r=(0,Su.createConnection)(t);return[new vi(r,e),new yi(r,e)]}ve.createServerPipeTransport=vM;function yM(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=(0,Su.createServer)(a=>{s.close(),r([new vi(a,e),new yi(a,e)])});s.on("error",o),s.listen(t,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}ve.createClientSocketTransport=yM;function bM(t,e="utf-8"){let r=(0,Su.createConnection)(t,"127.0.0.1");return[new vi(r,e),new yi(r,e)]}ve.createServerSocketTransport=bM;function _M(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function wM(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function RM(t,e,r,n){r||(r=Xt.NullLogger);let i=_M(t)?new wu(t):t,o=wM(e)?new Ru(e):e;return Xt.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Xt.createMessageConnection)(i,o,r,n)}ve.createMessageConnection=RM});var uh=m((A4,sy)=>{"use strict";sy.exports=bi()});var kr=m((ay,Eu)=>{(function(t){if(typeof Eu=="object"&&typeof Eu.exports=="object"){var e=t(require,ay);e!==void 0&&(Eu.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(f){function S(E){return typeof E=="string"}f.is=S})(r||(e.DocumentUri=r={}));var n;(function(f){function S(E){return typeof E=="string"}f.is=S})(n||(e.URI=n={}));var i;(function(f){f.MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647;function S(E){return typeof E=="number"&&f.MIN_VALUE<=E&&E<=f.MAX_VALUE}f.is=S})(i||(e.integer=i={}));var o;(function(f){f.MIN_VALUE=0,f.MAX_VALUE=2147483647;function S(E){return typeof E=="number"&&f.MIN_VALUE<=E&&E<=f.MAX_VALUE}f.is=S})(o||(e.uinteger=o={}));var s;(function(f){function S(v,c){return v===Number.MAX_VALUE&&(v=o.MAX_VALUE),c===Number.MAX_VALUE&&(c=o.MAX_VALUE),{line:v,character:c}}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&q.uinteger(c.line)&&q.uinteger(c.character)}f.is=E})(s||(e.Position=s={}));var a;(function(f){function S(v,c,T,I){if(q.uinteger(v)&&q.uinteger(c)&&q.uinteger(T)&&q.uinteger(I))return{start:s.create(v,c),end:s.create(T,I)};if(s.is(v)&&s.is(c))return{start:v,end:c};throw new Error("Range#create called with invalid arguments[".concat(v,", ").concat(c,", ").concat(T,", ").concat(I,"]"))}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&s.is(c.start)&&s.is(c.end)}f.is=E})(a||(e.Range=a={}));var u;(function(f){function S(v,c){return{uri:v,range:c}}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&a.is(c.range)&&(q.string(c.uri)||q.undefined(c.uri))}f.is=E})(u||(e.Location=u={}));var l;(function(f){function S(v,c,T,I){return{targetUri:v,targetRange:c,targetSelectionRange:T,originSelectionRange:I}}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&a.is(c.targetRange)&&q.string(c.targetUri)&&a.is(c.targetSelectionRange)&&(a.is(c.originSelectionRange)||q.undefined(c.originSelectionRange))}f.is=E})(l||(e.LocationLink=l={}));var d;(function(f){function S(v,c,T,I){return{red:v,green:c,blue:T,alpha:I}}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&q.numberRange(c.red,0,1)&&q.numberRange(c.green,0,1)&&q.numberRange(c.blue,0,1)&&q.numberRange(c.alpha,0,1)}f.is=E})(d||(e.Color=d={}));var p;(function(f){function S(v,c){return{range:v,color:c}}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&a.is(c.range)&&d.is(c.color)}f.is=E})(p||(e.ColorInformation=p={}));var g;(function(f){function S(v,c,T){return{label:v,textEdit:c,additionalTextEdits:T}}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&q.string(c.label)&&(q.undefined(c.textEdit)||L.is(c))&&(q.undefined(c.additionalTextEdits)||q.typedArray(c.additionalTextEdits,L.is))}f.is=E})(g||(e.ColorPresentation=g={}));var h;(function(f){f.Comment="comment",f.Imports="imports",f.Region="region"})(h||(e.FoldingRangeKind=h={}));var R;(function(f){function S(v,c,T,I,oe,Be){var je={startLine:v,endLine:c};return q.defined(T)&&(je.startCharacter=T),q.defined(I)&&(je.endCharacter=I),q.defined(oe)&&(je.kind=oe),q.defined(Be)&&(je.collapsedText=Be),je}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&q.uinteger(c.startLine)&&q.uinteger(c.startLine)&&(q.undefined(c.startCharacter)||q.uinteger(c.startCharacter))&&(q.undefined(c.endCharacter)||q.uinteger(c.endCharacter))&&(q.undefined(c.kind)||q.string(c.kind))}f.is=E})(R||(e.FoldingRange=R={}));var D;(function(f){function S(v,c){return{location:v,message:c}}f.create=S;function E(v){var c=v;return q.defined(c)&&u.is(c.location)&&q.string(c.message)}f.is=E})(D||(e.DiagnosticRelatedInformation=D={}));var M;(function(f){f.Error=1,f.Warning=2,f.Information=3,f.Hint=4})(M||(e.DiagnosticSeverity=M={}));var P;(function(f){f.Unnecessary=1,f.Deprecated=2})(P||(e.DiagnosticTag=P={}));var _;(function(f){function S(E){var v=E;return q.objectLiteral(v)&&q.string(v.href)}f.is=S})(_||(e.CodeDescription=_={}));var y;(function(f){function S(v,c,T,I,oe,Be){var je={range:v,message:c};return q.defined(T)&&(je.severity=T),q.defined(I)&&(je.code=I),q.defined(oe)&&(je.source=oe),q.defined(Be)&&(je.relatedInformation=Be),je}f.create=S;function E(v){var c,T=v;return q.defined(T)&&a.is(T.range)&&q.string(T.message)&&(q.number(T.severity)||q.undefined(T.severity))&&(q.integer(T.code)||q.string(T.code)||q.undefined(T.code))&&(q.undefined(T.codeDescription)||q.string((c=T.codeDescription)===null||c===void 0?void 0:c.href))&&(q.string(T.source)||q.undefined(T.source))&&(q.undefined(T.relatedInformation)||q.typedArray(T.relatedInformation,D.is))}f.is=E})(y||(e.Diagnostic=y={}));var C;(function(f){function S(v,c){for(var T=[],I=2;I<arguments.length;I++)T[I-2]=arguments[I];var oe={title:v,command:c};return q.defined(T)&&T.length>0&&(oe.arguments=T),oe}f.create=S;function E(v){var c=v;return q.defined(c)&&q.string(c.title)&&q.string(c.command)}f.is=E})(C||(e.Command=C={}));var L;(function(f){function S(T,I){return{range:T,newText:I}}f.replace=S;function E(T,I){return{range:{start:T,end:T},newText:I}}f.insert=E;function v(T){return{range:T,newText:""}}f.del=v;function c(T){var I=T;return q.objectLiteral(I)&&q.string(I.newText)&&a.is(I.range)}f.is=c})(L||(e.TextEdit=L={}));var k;(function(f){function S(v,c,T){var I={label:v};return c!==void 0&&(I.needsConfirmation=c),T!==void 0&&(I.description=T),I}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&q.string(c.label)&&(q.boolean(c.needsConfirmation)||c.needsConfirmation===void 0)&&(q.string(c.description)||c.description===void 0)}f.is=E})(k||(e.ChangeAnnotation=k={}));var Y;(function(f){function S(E){var v=E;return q.string(v)}f.is=S})(Y||(e.ChangeAnnotationIdentifier=Y={}));var Z;(function(f){function S(T,I,oe){return{range:T,newText:I,annotationId:oe}}f.replace=S;function E(T,I,oe){return{range:{start:T,end:T},newText:I,annotationId:oe}}f.insert=E;function v(T,I){return{range:T,newText:"",annotationId:I}}f.del=v;function c(T){var I=T;return L.is(I)&&(k.is(I.annotationId)||Y.is(I.annotationId))}f.is=c})(Z||(e.AnnotatedTextEdit=Z={}));var Ee;(function(f){function S(v,c){return{textDocument:v,edits:c}}f.create=S;function E(v){var c=v;return q.defined(c)&&ue.is(c.textDocument)&&Array.isArray(c.edits)}f.is=E})(Ee||(e.TextDocumentEdit=Ee={}));var W;(function(f){function S(v,c,T){var I={kind:"create",uri:v};return c!==void 0&&(c.overwrite!==void 0||c.ignoreIfExists!==void 0)&&(I.options=c),T!==void 0&&(I.annotationId=T),I}f.create=S;function E(v){var c=v;return c&&c.kind==="create"&&q.string(c.uri)&&(c.options===void 0||(c.options.overwrite===void 0||q.boolean(c.options.overwrite))&&(c.options.ignoreIfExists===void 0||q.boolean(c.options.ignoreIfExists)))&&(c.annotationId===void 0||Y.is(c.annotationId))}f.is=E})(W||(e.CreateFile=W={}));var x;(function(f){function S(v,c,T,I){var oe={kind:"rename",oldUri:v,newUri:c};return T!==void 0&&(T.overwrite!==void 0||T.ignoreIfExists!==void 0)&&(oe.options=T),I!==void 0&&(oe.annotationId=I),oe}f.create=S;function E(v){var c=v;return c&&c.kind==="rename"&&q.string(c.oldUri)&&q.string(c.newUri)&&(c.options===void 0||(c.options.overwrite===void 0||q.boolean(c.options.overwrite))&&(c.options.ignoreIfExists===void 0||q.boolean(c.options.ignoreIfExists)))&&(c.annotationId===void 0||Y.is(c.annotationId))}f.is=E})(x||(e.RenameFile=x={}));var z;(function(f){function S(v,c,T){var I={kind:"delete",uri:v};return c!==void 0&&(c.recursive!==void 0||c.ignoreIfNotExists!==void 0)&&(I.options=c),T!==void 0&&(I.annotationId=T),I}f.create=S;function E(v){var c=v;return c&&c.kind==="delete"&&q.string(c.uri)&&(c.options===void 0||(c.options.recursive===void 0||q.boolean(c.options.recursive))&&(c.options.ignoreIfNotExists===void 0||q.boolean(c.options.ignoreIfNotExists)))&&(c.annotationId===void 0||Y.is(c.annotationId))}f.is=E})(z||(e.DeleteFile=z={}));var B;(function(f){function S(E){var v=E;return v&&(v.changes!==void 0||v.documentChanges!==void 0)&&(v.documentChanges===void 0||v.documentChanges.every(function(c){return q.string(c.kind)?W.is(c)||x.is(c)||z.is(c):Ee.is(c)}))}f.is=S})(B||(e.WorkspaceEdit=B={}));var ce=function(){function f(S,E){this.edits=S,this.changeAnnotations=E}return f.prototype.insert=function(S,E,v){var c,T;if(v===void 0?c=L.insert(S,E):Y.is(v)?(T=v,c=Z.insert(S,E,v)):(this.assertChangeAnnotations(this.changeAnnotations),T=this.changeAnnotations.manage(v),c=Z.insert(S,E,T)),this.edits.push(c),T!==void 0)return T},f.prototype.replace=function(S,E,v){var c,T;if(v===void 0?c=L.replace(S,E):Y.is(v)?(T=v,c=Z.replace(S,E,v)):(this.assertChangeAnnotations(this.changeAnnotations),T=this.changeAnnotations.manage(v),c=Z.replace(S,E,T)),this.edits.push(c),T!==void 0)return T},f.prototype.delete=function(S,E){var v,c;if(E===void 0?v=L.del(S):Y.is(E)?(c=E,v=Z.del(S,E)):(this.assertChangeAnnotations(this.changeAnnotations),c=this.changeAnnotations.manage(E),v=Z.del(S,c)),this.edits.push(v),c!==void 0)return c},f.prototype.add=function(S){this.edits.push(S)},f.prototype.all=function(){return this.edits},f.prototype.clear=function(){this.edits.splice(0,this.edits.length)},f.prototype.assertChangeAnnotations=function(S){if(S===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},f}(),he=function(){function f(S){this._annotations=S===void 0?Object.create(null):S,this._counter=0,this._size=0}return f.prototype.all=function(){return this._annotations},Object.defineProperty(f.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),f.prototype.manage=function(S,E){var v;if(Y.is(S)?v=S:(v=this.nextId(),E=S),this._annotations[v]!==void 0)throw new Error("Id ".concat(v," is already in use."));if(E===void 0)throw new Error("No annotation provided for id ".concat(v));return this._annotations[v]=E,this._size++,v},f.prototype.nextId=function(){return this._counter++,this._counter.toString()},f}(),O=function(){function f(S){var E=this;this._textEditChanges=Object.create(null),S!==void 0?(this._workspaceEdit=S,S.documentChanges?(this._changeAnnotations=new he(S.changeAnnotations),S.changeAnnotations=this._changeAnnotations.all(),S.documentChanges.forEach(function(v){if(Ee.is(v)){var c=new ce(v.edits,E._changeAnnotations);E._textEditChanges[v.textDocument.uri]=c}})):S.changes&&Object.keys(S.changes).forEach(function(v){var c=new ce(S.changes[v]);E._textEditChanges[v]=c})):this._workspaceEdit={}}return Object.defineProperty(f.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),f.prototype.getTextEditChange=function(S){if(ue.is(S)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var E={uri:S.uri,version:S.version},v=this._textEditChanges[E.uri];if(!v){var c=[],T={textDocument:E,edits:c};this._workspaceEdit.documentChanges.push(T),v=new ce(c,this._changeAnnotations),this._textEditChanges[E.uri]=v}return v}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var v=this._textEditChanges[S];if(!v){var c=[];this._workspaceEdit.changes[S]=c,v=new ce(c),this._textEditChanges[S]=v}return v}},f.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new he,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},f.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},f.prototype.createFile=function(S,E,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var c;k.is(E)||Y.is(E)?c=E:v=E;var T,I;if(c===void 0?T=W.create(S,v):(I=Y.is(c)?c:this._changeAnnotations.manage(c),T=W.create(S,v,I)),this._workspaceEdit.documentChanges.push(T),I!==void 0)return I},f.prototype.renameFile=function(S,E,v,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;k.is(v)||Y.is(v)?T=v:c=v;var I,oe;if(T===void 0?I=x.create(S,E,c):(oe=Y.is(T)?T:this._changeAnnotations.manage(T),I=x.create(S,E,c,oe)),this._workspaceEdit.documentChanges.push(I),oe!==void 0)return oe},f.prototype.deleteFile=function(S,E,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var c;k.is(E)||Y.is(E)?c=E:v=E;var T,I;if(c===void 0?T=z.create(S,v):(I=Y.is(c)?c:this._changeAnnotations.manage(c),T=z.create(S,v,I)),this._workspaceEdit.documentChanges.push(T),I!==void 0)return I},f}();e.WorkspaceChange=O;var H;(function(f){function S(v){return{uri:v}}f.create=S;function E(v){var c=v;return q.defined(c)&&q.string(c.uri)}f.is=E})(H||(e.TextDocumentIdentifier=H={}));var re;(function(f){function S(v,c){return{uri:v,version:c}}f.create=S;function E(v){var c=v;return q.defined(c)&&q.string(c.uri)&&q.integer(c.version)}f.is=E})(re||(e.VersionedTextDocumentIdentifier=re={}));var ue;(function(f){function S(v,c){return{uri:v,version:c}}f.create=S;function E(v){var c=v;return q.defined(c)&&q.string(c.uri)&&(c.version===null||q.integer(c.version))}f.is=E})(ue||(e.OptionalVersionedTextDocumentIdentifier=ue={}));var J;(function(f){function S(v,c,T,I){return{uri:v,languageId:c,version:T,text:I}}f.create=S;function E(v){var c=v;return q.defined(c)&&q.string(c.uri)&&q.string(c.languageId)&&q.integer(c.version)&&q.string(c.text)}f.is=E})(J||(e.TextDocumentItem=J={}));var st;(function(f){f.PlainText="plaintext",f.Markdown="markdown";function S(E){var v=E;return v===f.PlainText||v===f.Markdown}f.is=S})(st||(e.MarkupKind=st={}));var _t;(function(f){function S(E){var v=E;return q.objectLiteral(E)&&st.is(v.kind)&&q.string(v.value)}f.is=S})(_t||(e.MarkupContent=_t={}));var xr;(function(f){f.Text=1,f.Method=2,f.Function=3,f.Constructor=4,f.Field=5,f.Variable=6,f.Class=7,f.Interface=8,f.Module=9,f.Property=10,f.Unit=11,f.Value=12,f.Enum=13,f.Keyword=14,f.Snippet=15,f.Color=16,f.File=17,f.Reference=18,f.Folder=19,f.EnumMember=20,f.Constant=21,f.Struct=22,f.Event=23,f.Operator=24,f.TypeParameter=25})(xr||(e.CompletionItemKind=xr={}));var Ir;(function(f){f.PlainText=1,f.Snippet=2})(Ir||(e.InsertTextFormat=Ir={}));var Tn;(function(f){f.Deprecated=1})(Tn||(e.CompletionItemTag=Tn={}));var an;(function(f){function S(v,c,T){return{newText:v,insert:c,replace:T}}f.create=S;function E(v){var c=v;return c&&q.string(c.newText)&&a.is(c.insert)&&a.is(c.replace)}f.is=E})(an||(e.InsertReplaceEdit=an={}));var Qi;(function(f){f.asIs=1,f.adjustIndentation=2})(Qi||(e.InsertTextMode=Qi={}));var ht;(function(f){function S(E){var v=E;return v&&(q.string(v.detail)||v.detail===void 0)&&(q.string(v.description)||v.description===void 0)}f.is=S})(ht||(e.CompletionItemLabelDetails=ht={}));var pi;(function(f){function S(E){return{label:E}}f.create=S})(pi||(e.CompletionItem=pi={}));var Zi;(function(f){function S(E,v){return{items:E||[],isIncomplete:!!v}}f.create=S})(Zi||(e.CompletionList=Zi={}));var un;(function(f){function S(v){return v.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}f.fromPlainText=S;function E(v){var c=v;return q.string(c)||q.objectLiteral(c)&&q.string(c.language)&&q.string(c.value)}f.is=E})(un||(e.MarkedString=un={}));var At;(function(f){function S(E){var v=E;return!!v&&q.objectLiteral(v)&&(_t.is(v.contents)||un.is(v.contents)||q.typedArray(v.contents,un.is))&&(E.range===void 0||a.is(E.range))}f.is=S})(At||(e.Hover=At={}));var ln;(function(f){function S(E,v){return v?{label:E,documentation:v}:{label:E}}f.create=S})(ln||(e.ParameterInformation=ln={}));var cn;(function(f){function S(E,v){for(var c=[],T=2;T<arguments.length;T++)c[T-2]=arguments[T];var I={label:E};return q.defined(v)&&(I.documentation=v),q.defined(c)?I.parameters=c:I.parameters=[],I}f.create=S})(cn||(e.SignatureInformation=cn={}));var fn;(function(f){f.Text=1,f.Read=2,f.Write=3})(fn||(e.DocumentHighlightKind=fn={}));var Lr;(function(f){function S(E,v){var c={range:E};return q.number(v)&&(c.kind=v),c}f.create=S})(Lr||(e.DocumentHighlight=Lr={}));var Vt;(function(f){f.File=1,f.Module=2,f.Namespace=3,f.Package=4,f.Class=5,f.Method=6,f.Property=7,f.Field=8,f.Constructor=9,f.Enum=10,f.Interface=11,f.Function=12,f.Variable=13,f.Constant=14,f.String=15,f.Number=16,f.Boolean=17,f.Array=18,f.Object=19,f.Key=20,f.Null=21,f.EnumMember=22,f.Struct=23,f.Event=24,f.Operator=25,f.TypeParameter=26})(Vt||(e.SymbolKind=Vt={}));var qn;(function(f){f.Deprecated=1})(qn||(e.SymbolTag=qn={}));var vr;(function(f){function S(E,v,c,T,I){var oe={name:E,kind:v,location:{uri:T,range:c}};return I&&(oe.containerName=I),oe}f.create=S})(vr||(e.SymbolInformation=vr={}));var yr;(function(f){function S(E,v,c,T){return T!==void 0?{name:E,kind:v,location:{uri:c,range:T}}:{name:E,kind:v,location:{uri:c}}}f.create=S})(yr||(e.WorkspaceSymbol=yr={}));var Qa;(function(f){function S(v,c,T,I,oe,Be){var je={name:v,detail:c,kind:T,range:I,selectionRange:oe};return Be!==void 0&&(je.children=Be),je}f.create=S;function E(v){var c=v;return c&&q.string(c.name)&&q.number(c.kind)&&a.is(c.range)&&a.is(c.selectionRange)&&(c.detail===void 0||q.string(c.detail))&&(c.deprecated===void 0||q.boolean(c.deprecated))&&(c.children===void 0||Array.isArray(c.children))&&(c.tags===void 0||Array.isArray(c.tags))}f.is=E})(Qa||(e.DocumentSymbol=Qa={}));var Za;(function(f){f.Empty="",f.QuickFix="quickfix",f.Refactor="refactor",f.RefactorExtract="refactor.extract",f.RefactorInline="refactor.inline",f.RefactorRewrite="refactor.rewrite",f.Source="source",f.SourceOrganizeImports="source.organizeImports",f.SourceFixAll="source.fixAll"})(Za||(e.CodeActionKind=Za={}));var Fr;(function(f){f.Invoked=1,f.Automatic=2})(Fr||(e.CodeActionTriggerKind=Fr={}));var Ds;(function(f){function S(v,c,T){var I={diagnostics:v};return c!=null&&(I.only=c),T!=null&&(I.triggerKind=T),I}f.create=S;function E(v){var c=v;return q.defined(c)&&q.typedArray(c.diagnostics,y.is)&&(c.only===void 0||q.typedArray(c.only,q.string))&&(c.triggerKind===void 0||c.triggerKind===Fr.Invoked||c.triggerKind===Fr.Automatic)}f.is=E})(Ds||(e.CodeActionContext=Ds={}));var Ps;(function(f){function S(v,c,T){var I={title:v},oe=!0;return typeof c=="string"?(oe=!1,I.kind=c):C.is(c)?I.command=c:I.edit=c,oe&&T!==void 0&&(I.kind=T),I}f.create=S;function E(v){var c=v;return c&&q.string(c.title)&&(c.diagnostics===void 0||q.typedArray(c.diagnostics,y.is))&&(c.kind===void 0||q.string(c.kind))&&(c.edit!==void 0||c.command!==void 0)&&(c.command===void 0||C.is(c.command))&&(c.isPreferred===void 0||q.boolean(c.isPreferred))&&(c.edit===void 0||B.is(c.edit))}f.is=E})(Ps||(e.CodeAction=Ps={}));var eo;(function(f){function S(v,c){var T={range:v};return q.defined(c)&&(T.data=c),T}f.create=S;function E(v){var c=v;return q.defined(c)&&a.is(c.range)&&(q.undefined(c.command)||C.is(c.command))}f.is=E})(eo||(e.CodeLens=eo={}));var Ts;(function(f){function S(v,c){return{tabSize:v,insertSpaces:c}}f.create=S;function E(v){var c=v;return q.defined(c)&&q.uinteger(c.tabSize)&&q.boolean(c.insertSpaces)}f.is=E})(Ts||(e.FormattingOptions=Ts={}));var dn;(function(f){function S(v,c,T){return{range:v,target:c,data:T}}f.create=S;function E(v){var c=v;return q.defined(c)&&a.is(c.range)&&(q.undefined(c.target)||q.string(c.target))}f.is=E})(dn||(e.DocumentLink=dn={}));var w;(function(f){function S(v,c){return{range:v,parent:c}}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&a.is(c.range)&&(c.parent===void 0||f.is(c.parent))}f.is=E})(w||(e.SelectionRange=w={}));var j;(function(f){f.namespace="namespace",f.type="type",f.class="class",f.enum="enum",f.interface="interface",f.struct="struct",f.typeParameter="typeParameter",f.parameter="parameter",f.variable="variable",f.property="property",f.enumMember="enumMember",f.event="event",f.function="function",f.method="method",f.macro="macro",f.keyword="keyword",f.modifier="modifier",f.comment="comment",f.string="string",f.number="number",f.regexp="regexp",f.operator="operator",f.decorator="decorator"})(j||(e.SemanticTokenTypes=j={}));var $;(function(f){f.declaration="declaration",f.definition="definition",f.readonly="readonly",f.static="static",f.deprecated="deprecated",f.abstract="abstract",f.async="async",f.modification="modification",f.documentation="documentation",f.defaultLibrary="defaultLibrary"})($||(e.SemanticTokenModifiers=$={}));var X;(function(f){function S(E){var v=E;return q.objectLiteral(v)&&(v.resultId===void 0||typeof v.resultId=="string")&&Array.isArray(v.data)&&(v.data.length===0||typeof v.data[0]=="number")}f.is=S})(X||(e.SemanticTokens=X={}));var Me;(function(f){function S(v,c){return{range:v,text:c}}f.create=S;function E(v){var c=v;return c!=null&&a.is(c.range)&&q.string(c.text)}f.is=E})(Me||(e.InlineValueText=Me={}));var Pe;(function(f){function S(v,c,T){return{range:v,variableName:c,caseSensitiveLookup:T}}f.create=S;function E(v){var c=v;return c!=null&&a.is(c.range)&&q.boolean(c.caseSensitiveLookup)&&(q.string(c.variableName)||c.variableName===void 0)}f.is=E})(Pe||(e.InlineValueVariableLookup=Pe={}));var Ie;(function(f){function S(v,c){return{range:v,expression:c}}f.create=S;function E(v){var c=v;return c!=null&&a.is(c.range)&&(q.string(c.expression)||c.expression===void 0)}f.is=E})(Ie||(e.InlineValueEvaluatableExpression=Ie={}));var $e;(function(f){function S(v,c){return{frameId:v,stoppedLocation:c}}f.create=S;function E(v){var c=v;return q.defined(c)&&a.is(v.stoppedLocation)}f.is=E})($e||(e.InlineValueContext=$e={}));var ge;(function(f){f.Type=1,f.Parameter=2;function S(E){return E===1||E===2}f.is=S})(ge||(e.InlayHintKind=ge={}));var Ce;(function(f){function S(v){return{value:v}}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&(c.tooltip===void 0||q.string(c.tooltip)||_t.is(c.tooltip))&&(c.location===void 0||u.is(c.location))&&(c.command===void 0||C.is(c.command))}f.is=E})(Ce||(e.InlayHintLabelPart=Ce={}));var we;(function(f){function S(v,c,T){var I={position:v,label:c};return T!==void 0&&(I.kind=T),I}f.create=S;function E(v){var c=v;return q.objectLiteral(c)&&s.is(c.position)&&(q.string(c.label)||q.typedArray(c.label,Ce.is))&&(c.kind===void 0||ge.is(c.kind))&&c.textEdits===void 0||q.typedArray(c.textEdits,L.is)&&(c.tooltip===void 0||q.string(c.tooltip)||_t.is(c.tooltip))&&(c.paddingLeft===void 0||q.boolean(c.paddingLeft))&&(c.paddingRight===void 0||q.boolean(c.paddingRight))}f.is=E})(we||(e.InlayHint=we={}));var Ue;(function(f){function S(E){return{kind:"snippet",value:E}}f.createSnippet=S})(Ue||(e.StringValue=Ue={}));var tt;(function(f){function S(E,v,c,T){return{insertText:E,filterText:v,range:c,command:T}}f.create=S})(tt||(e.InlineCompletionItem=tt={}));var Yt;(function(f){function S(E){return{items:E}}f.create=S})(Yt||(e.InlineCompletionList=Yt={}));var eu;(function(f){f.Invoked=0,f.Automatic=1})(eu||(e.InlineCompletionTriggerKind=eu={}));var Sv;(function(f){function S(E,v){return{range:E,text:v}}f.create=S})(Sv||(e.SelectedCompletionInfo=Sv={}));var Ev;(function(f){function S(E,v){return{triggerKind:E,selectedCompletionInfo:v}}f.create=S})(Ev||(e.InlineCompletionContext=Ev={}));var Dv;(function(f){function S(E){var v=E;return q.objectLiteral(v)&&n.is(v.uri)&&q.string(v.name)}f.is=S})(Dv||(e.WorkspaceFolder=Dv={})),e.EOL=[`
`,`\r
`,"\r"];var Pv;(function(f){function S(T,I,oe,Be){return new IO(T,I,oe,Be)}f.create=S;function E(T){var I=T;return!!(q.defined(I)&&q.string(I.uri)&&(q.undefined(I.languageId)||q.string(I.languageId))&&q.uinteger(I.lineCount)&&q.func(I.getText)&&q.func(I.positionAt)&&q.func(I.offsetAt))}f.is=E;function v(T,I){for(var oe=T.getText(),Be=c(I,function(to,tu){var Tv=to.range.start.line-tu.range.start.line;return Tv===0?to.range.start.character-tu.range.start.character:Tv}),je=oe.length,br=Be.length-1;br>=0;br--){var _r=Be[br],hn=T.offsetAt(_r.range.start),me=T.offsetAt(_r.range.end);if(me<=je)oe=oe.substring(0,hn)+_r.newText+oe.substring(me,oe.length);else throw new Error("Overlapping edit");je=hn}return oe}f.applyEdits=v;function c(T,I){if(T.length<=1)return T;var oe=T.length/2|0,Be=T.slice(0,oe),je=T.slice(oe);c(Be,I),c(je,I);for(var br=0,_r=0,hn=0;br<Be.length&&_r<je.length;){var me=I(Be[br],je[_r]);me<=0?T[hn++]=Be[br++]:T[hn++]=je[_r++]}for(;br<Be.length;)T[hn++]=Be[br++];for(;_r<je.length;)T[hn++]=je[_r++];return T}})(Pv||(e.TextDocument=Pv={}));var IO=function(){function f(S,E,v,c){this._uri=S,this._languageId=E,this._version=v,this._content=c,this._lineOffsets=void 0}return Object.defineProperty(f.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),f.prototype.getText=function(S){if(S){var E=this.offsetAt(S.start),v=this.offsetAt(S.end);return this._content.substring(E,v)}return this._content},f.prototype.update=function(S,E){this._content=S.text,this._version=E,this._lineOffsets=void 0},f.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var S=[],E=this._content,v=!0,c=0;c<E.length;c++){v&&(S.push(c),v=!1);var T=E.charAt(c);v=T==="\r"||T===`
`,T==="\r"&&c+1<E.length&&E.charAt(c+1)===`
`&&c++}v&&E.length>0&&S.push(E.length),this._lineOffsets=S}return this._lineOffsets},f.prototype.positionAt=function(S){S=Math.max(Math.min(S,this._content.length),0);var E=this.getLineOffsets(),v=0,c=E.length;if(c===0)return s.create(0,S);for(;v<c;){var T=Math.floor((v+c)/2);E[T]>S?c=T:v=T+1}var I=v-1;return s.create(I,S-E[I])},f.prototype.offsetAt=function(S){var E=this.getLineOffsets();if(S.line>=E.length)return this._content.length;if(S.line<0)return 0;var v=E[S.line],c=S.line+1<E.length?E[S.line+1]:this._content.length;return Math.max(Math.min(v+S.character,c),v)},Object.defineProperty(f.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),f}(),q;(function(f){var S=Object.prototype.toString;function E(me){return typeof me<"u"}f.defined=E;function v(me){return typeof me>"u"}f.undefined=v;function c(me){return me===!0||me===!1}f.boolean=c;function T(me){return S.call(me)==="[object String]"}f.string=T;function I(me){return S.call(me)==="[object Number]"}f.number=I;function oe(me,to,tu){return S.call(me)==="[object Number]"&&to<=me&&me<=tu}f.numberRange=oe;function Be(me){return S.call(me)==="[object Number]"&&-2147483648<=me&&me<=2147483647}f.integer=Be;function je(me){return S.call(me)==="[object Number]"&&0<=me&&me<=2147483647}f.uinteger=je;function br(me){return S.call(me)==="[object Function]"}f.func=br;function _r(me){return me!==null&&typeof me=="object"}f.objectLiteral=_r;function hn(me,to){return Array.isArray(me)&&me.every(to)}f.typedArray=hn})(q||(q={}))})});var We=m(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.ProtocolNotificationType=jt.ProtocolNotificationType0=jt.ProtocolRequestType=jt.ProtocolRequestType0=jt.RegistrationType=jt.MessageDirection=void 0;var co=bi(),uy;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(uy||(jt.MessageDirection=uy={}));var lh=class{constructor(e){this.method=e}};jt.RegistrationType=lh;var ch=class extends co.RequestType0{constructor(e){super(e)}};jt.ProtocolRequestType0=ch;var fh=class extends co.RequestType{constructor(e){super(e,co.ParameterStructures.byName)}};jt.ProtocolRequestType=fh;var dh=class extends co.NotificationType0{constructor(e){super(e)}};jt.ProtocolNotificationType0=dh;var hh=class extends co.NotificationType{constructor(e){super(e,co.ParameterStructures.byName)}};jt.ProtocolNotificationType=hh});var Du=m(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.objectLiteral=Je.typedArray=Je.stringArray=Je.array=Je.func=Je.error=Je.number=Je.string=Je.boolean=void 0;function SM(t){return t===!0||t===!1}Je.boolean=SM;function ly(t){return typeof t=="string"||t instanceof String}Je.string=ly;function EM(t){return typeof t=="number"||t instanceof Number}Je.number=EM;function DM(t){return t instanceof Error}Je.error=DM;function PM(t){return typeof t=="function"}Je.func=PM;function cy(t){return Array.isArray(t)}Je.array=cy;function TM(t){return cy(t)&&t.every(e=>ly(e))}Je.stringArray=TM;function qM(t,e){return Array.isArray(t)&&t.every(e)}Je.typedArray=qM;function OM(t){return t!==null&&typeof t=="object"}Je.objectLiteral=OM});var hy=m(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.ImplementationRequest=void 0;var fy=We(),dy;(function(t){t.method="textDocument/implementation",t.messageDirection=fy.MessageDirection.clientToServer,t.type=new fy.ProtocolRequestType(t.method)})(dy||(Pu.ImplementationRequest=dy={}))});var my=m(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.TypeDefinitionRequest=void 0;var gy=We(),py;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=gy.MessageDirection.clientToServer,t.type=new gy.ProtocolRequestType(t.method)})(py||(Tu.TypeDefinitionRequest=py={}))});var by=m(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.DidChangeWorkspaceFoldersNotification=fo.WorkspaceFoldersRequest=void 0;var qu=We(),vy;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=qu.MessageDirection.serverToClient,t.type=new qu.ProtocolRequestType0(t.method)})(vy||(fo.WorkspaceFoldersRequest=vy={}));var yy;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=qu.MessageDirection.clientToServer,t.type=new qu.ProtocolNotificationType(t.method)})(yy||(fo.DidChangeWorkspaceFoldersNotification=yy={}))});var Ry=m(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.ConfigurationRequest=void 0;var _y=We(),wy;(function(t){t.method="workspace/configuration",t.messageDirection=_y.MessageDirection.serverToClient,t.type=new _y.ProtocolRequestType(t.method)})(wy||(Ou.ConfigurationRequest=wy={}))});var Dy=m(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.ColorPresentationRequest=ho.DocumentColorRequest=void 0;var Mu=We(),Sy;(function(t){t.method="textDocument/documentColor",t.messageDirection=Mu.MessageDirection.clientToServer,t.type=new Mu.ProtocolRequestType(t.method)})(Sy||(ho.DocumentColorRequest=Sy={}));var Ey;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Mu.MessageDirection.clientToServer,t.type=new Mu.ProtocolRequestType(t.method)})(Ey||(ho.ColorPresentationRequest=Ey={}))});var qy=m(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.FoldingRangeRefreshRequest=go.FoldingRangeRequest=void 0;var Cu=We(),Py;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Cu.MessageDirection.clientToServer,t.type=new Cu.ProtocolRequestType(t.method)})(Py||(go.FoldingRangeRequest=Py={}));var Ty;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=Cu.MessageDirection.serverToClient,t.type=new Cu.ProtocolRequestType0(t.method)})(Ty||(go.FoldingRangeRefreshRequest=Ty={}))});var Cy=m(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.DeclarationRequest=void 0;var Oy=We(),My;(function(t){t.method="textDocument/declaration",t.messageDirection=Oy.MessageDirection.clientToServer,t.type=new Oy.ProtocolRequestType(t.method)})(My||(Au.DeclarationRequest=My={}))});var jy=m(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.SelectionRangeRequest=void 0;var Ay=We(),Ny;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Ay.MessageDirection.clientToServer,t.type=new Ay.ProtocolRequestType(t.method)})(Ny||(Nu.SelectionRangeRequest=Ny={}))});var Fy=m(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.WorkDoneProgressCancelNotification=Nn.WorkDoneProgressCreateRequest=Nn.WorkDoneProgress=void 0;var MM=bi(),ju=We(),xy;(function(t){t.type=new MM.ProgressType;function e(r){return r===t.type}t.is=e})(xy||(Nn.WorkDoneProgress=xy={}));var Iy;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=ju.MessageDirection.serverToClient,t.type=new ju.ProtocolRequestType(t.method)})(Iy||(Nn.WorkDoneProgressCreateRequest=Iy={}));var Ly;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=ju.MessageDirection.clientToServer,t.type=new ju.ProtocolNotificationType(t.method)})(Ly||(Nn.WorkDoneProgressCancelNotification=Ly={}))});var Hy=m(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.CallHierarchyOutgoingCallsRequest=jn.CallHierarchyIncomingCallsRequest=jn.CallHierarchyPrepareRequest=void 0;var po=We(),ky;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=po.MessageDirection.clientToServer,t.type=new po.ProtocolRequestType(t.method)})(ky||(jn.CallHierarchyPrepareRequest=ky={}));var $y;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=po.MessageDirection.clientToServer,t.type=new po.ProtocolRequestType(t.method)})($y||(jn.CallHierarchyIncomingCallsRequest=$y={}));var Wy;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=po.MessageDirection.clientToServer,t.type=new po.ProtocolRequestType(t.method)})(Wy||(jn.CallHierarchyOutgoingCallsRequest=Wy={}))});var Yy=m(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.SemanticTokensRefreshRequest=xt.SemanticTokensRangeRequest=xt.SemanticTokensDeltaRequest=xt.SemanticTokensRequest=xt.SemanticTokensRegistrationType=xt.TokenFormat=void 0;var pn=We(),Uy;(function(t){t.Relative="relative"})(Uy||(xt.TokenFormat=Uy={}));var js;(function(t){t.method="textDocument/semanticTokens",t.type=new pn.RegistrationType(t.method)})(js||(xt.SemanticTokensRegistrationType=js={}));var By;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolRequestType(t.method),t.registrationMethod=js.method})(By||(xt.SemanticTokensRequest=By={}));var zy;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolRequestType(t.method),t.registrationMethod=js.method})(zy||(xt.SemanticTokensDeltaRequest=zy={}));var Gy;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolRequestType(t.method),t.registrationMethod=js.method})(Gy||(xt.SemanticTokensRangeRequest=Gy={}));var Vy;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=pn.MessageDirection.serverToClient,t.type=new pn.ProtocolRequestType0(t.method)})(Vy||(xt.SemanticTokensRefreshRequest=Vy={}))});var Jy=m(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.ShowDocumentRequest=void 0;var Ky=We(),Xy;(function(t){t.method="window/showDocument",t.messageDirection=Ky.MessageDirection.serverToClient,t.type=new Ky.ProtocolRequestType(t.method)})(Xy||(xu.ShowDocumentRequest=Xy={}))});var eb=m(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.LinkedEditingRangeRequest=void 0;var Qy=We(),Zy;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Qy.MessageDirection.clientToServer,t.type=new Qy.ProtocolRequestType(t.method)})(Zy||(Iu.LinkedEditingRangeRequest=Zy={}))});var ub=m(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.WillDeleteFilesRequest=mt.DidDeleteFilesNotification=mt.DidRenameFilesNotification=mt.WillRenameFilesRequest=mt.DidCreateFilesNotification=mt.WillCreateFilesRequest=mt.FileOperationPatternKind=void 0;var er=We(),tb;(function(t){t.file="file",t.folder="folder"})(tb||(mt.FileOperationPatternKind=tb={}));var rb;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(rb||(mt.WillCreateFilesRequest=rb={}));var nb;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolNotificationType(t.method)})(nb||(mt.DidCreateFilesNotification=nb={}));var ib;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(ib||(mt.WillRenameFilesRequest=ib={}));var ob;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolNotificationType(t.method)})(ob||(mt.DidRenameFilesNotification=ob={}));var sb;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolNotificationType(t.method)})(sb||(mt.DidDeleteFilesNotification=sb={}));var ab;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(ab||(mt.WillDeleteFilesRequest=ab={}))});var hb=m(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.MonikerRequest=xn.MonikerKind=xn.UniquenessLevel=void 0;var lb=We(),cb;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(cb||(xn.UniquenessLevel=cb={}));var fb;(function(t){t.$import="import",t.$export="export",t.local="local"})(fb||(xn.MonikerKind=fb={}));var db;(function(t){t.method="textDocument/moniker",t.messageDirection=lb.MessageDirection.clientToServer,t.type=new lb.ProtocolRequestType(t.method)})(db||(xn.MonikerRequest=db={}))});var vb=m(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.TypeHierarchySubtypesRequest=In.TypeHierarchySupertypesRequest=In.TypeHierarchyPrepareRequest=void 0;var mo=We(),gb;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=mo.MessageDirection.clientToServer,t.type=new mo.ProtocolRequestType(t.method)})(gb||(In.TypeHierarchyPrepareRequest=gb={}));var pb;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=mo.MessageDirection.clientToServer,t.type=new mo.ProtocolRequestType(t.method)})(pb||(In.TypeHierarchySupertypesRequest=pb={}));var mb;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=mo.MessageDirection.clientToServer,t.type=new mo.ProtocolRequestType(t.method)})(mb||(In.TypeHierarchySubtypesRequest=mb={}))});var _b=m(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.InlineValueRefreshRequest=vo.InlineValueRequest=void 0;var Lu=We(),yb;(function(t){t.method="textDocument/inlineValue",t.messageDirection=Lu.MessageDirection.clientToServer,t.type=new Lu.ProtocolRequestType(t.method)})(yb||(vo.InlineValueRequest=yb={}));var bb;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=Lu.MessageDirection.serverToClient,t.type=new Lu.ProtocolRequestType0(t.method)})(bb||(vo.InlineValueRefreshRequest=bb={}))});var Eb=m(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.InlayHintRefreshRequest=Ln.InlayHintResolveRequest=Ln.InlayHintRequest=void 0;var yo=We(),wb;(function(t){t.method="textDocument/inlayHint",t.messageDirection=yo.MessageDirection.clientToServer,t.type=new yo.ProtocolRequestType(t.method)})(wb||(Ln.InlayHintRequest=wb={}));var Rb;(function(t){t.method="inlayHint/resolve",t.messageDirection=yo.MessageDirection.clientToServer,t.type=new yo.ProtocolRequestType(t.method)})(Rb||(Ln.InlayHintResolveRequest=Rb={}));var Sb;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=yo.MessageDirection.serverToClient,t.type=new yo.ProtocolRequestType0(t.method)})(Sb||(Ln.InlayHintRefreshRequest=Sb={}))});var Cb=m(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.DiagnosticRefreshRequest=tr.WorkspaceDiagnosticRequest=tr.DocumentDiagnosticRequest=tr.DocumentDiagnosticReportKind=tr.DiagnosticServerCancellationData=void 0;var Mb=bi(),CM=Du(),bo=We(),Db;(function(t){function e(r){let n=r;return n&&CM.boolean(n.retriggerRequest)}t.is=e})(Db||(tr.DiagnosticServerCancellationData=Db={}));var Pb;(function(t){t.Full="full",t.Unchanged="unchanged"})(Pb||(tr.DocumentDiagnosticReportKind=Pb={}));var Tb;(function(t){t.method="textDocument/diagnostic",t.messageDirection=bo.MessageDirection.clientToServer,t.type=new bo.ProtocolRequestType(t.method),t.partialResult=new Mb.ProgressType})(Tb||(tr.DocumentDiagnosticRequest=Tb={}));var qb;(function(t){t.method="workspace/diagnostic",t.messageDirection=bo.MessageDirection.clientToServer,t.type=new bo.ProtocolRequestType(t.method),t.partialResult=new Mb.ProgressType})(qb||(tr.WorkspaceDiagnosticRequest=qb={}));var Ob;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=bo.MessageDirection.serverToClient,t.type=new bo.ProtocolRequestType0(t.method)})(Ob||(tr.DiagnosticRefreshRequest=Ob={}))});var Fb=m(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.DidCloseNotebookDocumentNotification=ze.DidSaveNotebookDocumentNotification=ze.DidChangeNotebookDocumentNotification=ze.NotebookCellArrayChange=ze.DidOpenNotebookDocumentNotification=ze.NotebookDocumentSyncRegistrationType=ze.NotebookDocument=ze.NotebookCell=ze.ExecutionSummary=ze.NotebookCellKind=void 0;var xs=kr(),Rr=Du(),$r=We(),gh;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}t.is=e})(gh||(ze.NotebookCellKind=gh={}));var ph;(function(t){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}t.create=e;function r(i){let o=i;return Rr.objectLiteral(o)&&xs.uinteger.is(o.executionOrder)&&(o.success===void 0||Rr.boolean(o.success))}t.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}t.equals=n})(ph||(ze.ExecutionSummary=ph={}));var Fu;(function(t){function e(o,s){return{kind:o,document:s}}t.create=e;function r(o){let s=o;return Rr.objectLiteral(s)&&gh.is(s.kind)&&xs.DocumentUri.is(s.document)&&(s.metadata===void 0||Rr.objectLiteral(s.metadata))}t.is=r;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!ph.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}t.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),u=Array.isArray(s);if(a!==u)return!1;if(a&&u){if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++)if(!i(o[l],s[l]))return!1}if(Rr.objectLiteral(o)&&Rr.objectLiteral(s)){let l=Object.keys(o),d=Object.keys(s);if(l.length!==d.length||(l.sort(),d.sort(),!i(l,d)))return!1;for(let p=0;p<l.length;p++){let g=l[p];if(!i(o[g],s[g]))return!1}}return!0}})(Fu||(ze.NotebookCell=Fu={}));var Ab;(function(t){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}t.create=e;function r(n){let i=n;return Rr.objectLiteral(i)&&Rr.string(i.uri)&&xs.integer.is(i.version)&&Rr.typedArray(i.cells,Fu.is)}t.is=r})(Ab||(ze.NotebookDocument=Ab={}));var _o;(function(t){t.method="notebookDocument/sync",t.messageDirection=$r.MessageDirection.clientToServer,t.type=new $r.RegistrationType(t.method)})(_o||(ze.NotebookDocumentSyncRegistrationType=_o={}));var Nb;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=$r.MessageDirection.clientToServer,t.type=new $r.ProtocolNotificationType(t.method),t.registrationMethod=_o.method})(Nb||(ze.DidOpenNotebookDocumentNotification=Nb={}));var jb;(function(t){function e(n){let i=n;return Rr.objectLiteral(i)&&xs.uinteger.is(i.start)&&xs.uinteger.is(i.deleteCount)&&(i.cells===void 0||Rr.typedArray(i.cells,Fu.is))}t.is=e;function r(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}t.create=r})(jb||(ze.NotebookCellArrayChange=jb={}));var xb;(function(t){t.method="notebookDocument/didChange",t.messageDirection=$r.MessageDirection.clientToServer,t.type=new $r.ProtocolNotificationType(t.method),t.registrationMethod=_o.method})(xb||(ze.DidChangeNotebookDocumentNotification=xb={}));var Ib;(function(t){t.method="notebookDocument/didSave",t.messageDirection=$r.MessageDirection.clientToServer,t.type=new $r.ProtocolNotificationType(t.method),t.registrationMethod=_o.method})(Ib||(ze.DidSaveNotebookDocumentNotification=Ib={}));var Lb;(function(t){t.method="notebookDocument/didClose",t.messageDirection=$r.MessageDirection.clientToServer,t.type=new $r.ProtocolNotificationType(t.method),t.registrationMethod=_o.method})(Lb||(ze.DidCloseNotebookDocumentNotification=Lb={}))});var Wb=m(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.InlineCompletionRequest=void 0;var kb=We(),$b;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=kb.MessageDirection.clientToServer,t.type=new kb.ProtocolRequestType(t.method)})($b||(ku.InlineCompletionRequest=$b={}))});var e0=m(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.WorkspaceSymbolRequest=b.CodeActionResolveRequest=b.CodeActionRequest=b.DocumentSymbolRequest=b.DocumentHighlightRequest=b.ReferencesRequest=b.DefinitionRequest=b.SignatureHelpRequest=b.SignatureHelpTriggerKind=b.HoverRequest=b.CompletionResolveRequest=b.CompletionRequest=b.CompletionTriggerKind=b.PublishDiagnosticsNotification=b.WatchKind=b.RelativePattern=b.FileChangeType=b.DidChangeWatchedFilesNotification=b.WillSaveTextDocumentWaitUntilRequest=b.WillSaveTextDocumentNotification=b.TextDocumentSaveReason=b.DidSaveTextDocumentNotification=b.DidCloseTextDocumentNotification=b.DidChangeTextDocumentNotification=b.TextDocumentContentChangeEvent=b.DidOpenTextDocumentNotification=b.TextDocumentSyncKind=b.TelemetryEventNotification=b.LogMessageNotification=b.ShowMessageRequest=b.ShowMessageNotification=b.MessageType=b.DidChangeConfigurationNotification=b.ExitNotification=b.ShutdownRequest=b.InitializedNotification=b.InitializeErrorCodes=b.InitializeRequest=b.WorkDoneProgressOptions=b.TextDocumentRegistrationOptions=b.StaticRegistrationOptions=b.PositionEncodingKind=b.FailureHandlingKind=b.ResourceOperationKind=b.UnregistrationRequest=b.RegistrationRequest=b.DocumentSelector=b.NotebookCellTextDocumentFilter=b.NotebookDocumentFilter=b.TextDocumentFilter=void 0;b.MonikerRequest=b.MonikerKind=b.UniquenessLevel=b.WillDeleteFilesRequest=b.DidDeleteFilesNotification=b.WillRenameFilesRequest=b.DidRenameFilesNotification=b.WillCreateFilesRequest=b.DidCreateFilesNotification=b.FileOperationPatternKind=b.LinkedEditingRangeRequest=b.ShowDocumentRequest=b.SemanticTokensRegistrationType=b.SemanticTokensRefreshRequest=b.SemanticTokensRangeRequest=b.SemanticTokensDeltaRequest=b.SemanticTokensRequest=b.TokenFormat=b.CallHierarchyPrepareRequest=b.CallHierarchyOutgoingCallsRequest=b.CallHierarchyIncomingCallsRequest=b.WorkDoneProgressCancelNotification=b.WorkDoneProgressCreateRequest=b.WorkDoneProgress=b.SelectionRangeRequest=b.DeclarationRequest=b.FoldingRangeRefreshRequest=b.FoldingRangeRequest=b.ColorPresentationRequest=b.DocumentColorRequest=b.ConfigurationRequest=b.DidChangeWorkspaceFoldersNotification=b.WorkspaceFoldersRequest=b.TypeDefinitionRequest=b.ImplementationRequest=b.ApplyWorkspaceEditRequest=b.ExecuteCommandRequest=b.PrepareRenameRequest=b.RenameRequest=b.PrepareSupportDefaultBehavior=b.DocumentOnTypeFormattingRequest=b.DocumentRangesFormattingRequest=b.DocumentRangeFormattingRequest=b.DocumentFormattingRequest=b.DocumentLinkResolveRequest=b.DocumentLinkRequest=b.CodeLensRefreshRequest=b.CodeLensResolveRequest=b.CodeLensRequest=b.WorkspaceSymbolResolveRequest=void 0;b.InlineCompletionRequest=b.DidCloseNotebookDocumentNotification=b.DidSaveNotebookDocumentNotification=b.DidChangeNotebookDocumentNotification=b.NotebookCellArrayChange=b.DidOpenNotebookDocumentNotification=b.NotebookDocumentSyncRegistrationType=b.NotebookDocument=b.NotebookCell=b.ExecutionSummary=b.NotebookCellKind=b.DiagnosticRefreshRequest=b.WorkspaceDiagnosticRequest=b.DocumentDiagnosticRequest=b.DocumentDiagnosticReportKind=b.DiagnosticServerCancellationData=b.InlayHintRefreshRequest=b.InlayHintResolveRequest=b.InlayHintRequest=b.InlineValueRefreshRequest=b.InlineValueRequest=b.TypeHierarchySupertypesRequest=b.TypeHierarchySubtypesRequest=b.TypeHierarchyPrepareRequest=void 0;var F=We(),Hb=kr(),rt=Du(),AM=hy();Object.defineProperty(b,"ImplementationRequest",{enumerable:!0,get:function(){return AM.ImplementationRequest}});var NM=my();Object.defineProperty(b,"TypeDefinitionRequest",{enumerable:!0,get:function(){return NM.TypeDefinitionRequest}});var X_=by();Object.defineProperty(b,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return X_.WorkspaceFoldersRequest}});Object.defineProperty(b,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return X_.DidChangeWorkspaceFoldersNotification}});var jM=Ry();Object.defineProperty(b,"ConfigurationRequest",{enumerable:!0,get:function(){return jM.ConfigurationRequest}});var J_=Dy();Object.defineProperty(b,"DocumentColorRequest",{enumerable:!0,get:function(){return J_.DocumentColorRequest}});Object.defineProperty(b,"ColorPresentationRequest",{enumerable:!0,get:function(){return J_.ColorPresentationRequest}});var Q_=qy();Object.defineProperty(b,"FoldingRangeRequest",{enumerable:!0,get:function(){return Q_.FoldingRangeRequest}});Object.defineProperty(b,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return Q_.FoldingRangeRefreshRequest}});var xM=Cy();Object.defineProperty(b,"DeclarationRequest",{enumerable:!0,get:function(){return xM.DeclarationRequest}});var IM=jy();Object.defineProperty(b,"SelectionRangeRequest",{enumerable:!0,get:function(){return IM.SelectionRangeRequest}});var _h=Fy();Object.defineProperty(b,"WorkDoneProgress",{enumerable:!0,get:function(){return _h.WorkDoneProgress}});Object.defineProperty(b,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return _h.WorkDoneProgressCreateRequest}});Object.defineProperty(b,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return _h.WorkDoneProgressCancelNotification}});var wh=Hy();Object.defineProperty(b,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return wh.CallHierarchyIncomingCallsRequest}});Object.defineProperty(b,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return wh.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(b,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return wh.CallHierarchyPrepareRequest}});var wo=Yy();Object.defineProperty(b,"TokenFormat",{enumerable:!0,get:function(){return wo.TokenFormat}});Object.defineProperty(b,"SemanticTokensRequest",{enumerable:!0,get:function(){return wo.SemanticTokensRequest}});Object.defineProperty(b,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return wo.SemanticTokensDeltaRequest}});Object.defineProperty(b,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return wo.SemanticTokensRangeRequest}});Object.defineProperty(b,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return wo.SemanticTokensRefreshRequest}});Object.defineProperty(b,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return wo.SemanticTokensRegistrationType}});var LM=Jy();Object.defineProperty(b,"ShowDocumentRequest",{enumerable:!0,get:function(){return LM.ShowDocumentRequest}});var FM=eb();Object.defineProperty(b,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return FM.LinkedEditingRangeRequest}});var _i=ub();Object.defineProperty(b,"FileOperationPatternKind",{enumerable:!0,get:function(){return _i.FileOperationPatternKind}});Object.defineProperty(b,"DidCreateFilesNotification",{enumerable:!0,get:function(){return _i.DidCreateFilesNotification}});Object.defineProperty(b,"WillCreateFilesRequest",{enumerable:!0,get:function(){return _i.WillCreateFilesRequest}});Object.defineProperty(b,"DidRenameFilesNotification",{enumerable:!0,get:function(){return _i.DidRenameFilesNotification}});Object.defineProperty(b,"WillRenameFilesRequest",{enumerable:!0,get:function(){return _i.WillRenameFilesRequest}});Object.defineProperty(b,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return _i.DidDeleteFilesNotification}});Object.defineProperty(b,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return _i.WillDeleteFilesRequest}});var Rh=hb();Object.defineProperty(b,"UniquenessLevel",{enumerable:!0,get:function(){return Rh.UniquenessLevel}});Object.defineProperty(b,"MonikerKind",{enumerable:!0,get:function(){return Rh.MonikerKind}});Object.defineProperty(b,"MonikerRequest",{enumerable:!0,get:function(){return Rh.MonikerRequest}});var Sh=vb();Object.defineProperty(b,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Sh.TypeHierarchyPrepareRequest}});Object.defineProperty(b,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Sh.TypeHierarchySubtypesRequest}});Object.defineProperty(b,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Sh.TypeHierarchySupertypesRequest}});var Z_=_b();Object.defineProperty(b,"InlineValueRequest",{enumerable:!0,get:function(){return Z_.InlineValueRequest}});Object.defineProperty(b,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Z_.InlineValueRefreshRequest}});var Eh=Eb();Object.defineProperty(b,"InlayHintRequest",{enumerable:!0,get:function(){return Eh.InlayHintRequest}});Object.defineProperty(b,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Eh.InlayHintResolveRequest}});Object.defineProperty(b,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Eh.InlayHintRefreshRequest}});var Is=Cb();Object.defineProperty(b,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Is.DiagnosticServerCancellationData}});Object.defineProperty(b,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Is.DocumentDiagnosticReportKind}});Object.defineProperty(b,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Is.DocumentDiagnosticRequest}});Object.defineProperty(b,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Is.WorkspaceDiagnosticRequest}});Object.defineProperty(b,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Is.DiagnosticRefreshRequest}});var Wr=Fb();Object.defineProperty(b,"NotebookCellKind",{enumerable:!0,get:function(){return Wr.NotebookCellKind}});Object.defineProperty(b,"ExecutionSummary",{enumerable:!0,get:function(){return Wr.ExecutionSummary}});Object.defineProperty(b,"NotebookCell",{enumerable:!0,get:function(){return Wr.NotebookCell}});Object.defineProperty(b,"NotebookDocument",{enumerable:!0,get:function(){return Wr.NotebookDocument}});Object.defineProperty(b,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Wr.NotebookDocumentSyncRegistrationType}});Object.defineProperty(b,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Wr.DidOpenNotebookDocumentNotification}});Object.defineProperty(b,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Wr.NotebookCellArrayChange}});Object.defineProperty(b,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Wr.DidChangeNotebookDocumentNotification}});Object.defineProperty(b,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Wr.DidSaveNotebookDocumentNotification}});Object.defineProperty(b,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Wr.DidCloseNotebookDocumentNotification}});var kM=Wb();Object.defineProperty(b,"InlineCompletionRequest",{enumerable:!0,get:function(){return kM.InlineCompletionRequest}});var mh;(function(t){function e(r){let n=r;return rt.string(n)||rt.string(n.language)||rt.string(n.scheme)||rt.string(n.pattern)}t.is=e})(mh||(b.TextDocumentFilter=mh={}));var vh;(function(t){function e(r){let n=r;return rt.objectLiteral(n)&&(rt.string(n.notebookType)||rt.string(n.scheme)||rt.string(n.pattern))}t.is=e})(vh||(b.NotebookDocumentFilter=vh={}));var yh;(function(t){function e(r){let n=r;return rt.objectLiteral(n)&&(rt.string(n.notebook)||vh.is(n.notebook))&&(n.language===void 0||rt.string(n.language))}t.is=e})(yh||(b.NotebookCellTextDocumentFilter=yh={}));var bh;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!rt.string(n)&&!mh.is(n)&&!yh.is(n))return!1;return!0}t.is=e})(bh||(b.DocumentSelector=bh={}));var Ub;(function(t){t.method="client/registerCapability",t.messageDirection=F.MessageDirection.serverToClient,t.type=new F.ProtocolRequestType(t.method)})(Ub||(b.RegistrationRequest=Ub={}));var Bb;(function(t){t.method="client/unregisterCapability",t.messageDirection=F.MessageDirection.serverToClient,t.type=new F.ProtocolRequestType(t.method)})(Bb||(b.UnregistrationRequest=Bb={}));var zb;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(zb||(b.ResourceOperationKind=zb={}));var Gb;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Gb||(b.FailureHandlingKind=Gb={}));var Vb;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(Vb||(b.PositionEncodingKind=Vb={}));var Yb;(function(t){function e(r){let n=r;return n&&rt.string(n.id)&&n.id.length>0}t.hasId=e})(Yb||(b.StaticRegistrationOptions=Yb={}));var Kb;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||bh.is(n.documentSelector))}t.is=e})(Kb||(b.TextDocumentRegistrationOptions=Kb={}));var Xb;(function(t){function e(n){let i=n;return rt.objectLiteral(i)&&(i.workDoneProgress===void 0||rt.boolean(i.workDoneProgress))}t.is=e;function r(n){let i=n;return i&&rt.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=r})(Xb||(b.WorkDoneProgressOptions=Xb={}));var Jb;(function(t){t.method="initialize",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(Jb||(b.InitializeRequest=Jb={}));var Qb;(function(t){t.unknownProtocolVersion=1})(Qb||(b.InitializeErrorCodes=Qb={}));var Zb;(function(t){t.method="initialized",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolNotificationType(t.method)})(Zb||(b.InitializedNotification=Zb={}));var e_;(function(t){t.method="shutdown",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType0(t.method)})(e_||(b.ShutdownRequest=e_={}));var t_;(function(t){t.method="exit",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolNotificationType0(t.method)})(t_||(b.ExitNotification=t_={}));var r_;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolNotificationType(t.method)})(r_||(b.DidChangeConfigurationNotification=r_={}));var n_;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(n_||(b.MessageType=n_={}));var i_;(function(t){t.method="window/showMessage",t.messageDirection=F.MessageDirection.serverToClient,t.type=new F.ProtocolNotificationType(t.method)})(i_||(b.ShowMessageNotification=i_={}));var o_;(function(t){t.method="window/showMessageRequest",t.messageDirection=F.MessageDirection.serverToClient,t.type=new F.ProtocolRequestType(t.method)})(o_||(b.ShowMessageRequest=o_={}));var s_;(function(t){t.method="window/logMessage",t.messageDirection=F.MessageDirection.serverToClient,t.type=new F.ProtocolNotificationType(t.method)})(s_||(b.LogMessageNotification=s_={}));var a_;(function(t){t.method="telemetry/event",t.messageDirection=F.MessageDirection.serverToClient,t.type=new F.ProtocolNotificationType(t.method)})(a_||(b.TelemetryEventNotification=a_={}));var u_;(function(t){t.None=0,t.Full=1,t.Incremental=2})(u_||(b.TextDocumentSyncKind=u_={}));var l_;(function(t){t.method="textDocument/didOpen",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolNotificationType(t.method)})(l_||(b.DidOpenTextDocumentNotification=l_={}));var c_;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=r})(c_||(b.TextDocumentContentChangeEvent=c_={}));var f_;(function(t){t.method="textDocument/didChange",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolNotificationType(t.method)})(f_||(b.DidChangeTextDocumentNotification=f_={}));var d_;(function(t){t.method="textDocument/didClose",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolNotificationType(t.method)})(d_||(b.DidCloseTextDocumentNotification=d_={}));var h_;(function(t){t.method="textDocument/didSave",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolNotificationType(t.method)})(h_||(b.DidSaveTextDocumentNotification=h_={}));var g_;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(g_||(b.TextDocumentSaveReason=g_={}));var p_;(function(t){t.method="textDocument/willSave",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolNotificationType(t.method)})(p_||(b.WillSaveTextDocumentNotification=p_={}));var m_;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(m_||(b.WillSaveTextDocumentWaitUntilRequest=m_={}));var v_;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolNotificationType(t.method)})(v_||(b.DidChangeWatchedFilesNotification=v_={}));var y_;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(y_||(b.FileChangeType=y_={}));var b_;(function(t){function e(r){let n=r;return rt.objectLiteral(n)&&(Hb.URI.is(n.baseUri)||Hb.WorkspaceFolder.is(n.baseUri))&&rt.string(n.pattern)}t.is=e})(b_||(b.RelativePattern=b_={}));var __;(function(t){t.Create=1,t.Change=2,t.Delete=4})(__||(b.WatchKind=__={}));var w_;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=F.MessageDirection.serverToClient,t.type=new F.ProtocolNotificationType(t.method)})(w_||(b.PublishDiagnosticsNotification=w_={}));var R_;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(R_||(b.CompletionTriggerKind=R_={}));var S_;(function(t){t.method="textDocument/completion",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(S_||(b.CompletionRequest=S_={}));var E_;(function(t){t.method="completionItem/resolve",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(E_||(b.CompletionResolveRequest=E_={}));var D_;(function(t){t.method="textDocument/hover",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(D_||(b.HoverRequest=D_={}));var P_;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(P_||(b.SignatureHelpTriggerKind=P_={}));var T_;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(T_||(b.SignatureHelpRequest=T_={}));var q_;(function(t){t.method="textDocument/definition",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(q_||(b.DefinitionRequest=q_={}));var O_;(function(t){t.method="textDocument/references",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(O_||(b.ReferencesRequest=O_={}));var M_;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(M_||(b.DocumentHighlightRequest=M_={}));var C_;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(C_||(b.DocumentSymbolRequest=C_={}));var A_;(function(t){t.method="textDocument/codeAction",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(A_||(b.CodeActionRequest=A_={}));var N_;(function(t){t.method="codeAction/resolve",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(N_||(b.CodeActionResolveRequest=N_={}));var j_;(function(t){t.method="workspace/symbol",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(j_||(b.WorkspaceSymbolRequest=j_={}));var x_;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(x_||(b.WorkspaceSymbolResolveRequest=x_={}));var I_;(function(t){t.method="textDocument/codeLens",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(I_||(b.CodeLensRequest=I_={}));var L_;(function(t){t.method="codeLens/resolve",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(L_||(b.CodeLensResolveRequest=L_={}));var F_;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=F.MessageDirection.serverToClient,t.type=new F.ProtocolRequestType0(t.method)})(F_||(b.CodeLensRefreshRequest=F_={}));var k_;(function(t){t.method="textDocument/documentLink",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(k_||(b.DocumentLinkRequest=k_={}));var $_;(function(t){t.method="documentLink/resolve",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})($_||(b.DocumentLinkResolveRequest=$_={}));var W_;(function(t){t.method="textDocument/formatting",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(W_||(b.DocumentFormattingRequest=W_={}));var H_;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(H_||(b.DocumentRangeFormattingRequest=H_={}));var U_;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(U_||(b.DocumentRangesFormattingRequest=U_={}));var B_;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(B_||(b.DocumentOnTypeFormattingRequest=B_={}));var z_;(function(t){t.Identifier=1})(z_||(b.PrepareSupportDefaultBehavior=z_={}));var G_;(function(t){t.method="textDocument/rename",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(G_||(b.RenameRequest=G_={}));var V_;(function(t){t.method="textDocument/prepareRename",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(V_||(b.PrepareRenameRequest=V_={}));var Y_;(function(t){t.method="workspace/executeCommand",t.messageDirection=F.MessageDirection.clientToServer,t.type=new F.ProtocolRequestType(t.method)})(Y_||(b.ExecuteCommandRequest=Y_={}));var K_;(function(t){t.method="workspace/applyEdit",t.messageDirection=F.MessageDirection.serverToClient,t.type=new F.ProtocolRequestType("workspace/applyEdit")})(K_||(b.ApplyWorkspaceEditRequest=K_={}))});var r0=m($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.createProtocolConnection=void 0;var t0=bi();function $M(t,e,r,n){return t0.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,t0.createMessageConnection)(t,e,r,n)}$u.createProtocolConnection=$M});var i0=m(It=>{"use strict";var WM=It&&It.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wu=It&&It.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&WM(e,t,r)};Object.defineProperty(It,"__esModule",{value:!0});It.LSPErrorCodes=It.createProtocolConnection=void 0;Wu(bi(),It);Wu(kr(),It);Wu(We(),It);Wu(e0(),It);var HM=r0();Object.defineProperty(It,"createProtocolConnection",{enumerable:!0,get:function(){return HM.createProtocolConnection}});var n0;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(n0||(It.LSPErrorCodes=n0={}))});var qe=m(Hr=>{"use strict";var UM=Hr&&Hr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),o0=Hr&&Hr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UM(e,t,r)};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.createProtocolConnection=void 0;var BM=uh();o0(uh(),Hr);o0(i0(),Hr);function zM(t,e,r,n){return(0,BM.createMessageConnection)(t,e,r,n)}Hr.createProtocolConnection=zM});var Dh=m(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.generateUuid=rr.parse=rr.isUUID=rr.v4=rr.empty=void 0;var Ls=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Fs=class t extends Ls{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};Fs._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Fs._timeHighBits=["8","9","a","b"];rr.empty=new Ls("00000000-0000-0000-0000-000000000000");function s0(){return new Fs}rr.v4=s0;var GM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a0(t){return GM.test(t)}rr.isUUID=a0;function VM(t){if(!a0(t))throw new Error("invalid uuid");return new Ls(t)}rr.parse=VM;function YM(){return s0().asHex()}rr.generateUuid=YM});var u0=m(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.attachPartialResult=kn.ProgressFeature=kn.attachWorkDone=void 0;var Fn=qe(),KM=Dh(),wi=class t{constructor(e,r){this._connection=e,this._token=r,t.Instances.set(this._token,this)}begin(e,r,n,i){let o={kind:"begin",title:e,percentage:r,message:n,cancellable:i};this._connection.sendProgress(Fn.WorkDoneProgress.type,this._token,o)}report(e,r){let n={kind:"report"};typeof e=="number"?(n.percentage=e,r!==void 0&&(n.message=r)):n.message=e,this._connection.sendProgress(Fn.WorkDoneProgress.type,this._token,n)}done(){t.Instances.delete(this._token),this._connection.sendProgress(Fn.WorkDoneProgress.type,this._token,{kind:"end"})}};wi.Instances=new Map;var Hu=class extends wi{constructor(e,r){super(e,r),this._source=new Fn.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},ks=class{constructor(){}begin(){}report(){}done(){}},Uu=class extends ks{constructor(){super(),this._source=new Fn.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function XM(t,e){if(e===void 0||e.workDoneToken===void 0)return new ks;let r=e.workDoneToken;return delete e.workDoneToken,new wi(t,r)}kn.attachWorkDone=XM;var JM=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){super.initialize(e),e?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(Fn.WorkDoneProgressCancelNotification.type,r=>{let n=wi.Instances.get(r.token);(n instanceof Hu||n instanceof Uu)&&n.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new ks:new wi(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=(0,KM.generateUuid)();return this.connection.sendRequest(Fn.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Hu(this.connection,e))}else return Promise.resolve(new Uu)}};kn.ProgressFeature=JM;var Ph;(function(t){t.type=new Fn.ProgressType})(Ph||(Ph={}));var Th=class{constructor(e,r){this._connection=e,this._token=r}report(e){this._connection.sendProgress(Ph.type,this._token,e)}};function QM(t,e){if(e===void 0||e.partialResultToken===void 0)return;let r=e.partialResultToken;return delete e.partialResultToken,new Th(t,r)}kn.attachPartialResult=QM});var l0=m(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.ConfigurationFeature=void 0;var ZM=qe(),eC=ru(),tC=t=>class extends t{getConfiguration(e){return e?eC.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let r={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(ZM.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(e)?n:n[0]:Array.isArray(e)?[]:null)}};Bu.ConfigurationFeature=tC});var c0=m(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.WorkspaceFoldersFeature=void 0;var zu=qe(),rC=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let r=e.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new zu.Emitter,this.connection.onNotification(zu.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(e){super.fillServerCapabilities(e);let r=e.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(zu.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(zu.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Gu.WorkspaceFoldersFeature=rC});var f0=m(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.CallHierarchyFeature=void 0;var qh=qe(),nC=t=>class extends t{get callHierarchy(){return{onPrepare:e=>this.connection.onRequest(qh.CallHierarchyPrepareRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0)),onIncomingCalls:e=>{let r=qh.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:e=>{let r=qh.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Vu.CallHierarchyFeature=nC});var Mh=m($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.SemanticTokensBuilder=$n.SemanticTokensDiff=$n.SemanticTokensFeature=void 0;var Yu=qe(),iC=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Yu.SemanticTokensRefreshRequest.type),on:e=>{let r=Yu.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onDelta:e=>{let r=Yu.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:e=>{let r=Yu.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};$n.SemanticTokensFeature=iC;var Ku=class{constructor(e,r){this.originalSequence=e,this.modifiedSequence=r}computeDiff(){let e=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<e&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<e){let i=e-1,o=r-1;for(;i>=n&&o>=n&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<n||o<n)&&(i++,o++);let s=i-n+1,a=this.modifiedSequence.slice(n,o+1);return a.length===1&&a[0]===this.originalSequence[i]?[{start:n,deleteCount:s-1}]:[{start:n,deleteCount:s,data:a}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<e?[{start:n,deleteCount:e-n}]:[]}};$n.SemanticTokensDiff=Ku;var Oh=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,r,n,i,o){let s=e,a=r;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=e,this._prevChar=r}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Ku(this._prevData,this._data).computeDiff()}:this.build()}};$n.SemanticTokensBuilder=Oh});var d0=m(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.ShowDocumentFeature=void 0;var oC=qe(),sC=t=>class extends t{showDocument(e){return this.connection.sendRequest(oC.ShowDocumentRequest.type,e)}};Xu.ShowDocumentFeature=sC});var h0=m(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.FileOperationsFeature=void 0;var Ro=qe(),aC=t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(Ro.DidCreateFilesNotification.type,r=>{e(r)})}onDidRenameFiles(e){return this.connection.onNotification(Ro.DidRenameFilesNotification.type,r=>{e(r)})}onDidDeleteFiles(e){return this.connection.onNotification(Ro.DidDeleteFilesNotification.type,r=>{e(r)})}onWillCreateFiles(e){return this.connection.onRequest(Ro.WillCreateFilesRequest.type,(r,n)=>e(r,n))}onWillRenameFiles(e){return this.connection.onRequest(Ro.WillRenameFilesRequest.type,(r,n)=>e(r,n))}onWillDeleteFiles(e){return this.connection.onRequest(Ro.WillDeleteFilesRequest.type,(r,n)=>e(r,n))}};Ju.FileOperationsFeature=aC});var g0=m(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.LinkedEditingRangeFeature=void 0;var uC=qe(),lC=t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest(uC.LinkedEditingRangeRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0))}};Qu.LinkedEditingRangeFeature=lC});var p0=m(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.TypeHierarchyFeature=void 0;var Ch=qe(),cC=t=>class extends t{get typeHierarchy(){return{onPrepare:e=>this.connection.onRequest(Ch.TypeHierarchyPrepareRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0)),onSupertypes:e=>{let r=Ch.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onSubtypes:e=>{let r=Ch.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Zu.TypeHierarchyFeature=cC});var v0=m(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.InlineValueFeature=void 0;var m0=qe(),fC=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(m0.InlineValueRefreshRequest.type),on:e=>this.connection.onRequest(m0.InlineValueRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r)))}}};el.InlineValueFeature=fC});var b0=m(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.FoldingRangeFeature=void 0;var y0=qe(),dC=t=>class extends t{get foldingRange(){return{refresh:()=>this.connection.sendRequest(y0.FoldingRangeRefreshRequest.type),on:e=>{let r=y0.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};tl.FoldingRangeFeature=dC});var _0=m(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.InlayHintFeature=void 0;var Ah=qe(),hC=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(Ah.InlayHintRefreshRequest.type),on:e=>this.connection.onRequest(Ah.InlayHintRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r))),resolve:e=>this.connection.onRequest(Ah.InlayHintResolveRequest.type,(r,n)=>e(r,n))}}};rl.InlayHintFeature=hC});var w0=m(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.DiagnosticFeature=void 0;var $s=qe(),gC=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest($s.DiagnosticRefreshRequest.type),on:e=>this.connection.onRequest($s.DocumentDiagnosticRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress($s.DocumentDiagnosticRequest.partialResult,r))),onWorkspace:e=>this.connection.onRequest($s.WorkspaceDiagnosticRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress($s.WorkspaceDiagnosticRequest.partialResult,r)))}}};nl.DiagnosticFeature=gC});var jh=m(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.TextDocuments=void 0;var Ri=qe(),Nh=class{constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new Ri.Emitter,this._onDidOpen=new Ri.Emitter,this._onDidClose=new Ri.Emitter,this._onDidSave=new Ri.Emitter,this._onWillSave=new Ri.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=Ri.TextDocumentSyncKind.Incremental;let r=[];return r.push(e.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),r.push(e.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges;if(o.length===0)return;let{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let a=this._syncedDocuments.get(i.uri);a!==void 0&&(a=this._configuration.update(a,o,s),this._syncedDocuments.set(i.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),r.push(e.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(e.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(e.onWillSaveTextDocumentWaitUntil((n,i)=>{let o=this._syncedDocuments.get(n.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:n.reason}),i):[]})),r.push(e.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Ri.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};il.TextDocuments=Nh});var Ih=m(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.NotebookDocuments=So.NotebookSyncFeature=void 0;var nr=qe(),R0=jh(),pC=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:e=>this.connection.onNotification(nr.DidOpenNotebookDocumentNotification.type,r=>{e(r)}),onDidChangeNotebookDocument:e=>this.connection.onNotification(nr.DidChangeNotebookDocumentNotification.type,r=>{e(r)}),onDidSaveNotebookDocument:e=>this.connection.onNotification(nr.DidSaveNotebookDocumentNotification.type,r=>{e(r)}),onDidCloseNotebookDocument:e=>this.connection.onNotification(nr.DidCloseNotebookDocumentNotification.type,r=>{e(r)})}}};So.NotebookSyncFeature=pC;var ol=class t{onDidOpenTextDocument(e){return this.openHandler=e,nr.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,nr.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,nr.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return t.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return t.NULL_DISPOSE}onDidSaveTextDocument(){return t.NULL_DISPOSE}};ol.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var xh=class{constructor(e){e instanceof R0.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new R0.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new nr.Emitter,this._onDidChange=new nr.Emitter,this._onDidSave=new nr.Emitter,this._onDidClose=new nr.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){let r=this.notebookCellMap.get(e);return r&&r[0]}findNotebookDocumentForCell(e){let r=typeof e=="string"?e:e.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){let r=new ol,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)r.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let s=o.metadata,a=!1,u=i.change;u.metadata!==void 0&&(a=!0,o.metadata=u.metadata);let l=[],d=[],p=[],g=[];if(u.cells!==void 0){let P=u.cells;if(P.structure!==void 0){let _=P.structure.array;if(o.cells.splice(_.start,_.deleteCount,..._.cells!==void 0?_.cells:[]),P.structure.didOpen!==void 0)for(let y of P.structure.didOpen)r.openTextDocument({textDocument:y}),l.push(y.uri);if(P.structure.didClose)for(let y of P.structure.didClose)r.closeTextDocument({textDocument:y}),d.push(y.uri)}if(P.data!==void 0){let _=new Map(P.data.map(y=>[y.document,y]));for(let y=0;y<=o.cells.length;y++){let C=_.get(o.cells[y].document);if(C!==void 0){let L=o.cells.splice(y,1,C);if(p.push({old:L[0],new:C}),_.delete(C.document),_.size===0)break}}}if(P.textContent!==void 0)for(let _ of P.textContent)r.changeTextDocument({textDocument:_.document,contentChanges:_.changes}),g.push(_.document.uri)}this.updateCellMap(o);let h={notebookDocument:o};a&&(h.metadata={old:s,new:o.metadata});let R=[];for(let P of l)R.push(this.getNotebookCell(P));let D=[];for(let P of d)D.push(this.getNotebookCell(P));let M=[];for(let P of g)M.push(this.getNotebookCell(P));(R.length>0||D.length>0||p.length>0||M.length>0)&&(h.cells={added:R,removed:D,changed:{data:p,textContent:M}}),(h.metadata!==void 0||h.cells!==void 0)&&this._onDidChange.fire(h)})),n.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),n.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let s of i.cellTextDocuments)r.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(let s of o.cells)this.notebookCellMap.delete(s.document)}})),nr.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(e){for(let r of e.cells)this.notebookCellMap.set(r.document,[r,e])}};So.NotebookDocuments=xh});var S0=m(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.MonikerFeature=void 0;var mC=qe(),vC=t=>class extends t{get moniker(){return{on:e=>{let r=mC.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};sl.MonikerFeature=vC});var Hh=m(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createConnection=Re.combineFeatures=Re.combineNotebooksFeatures=Re.combineLanguagesFeatures=Re.combineWorkspaceFeatures=Re.combineWindowFeatures=Re.combineClientFeatures=Re.combineTracerFeatures=Re.combineTelemetryFeatures=Re.combineConsoleFeatures=Re._NotebooksImpl=Re._LanguagesImpl=Re.BulkUnregistration=Re.BulkRegistration=Re.ErrorMessageTracker=void 0;var U=qe(),ir=ru(),Fh=Dh(),ne=u0(),yC=l0(),bC=c0(),_C=f0(),wC=Mh(),RC=d0(),SC=h0(),EC=g0(),DC=p0(),PC=v0(),TC=b0(),qC=_0(),OC=w0(),MC=Ih(),CC=S0();function Lh(t){if(t!==null)return t}var kh=class{constructor(){this._messages=Object.create(null)}add(e){let r=this._messages[e];r||(r=0),r++,this._messages[e]=r}sendErrors(e){Object.keys(this._messages).forEach(r=>{e.window.showErrorMessage(r)})}};Re.ErrorMessageTracker=kh;var al=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(U.MessageType.Error,e)}warn(e){this.send(U.MessageType.Warning,e)}info(e){this.send(U.MessageType.Info,e)}log(e){this.send(U.MessageType.Log,e)}debug(e){this.send(U.MessageType.Debug,e)}send(e,r){this._rawConnection&&this._rawConnection.sendNotification(U.LogMessageNotification.type,{type:e,message:r}).catch(()=>{(0,U.RAL)().console.error("Sending log message failed")})}},$h=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...r){let n={type:U.MessageType.Error,message:e,actions:r};return this.connection.sendRequest(U.ShowMessageRequest.type,n).then(Lh)}showWarningMessage(e,...r){let n={type:U.MessageType.Warning,message:e,actions:r};return this.connection.sendRequest(U.ShowMessageRequest.type,n).then(Lh)}showInformationMessage(e,...r){let n={type:U.MessageType.Info,message:e,actions:r};return this.connection.sendRequest(U.ShowMessageRequest.type,n).then(Lh)}},E0=(0,RC.ShowDocumentFeature)((0,ne.ProgressFeature)($h)),D0;(function(t){function e(){return new ul}t.create=e})(D0||(Re.BulkRegistration=D0={}));var ul=class{constructor(){this._registrations=[],this._registered=new Set}add(e,r){let n=ir.string(e)?e:e.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=Fh.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},P0;(function(t){function e(){return new Ws(void 0,[])}t.create=e})(P0||(Re.BulkUnregistration=P0={}));var Ws=class{constructor(e,r){this._connection=e,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let n of this._unregistrations.values())e.push(n);let r={unregisterations:e};this._connection.sendRequest(U.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let r=ir.string(e)?e:e.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(U.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},o=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},ll=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,r,n){return e instanceof ul?this.registerMany(e):e instanceof Ws?this.registerSingle1(e,r,n):this.registerSingle2(e,r)}registerSingle1(e,r,n){let i=ir.string(r)?r:r.method,o=Fh.generateUuid(),s={registrations:[{id:o,method:i,registerOptions:n||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(U.RegistrationRequest.type,s).then(a=>(e.add({id:o,method:i}),e),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(e,r){let n=ir.string(e)?e:e.method,i=Fh.generateUuid(),o={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(U.RegistrationRequest.type,o).then(s=>U.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(s)))}unregisterSingle(e,r){let n={unregisterations:[{id:e,method:r}]};return this.connection.sendRequest(U.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let r=e.asRegistrationParams();return this.connection.sendRequest(U.RegistrationRequest.type,r).then(()=>new Ws(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},Wh=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function r(i){return i&&!!i.edit}let n=r(e)?e:{edit:e};return this.connection.sendRequest(U.ApplyWorkspaceEditRequest.type,n)}},T0=(0,SC.FileOperationsFeature)((0,bC.WorkspaceFoldersFeature)((0,yC.ConfigurationFeature)(Wh))),cl=class{constructor(){this._trace=U.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,r){this._trace!==U.Trace.Off&&this.connection.sendNotification(U.LogTraceNotification.type,{message:e,verbose:this._trace===U.Trace.Verbose?r:void 0}).catch(()=>{})}},fl=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(U.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},dl=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,ne.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,r){return(0,ne.attachPartialResult)(this.connection,r)}};Re._LanguagesImpl=dl;var q0=(0,TC.FoldingRangeFeature)((0,CC.MonikerFeature)((0,OC.DiagnosticFeature)((0,qC.InlayHintFeature)((0,PC.InlineValueFeature)((0,DC.TypeHierarchyFeature)((0,EC.LinkedEditingRangeFeature)((0,wC.SemanticTokensFeature)((0,_C.CallHierarchyFeature)(dl))))))))),hl=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,ne.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,r){return(0,ne.attachPartialResult)(this.connection,r)}};Re._NotebooksImpl=hl;var O0=(0,MC.NotebookSyncFeature)(hl);function M0(t,e){return function(r){return e(t(r))}}Re.combineConsoleFeatures=M0;function C0(t,e){return function(r){return e(t(r))}}Re.combineTelemetryFeatures=C0;function A0(t,e){return function(r){return e(t(r))}}Re.combineTracerFeatures=A0;function N0(t,e){return function(r){return e(t(r))}}Re.combineClientFeatures=N0;function j0(t,e){return function(r){return e(t(r))}}Re.combineWindowFeatures=j0;function x0(t,e){return function(r){return e(t(r))}}Re.combineWorkspaceFeatures=x0;function I0(t,e){return function(r){return e(t(r))}}Re.combineLanguagesFeatures=I0;function L0(t,e){return function(r){return e(t(r))}}Re.combineNotebooksFeatures=L0;function AC(t,e){function r(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:r(t.console,e.console,M0),tracer:r(t.tracer,e.tracer,A0),telemetry:r(t.telemetry,e.telemetry,C0),client:r(t.client,e.client,N0),window:r(t.window,e.window,j0),workspace:r(t.workspace,e.workspace,x0),languages:r(t.languages,e.languages,I0),notebooks:r(t.notebooks,e.notebooks,L0)}}Re.combineFeatures=AC;function NC(t,e,r){let n=r&&r.console?new(r.console(al)):new al,i=t(n);n.rawAttach(i);let o=r&&r.tracer?new(r.tracer(cl)):new cl,s=r&&r.telemetry?new(r.telemetry(fl)):new fl,a=r&&r.client?new(r.client(ll)):new ll,u=r&&r.window?new(r.window(E0)):new E0,l=r&&r.workspace?new(r.workspace(T0)):new T0,d=r&&r.languages?new(r.languages(q0)):new q0,p=r&&r.notebooks?new(r.notebooks(O0)):new O0,g=[n,o,s,a,u,l,d,p];function h(_){return _ instanceof Promise?_:ir.thenable(_)?new Promise((y,C)=>{_.then(L=>y(L),L=>C(L))}):Promise.resolve(_)}let R,D,M,P={listen:()=>i.listen(),sendRequest:(_,...y)=>i.sendRequest(ir.string(_)?_:_.method,...y),onRequest:(_,y)=>i.onRequest(_,y),sendNotification:(_,y)=>{let C=ir.string(_)?_:_.method;return i.sendNotification(C,y)},onNotification:(_,y)=>i.onNotification(_,y),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:_=>(D=_,{dispose:()=>{D=void 0}}),onInitialized:_=>i.onNotification(U.InitializedNotification.type,_),onShutdown:_=>(R=_,{dispose:()=>{R=void 0}}),onExit:_=>(M=_,{dispose:()=>{M=void 0}}),get console(){return n},get telemetry(){return s},get tracer(){return o},get client(){return a},get window(){return u},get workspace(){return l},get languages(){return d},get notebooks(){return p},onDidChangeConfiguration:_=>i.onNotification(U.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>i.onNotification(U.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>i.onNotification(U.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>i.onNotification(U.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>i.onNotification(U.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>i.onNotification(U.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>i.onRequest(U.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>i.onNotification(U.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>i.sendNotification(U.PublishDiagnosticsNotification.type,_),onHover:_=>i.onRequest(U.HoverRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),void 0)),onCompletion:_=>i.onRequest(U.CompletionRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onCompletionResolve:_=>i.onRequest(U.CompletionResolveRequest.type,_),onSignatureHelp:_=>i.onRequest(U.SignatureHelpRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),void 0)),onDeclaration:_=>i.onRequest(U.DeclarationRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onDefinition:_=>i.onRequest(U.DefinitionRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onTypeDefinition:_=>i.onRequest(U.TypeDefinitionRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onImplementation:_=>i.onRequest(U.ImplementationRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onReferences:_=>i.onRequest(U.ReferencesRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onDocumentHighlight:_=>i.onRequest(U.DocumentHighlightRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onDocumentSymbol:_=>i.onRequest(U.DocumentSymbolRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onWorkspaceSymbol:_=>i.onRequest(U.WorkspaceSymbolRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onWorkspaceSymbolResolve:_=>i.onRequest(U.WorkspaceSymbolResolveRequest.type,_),onCodeAction:_=>i.onRequest(U.CodeActionRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onCodeActionResolve:_=>i.onRequest(U.CodeActionResolveRequest.type,(y,C)=>_(y,C)),onCodeLens:_=>i.onRequest(U.CodeLensRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onCodeLensResolve:_=>i.onRequest(U.CodeLensResolveRequest.type,(y,C)=>_(y,C)),onDocumentFormatting:_=>i.onRequest(U.DocumentFormattingRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),void 0)),onDocumentRangeFormatting:_=>i.onRequest(U.DocumentRangeFormattingRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),void 0)),onDocumentOnTypeFormatting:_=>i.onRequest(U.DocumentOnTypeFormattingRequest.type,(y,C)=>_(y,C)),onRenameRequest:_=>i.onRequest(U.RenameRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),void 0)),onPrepareRename:_=>i.onRequest(U.PrepareRenameRequest.type,(y,C)=>_(y,C)),onDocumentLinks:_=>i.onRequest(U.DocumentLinkRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onDocumentLinkResolve:_=>i.onRequest(U.DocumentLinkResolveRequest.type,(y,C)=>_(y,C)),onDocumentColor:_=>i.onRequest(U.DocumentColorRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onColorPresentation:_=>i.onRequest(U.ColorPresentationRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onFoldingRanges:_=>i.onRequest(U.FoldingRangeRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onSelectionRanges:_=>i.onRequest(U.SelectionRangeRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),(0,ne.attachPartialResult)(i,y))),onExecuteCommand:_=>i.onRequest(U.ExecuteCommandRequest.type,(y,C)=>_(y,C,(0,ne.attachWorkDone)(i,y),void 0)),dispose:()=>i.dispose()};for(let _ of g)_.attach(P);return i.onRequest(U.InitializeRequest.type,_=>{e.initialize(_),ir.string(_.trace)&&(o.trace=U.Trace.fromString(_.trace));for(let y of g)y.initialize(_.capabilities);if(D){let y=D(_,new U.CancellationTokenSource().token,(0,ne.attachWorkDone)(i,_),void 0);return h(y).then(C=>{if(C instanceof U.ResponseError)return C;let L=C;L||(L={capabilities:{}});let k=L.capabilities;k||(k={},L.capabilities=k),k.textDocumentSync===void 0||k.textDocumentSync===null?k.textDocumentSync=ir.number(P.__textDocumentSync)?P.__textDocumentSync:U.TextDocumentSyncKind.None:!ir.number(k.textDocumentSync)&&!ir.number(k.textDocumentSync.change)&&(k.textDocumentSync.change=ir.number(P.__textDocumentSync)?P.__textDocumentSync:U.TextDocumentSyncKind.None);for(let Y of g)Y.fillServerCapabilities(k);return L})}else{let y={capabilities:{textDocumentSync:U.TextDocumentSyncKind.None}};for(let C of g)C.fillServerCapabilities(y.capabilities);return y}}),i.onRequest(U.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,R)return R(new U.CancellationTokenSource().token)}),i.onNotification(U.ExitNotification.type,()=>{try{M&&M()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(U.SetTraceNotification.type,_=>{o.trace=U.Trace.fromString(_.value)}),P}Re.createConnection=NC});var F0=m(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.resolveModulePath=Lt.FileSystem=Lt.resolveGlobalYarnPath=Lt.resolveGlobalNodePath=Lt.resolve=Lt.uriToFilePath=void 0;var jC=require("url"),Sr=require("path"),Uh=require("fs"),Vh=require("child_process");function xC(t){let e=jC.parse(t);if(e.protocol!=="file:"||!e.path)return;let r=e.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let o=r[0],s=r[1];o.length===0&&s.length>1&&s[1]===":"&&r.shift()}return Sr.normalize(r.join("/"))}Lt.uriToFilePath=xC;function Bh(){return process.platform==="win32"}function gl(t,e,r,n){let i="NODE_PATH",o=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((s,a)=>{let u=process.env,l=Object.create(null);Object.keys(u).forEach(d=>l[d]=u[d]),e&&Uh.existsSync(e)&&(l[i]?l[i]=e+Sr.delimiter+l[i]:l[i]=e,n&&n(`NODE_PATH value is: ${l[i]}`)),l.ELECTRON_RUN_AS_NODE="1";try{let d=(0,Vh.fork)("",[],{cwd:r,env:l,execArgv:["-e",o]});if(d.pid===void 0){a(new Error(`Starting process to resolve node module  ${t} failed`));return}d.on("error",g=>{a(g)}),d.on("message",g=>{g.c==="r"&&(d.send({c:"e"}),g.s?s(g.r):a(new Error(`Failed to resolve module: ${t}`)))});let p={c:"rs",a:t};d.send(p)}catch(d){a(d)}})}Lt.resolve=gl;function zh(t){let e="npm",r=Object.create(null);Object.keys(process.env).forEach(o=>r[o]=process.env[o]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};Bh()&&(e="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let o=(0,Vh.spawnSync)(e,["config","get","prefix"],n).stdout;if(!o){t&&t("'npm config get prefix' didn't return a value.");return}let s=o.trim();return t&&t(`'npm config get prefix' value is: ${s}`),s.length>0?Bh()?Sr.join(s,"node_modules"):Sr.join(s,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Lt.resolveGlobalNodePath=zh;function IC(t){let e="yarn",r={encoding:"utf8"};Bh()&&(e="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=(0,Vh.spawnSync)(e,["global","dir","--json"],r),o=i.stdout;if(!o){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let s=o.trim().split(/\r?\n/);for(let a of s)try{let u=JSON.parse(a);if(u.type==="log")return Sr.join(u.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}Lt.resolveGlobalYarnPath=IC;var Gh;(function(t){let e;function r(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Uh.existsSync(__filename.toUpperCase())||!Uh.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=r;function n(i,o){return r()?Sr.normalize(o).indexOf(Sr.normalize(i))===0:Sr.normalize(o).toLowerCase().indexOf(Sr.normalize(i).toLowerCase())===0}t.isParent=n})(Gh||(Lt.FileSystem=Gh={}));function LC(t,e,r,n){return r?(Sr.isAbsolute(r)||(r=Sr.join(t,r)),gl(e,r,r,n).then(i=>Gh.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>gl(e,zh(n),t,n))):gl(e,zh(n),t,n)}Lt.resolveModulePath=LC});var Yh=m(($H,k0)=>{"use strict";k0.exports=qe()});var $0=m(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.InlineCompletionFeature=void 0;var FC=qe(),kC=t=>class extends t{get inlineCompletion(){return{on:e=>this.connection.onRequest(FC.InlineCompletionRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r)))}}};pl.InlineCompletionFeature=kC});var U0=m(vt=>{"use strict";var $C=vt&&vt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),H0=vt&&vt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&$C(e,t,r)};Object.defineProperty(vt,"__esModule",{value:!0});vt.ProposedFeatures=vt.NotebookDocuments=vt.TextDocuments=vt.SemanticTokensBuilder=void 0;var WC=Mh();Object.defineProperty(vt,"SemanticTokensBuilder",{enumerable:!0,get:function(){return WC.SemanticTokensBuilder}});var HC=$0();H0(qe(),vt);var UC=jh();Object.defineProperty(vt,"TextDocuments",{enumerable:!0,get:function(){return UC.TextDocuments}});var BC=Ih();Object.defineProperty(vt,"NotebookDocuments",{enumerable:!0,get:function(){return BC.NotebookDocuments}});H0(Hh(),vt);var W0;(function(t){t.all={__brand:"features",languages:HC.InlineCompletionFeature}})(W0||(vt.ProposedFeatures=W0={}))});var K0=m(or=>{"use strict";var zC=or&&or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),V0=or&&or.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zC(e,t,r)};Object.defineProperty(or,"__esModule",{value:!0});or.createConnection=or.Files=void 0;var B0=require("node:util"),Kh=ru(),GC=Hh(),Hs=F0(),Si=Yh();V0(Yh(),or);V0(U0(),or);var z0;(function(t){t.uriToFilePath=Hs.uriToFilePath,t.resolveGlobalNodePath=Hs.resolveGlobalNodePath,t.resolveGlobalYarnPath=Hs.resolveGlobalYarnPath,t.resolve=Hs.resolve,t.resolveModulePath=Hs.resolveModulePath})(z0||(or.Files=z0={}));var G0;function ml(){if(G0!==void 0)try{G0.end()}catch{}}var Eo=!1,Y0;function VC(){let t="--clientProcessId";function e(r){try{let n=parseInt(r);isNaN(n)||(Y0=setInterval(()=>{try{process.kill(n,0)}catch{ml(),process.exit(Eo?0:1)}},3e3))}catch{}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===t&&r+1<process.argv.length){e(process.argv[r+1]);return}else{let i=n.split("=");i[0]===t&&e(i[1])}}}VC();var YC={initialize:t=>{let e=t.processId;Kh.number(e)&&Y0===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Eo?0:1)}},3e3)},get shutdownReceived(){return Eo},set shutdownReceived(t){Eo=t},exit:t=>{ml(),process.exit(t)}};function KC(t,e,r,n){let i,o,s,a;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=r,r=n),Si.ConnectionStrategy.is(t)||Si.ConnectionOptions.is(t)?a=t:(o=t,s=e,a=r),XC(o,s,a,i)}or.createConnection=KC;function XC(t,e,r,n){let i=!1;if(!t&&!e&&process.argv.length>2){let u,l,d=process.argv.slice(2);for(let p=0;p<d.length;p++){let g=d[p];if(g==="--node-ipc"){t=new Si.IPCMessageReader(process),e=new Si.IPCMessageWriter(process);break}else if(g==="--stdio"){i=!0,t=process.stdin,e=process.stdout;break}else if(g==="--socket"){u=parseInt(d[p+1]);break}else if(g==="--pipe"){l=d[p+1];break}else{var o=g.split("=");if(o[0]==="--socket"){u=parseInt(o[1]);break}else if(o[0]==="--pipe"){l=o[1];break}}}if(u){let p=(0,Si.createServerSocketTransport)(u);t=p[0],e=p[1]}else if(l){let p=(0,Si.createServerPipeTransport)(l);t=p[0],e=p[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Kh.func(t.read)&&Kh.func(t.on)){let u=t;u.on("end",()=>{ml(),process.exit(Eo?0:1)}),u.on("close",()=>{ml(),process.exit(Eo?0:1)})}let a=u=>{let l=(0,Si.createProtocolConnection)(t,e,u,r);return i&&JC(u),l};return(0,GC.createConnection)(a,YC,n)}function JC(t){function e(n){return n.map(i=>typeof i=="string"?i:(0,B0.inspect)(i)).join(" ")}let r=new Map;console.assert=function(i,...o){if(!i)if(o.length===0)t.error("Assertion failed");else{let[s,...a]=o;t.error(`Assertion failed: ${s} ${e(a)}`)}},console.count=function(i="default"){let o=String(i),s=r.get(o)??0;s+=1,r.set(o,s),t.log(`${o}: ${o}`)},console.countReset=function(i){i===void 0?r.clear():r.delete(String(i))},console.debug=function(...i){t.log(e(i))},console.dir=function(i,o){t.log((0,B0.inspect)(i,o))},console.log=function(...i){t.log(e(i))},console.error=function(...i){t.error(e(i))},console.trace=function(...i){let o=new Error().stack.replace(/(.+\n){2}/,""),s="Trace";i.length!==0&&(s+=`: ${e(i)}`),t.log(`${s}
${o}`)},console.warn=function(...i){t.warn(e(i))}}});var vl=m((zH,X0)=>{"use strict";X0.exports=K0()});var Ft=m((GH,J0)=>{"use strict";var Xh=class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,t)}};J0.exports=t=>{if(t.length>2)throw new Xh(t);function e(n={}){this.options=n}e.prototype.transform=t;function r(n){return new e(n)}return r.Format=e,r}});var tw=m((VH,ew)=>{var Z0={};ew.exports=Z0;var Q0={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(Q0).forEach(function(t){var e=Q0[t],r=Z0[t]=[];r.open="\x1B["+e[0]+"m",r.close="\x1B["+e[1]+"m"})});var nw=m((YH,rw)=>{"use strict";rw.exports=function(t,e){e=e||process.argv||[];var r=e.indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",i=e.indexOf(n+t);return i!==-1&&(r===-1?!0:i<r)}});var ow=m((KH,iw)=>{"use strict";var QC=require("os"),Er=nw(),wt=process.env,Do=void 0;Er("no-color")||Er("no-colors")||Er("color=false")?Do=!1:(Er("color")||Er("colors")||Er("color=true")||Er("color=always"))&&(Do=!0);"FORCE_COLOR"in wt&&(Do=wt.FORCE_COLOR.length===0||parseInt(wt.FORCE_COLOR,10)!==0);function ZC(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function eA(t){if(Do===!1)return 0;if(Er("color=16m")||Er("color=full")||Er("color=truecolor"))return 3;if(Er("color=256"))return 2;if(t&&!t.isTTY&&Do!==!0)return 0;var e=Do?1:0;if(process.platform==="win32"){var r=QC.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in wt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(i){return i in wt})||wt.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in wt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(wt.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in wt){var n=parseInt((wt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(wt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(wt.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(wt.TERM)||"COLORTERM"in wt?1:(wt.TERM==="dumb",e)}function Jh(t){var e=eA(t);return ZC(e)}iw.exports={supportsColor:Jh,stdout:Jh(process.stdout),stderr:Jh(process.stderr)}});var aw=m((XH,sw)=>{sw.exports=function(e,r){var n="";e=e||"Run the trap, drop the bass",e=e.split("");var i={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(o){o=o.toLowerCase();var s=i[o]||[" "],a=Math.floor(Math.random()*s.length);typeof i[o]<"u"?n+=i[o][a]:n+=o}),n}});var lw=m((JH,uw)=>{uw.exports=function(e,r){e=e||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},i=[].concat(n.up,n.down,n.mid);function o(u){var l=Math.floor(Math.random()*u);return l}function s(u){var l=!1;return i.filter(function(d){l=d===u}),l}function a(u,l){var d="",p,g;l=l||{},l.up=typeof l.up<"u"?l.up:!0,l.mid=typeof l.mid<"u"?l.mid:!0,l.down=typeof l.down<"u"?l.down:!0,l.size=typeof l.size<"u"?l.size:"maxi",u=u.split("");for(g in u)if(!s(g)){switch(d=d+u[g],p={up:0,down:0,mid:0},l.size){case"mini":p.up=o(8),p.mid=o(2),p.down=o(8);break;case"maxi":p.up=o(16)+3,p.mid=o(4)+1,p.down=o(64)+3;break;default:p.up=o(8)+1,p.mid=o(6)/2,p.down=o(8)+1;break}var h=["up","mid","down"];for(var R in h)for(var D=h[R],M=0;M<=p[D];M++)l[D]&&(d=d+n[D][o(n[D].length)])}return d}return a(e,r)}});var fw=m((QH,cw)=>{cw.exports=function(t){return function(e,r,n){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var hw=m((ZH,dw)=>{dw.exports=function(t){return function(e,r,n){return r%2===0?e:t.inverse(e)}}});var pw=m((eU,gw)=>{gw.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,n,i){return r===" "?r:t[e[n++%e.length]](r)}}});var vw=m((tU,mw)=>{mw.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}});var Sw=m((nU,Rw)=>{var pe={};Rw.exports=pe;pe.themes={};var tA=require("util"),Ei=pe.styles=tw(),bw=Object.defineProperties,rA=new RegExp(/[\r\n]+/g);pe.supportsColor=ow().supportsColor;typeof pe.enabled>"u"&&(pe.enabled=pe.supportsColor()!==!1);pe.enable=function(){pe.enabled=!0};pe.disable=function(){pe.enabled=!1};pe.stripColors=pe.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var rU=pe.stylize=function(e,r){if(!pe.enabled)return e+"";var n=Ei[r];return!n&&r in pe?pe[r](e):n.open+e+n.close},nA=/[|\\{}()[\]^$+*?.]/g,iA=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(nA,"\\$&")};function _w(t){var e=function r(){return sA.apply(r,arguments)};return e._styles=t,e.__proto__=oA,e}var ww=function(){var t={};return Ei.grey=Ei.gray,Object.keys(Ei).forEach(function(e){Ei[e].closeRe=new RegExp(iA(Ei[e].close),"g"),t[e]={get:function(){return _w(this._styles.concat(e))}}}),t}(),oA=bw(function(){},ww);function sA(){var t=Array.prototype.slice.call(arguments),e=t.map(function(s){return s!=null&&s.constructor===String?s:tA.inspect(s)}).join(" ");if(!pe.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,n=this._styles,i=n.length;i--;){var o=Ei[n[i]];e=o.open+e.replace(o.closeRe,o.open)+o.close,r&&(e=e.replace(rA,function(s){return o.close+s+o.open}))}return e}pe.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){pe[r]=function(n){if(typeof t[r]=="object"){var i=n;for(var o in t[r])i=pe[t[r][o]](i);return i}return pe[t[r]](n)}})(e)};function aA(){var t={};return Object.keys(ww).forEach(function(e){t[e]={get:function(){return _w([e])}}}),t}var uA=function(e,r){var n=r.split("");return n=n.map(e),n.join("")};pe.trap=aw();pe.zalgo=lw();pe.maps={};pe.maps.america=fw()(pe);pe.maps.zebra=hw()(pe);pe.maps.rainbow=pw()(pe);pe.maps.random=vw()(pe);for(yw in pe.maps)(function(t){pe[t]=function(e){return uA(pe.maps[t],e)}})(yw);var yw;bw(pe,aA())});var Qh=m((iU,Ew)=>{var lA=Sw();Ew.exports=lA});var Dw=m(Zh=>{"use strict";Zh.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};Zh.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var Pw=m(eg=>{"use strict";eg.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};eg.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var Tw=m(tg=>{"use strict";tg.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};tg.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var qw=m(yl=>{"use strict";Object.defineProperty(yl,"cli",{value:Dw()});Object.defineProperty(yl,"npm",{value:Pw()});Object.defineProperty(yl,"syslog",{value:Tw()})});var Ge=m(Us=>{"use strict";Object.defineProperty(Us,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(Us,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(Us,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(Us,"configs",{value:qw()})});var wl=m((cU,_l)=>{"use strict";var ig=Qh(),{LEVEL:rg,MESSAGE:ng}=Ge();ig.enabled=!0;var Ow=/\s+/,bl=class t{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){let r=Object.keys(e).reduce((n,i)=>(n[i]=Ow.test(e[i])?e[i].split(Ow):e[i],n),{});return t.allColors=Object.assign({},t.allColors||{},r),t.allColors}addColors(e){return t.addColors(e)}colorize(e,r,n){if(typeof n>"u"&&(n=r),!Array.isArray(t.allColors[e]))return ig[t.allColors[e]](n);for(let i=0,o=t.allColors[e].length;i<o;i++)n=ig[t.allColors[e][i]](n);return n}transform(e,r){return r.all&&typeof e[ng]=="string"&&(e[ng]=this.colorize(e[rg],e.level,e[ng])),(r.level||r.all||!r.message)&&(e.level=this.colorize(e[rg],e.level)),(r.all||r.message)&&(e.message=this.colorize(e[rg],e.level,e.message)),e}};_l.exports=t=>new bl(t);_l.exports.Colorizer=_l.exports.Format=bl});var Cw=m((fU,Mw)=>{"use strict";var{Colorizer:cA}=wl();Mw.exports=t=>(cA.addColors(t.colors||t),t)});var Nw=m((dU,Aw)=>{"use strict";var fA=Ft();Aw.exports=fA(t=>(t.message=`	${t.message}`,t))});var Iw=m((hU,xw)=>{"use strict";var dA=Ft(),{LEVEL:jw,MESSAGE:og}=Ge();xw.exports=dA((t,{stack:e,cause:r})=>{if(t instanceof Error){let i=Object.assign({},t,{level:t.level,[jw]:t[jw]||t.level,message:t.message,[og]:t[og]||t.message});return e&&(i.stack=t.stack),r&&(i.cause=t.cause),i}if(!(t.message instanceof Error))return t;let n=t.message;return Object.assign(t,n),t.message=n.message,t[og]=n.message,e&&(t.stack=n.stack),r&&(t.cause=n.cause),t})});var ag=m((gU,Sl)=>{"use strict";var{configs:hA,LEVEL:Lw,MESSAGE:sg}=Ge(),Rl=class t{constructor(e={levels:hA.npm.levels}){this.paddings=t.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){let r=Object.keys(e).map(n=>n.length);return Math.max(...r)}static paddingForLevel(e,r,n){let i=n+1-e.length,o=Math.floor(i/r.length);return`${r}${r.repeat(o)}`.slice(0,i)}static paddingForLevels(e,r=" "){let n=t.getLongestLevel(e);return Object.keys(e).reduce((i,o)=>(i[o]=t.paddingForLevel(o,r,n),i),{})}transform(e,r){return e.message=`${this.paddings[e[Lw]]}${e.message}`,e[sg]&&(e[sg]=`${this.paddings[e[Lw]]}${e[sg]}`),e}};Sl.exports=t=>new Rl(t);Sl.exports.Padder=Sl.exports.Format=Rl});var Fw=m((pU,ug)=>{"use strict";var{Colorizer:gA}=wl(),{Padder:pA}=ag(),{configs:mA,MESSAGE:vA}=Ge(),El=class{constructor(e={}){e.levels||(e.levels=mA.cli.levels),this.colorizer=new gA(e),this.padder=new pA(e),this.options=e}transform(e,r){return this.colorizer.transform(this.padder.transform(e,r),r),e[vA]=`${e.level}:${e.message}`,e}};ug.exports=t=>new El(t);ug.exports.Format=El});var $w=m((mU,lg)=>{"use strict";var yA=Ft();function kw(t){if(t.every(bA))return e=>{let r=e;for(let n=0;n<t.length;n++)if(r=t[n].transform(r,t[n].options),!r)return!1;return r}}function bA(t){if(typeof t.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}lg.exports=(...t)=>{let e=yA(kw(t)),r=e();return r.Format=e.Format,r};lg.exports.cascade=kw});var Bs=m((hg,Bw)=>{"use strict";var{hasOwnProperty:Dl}=Object.prototype,Pi=dg();Pi.configure=dg;Pi.stringify=Pi;Pi.default=Pi;hg.stringify=Pi;hg.configure=dg;Bw.exports=Pi;var _A=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function Wn(t){return t.length<5e3&&!_A.test(t)?`"${t}"`:JSON.stringify(t)}function cg(t){if(t.length>200)return t.sort();for(let e=1;e<t.length;e++){let r=t[e],n=e;for(;n!==0&&t[n-1]>r;)t[n]=t[n-1],n--;t[n]=r}return t}var wA=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function fg(t){return wA.call(t)!==void 0&&t.length!==0}function Ww(t,e,r){t.length<r&&(r=t.length);let n=e===","?"":" ",i=`"0":${n}${t[0]}`;for(let o=1;o<r;o++)i+=`${e}"${o}":${n}${t[o]}`;return i}function RA(t){if(Dl.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function Hw(t,e){let r;if(Dl.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function Uw(t,e){let r;if(Dl.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function Di(t){return t===1?"1 item":`${t} items`}function SA(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function EA(t){if(Dl.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function dg(t){t={...t};let e=EA(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=RA(t),n=Hw(t,"bigint"),i=Hw(t,"deterministic"),o=Uw(t,"maximumDepth"),s=Uw(t,"maximumBreadth");function a(g,h,R,D,M,P){let _=h[g];switch(typeof _=="object"&&_!==null&&typeof _.toJSON=="function"&&(_=_.toJSON(g)),_=D.call(h,g,_),typeof _){case"string":return Wn(_);case"object":{if(_===null)return"null";if(R.indexOf(_)!==-1)return r;let y="",C=",",L=P;if(Array.isArray(_)){if(_.length===0)return"[]";if(o<R.length+1)return'"[Array]"';R.push(_),M!==""&&(P+=M,y+=`
${P}`,C=`,
${P}`);let x=Math.min(_.length,s),z=0;for(;z<x-1;z++){let ce=a(String(z),_,R,D,M,P);y+=ce!==void 0?ce:"null",y+=C}let B=a(String(z),_,R,D,M,P);if(y+=B!==void 0?B:"null",_.length-1>s){let ce=_.length-s-1;y+=`${C}"... ${Di(ce)} not stringified"`}return M!==""&&(y+=`
${L}`),R.pop(),`[${y}]`}let k=Object.keys(_),Y=k.length;if(Y===0)return"{}";if(o<R.length+1)return'"[Object]"';let Z="",Ee="";M!==""&&(P+=M,C=`,
${P}`,Z=" ");let W=Math.min(Y,s);i&&!fg(_)&&(k=cg(k)),R.push(_);for(let x=0;x<W;x++){let z=k[x],B=a(z,_,R,D,M,P);B!==void 0&&(y+=`${Ee}${Wn(z)}:${Z}${B}`,Ee=C)}if(Y>s){let x=Y-s;y+=`${Ee}"...":${Z}"${Di(x)} not stringified"`,Ee=C}return M!==""&&Ee.length>1&&(y=`
${P}${y}
${L}`),R.pop(),`{${y}}`}case"number":return isFinite(_)?String(_):e?e(_):"null";case"boolean":return _===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(_);default:return e?e(_):void 0}}function u(g,h,R,D,M,P){switch(typeof h=="object"&&h!==null&&typeof h.toJSON=="function"&&(h=h.toJSON(g)),typeof h){case"string":return Wn(h);case"object":{if(h===null)return"null";if(R.indexOf(h)!==-1)return r;let _=P,y="",C=",";if(Array.isArray(h)){if(h.length===0)return"[]";if(o<R.length+1)return'"[Array]"';R.push(h),M!==""&&(P+=M,y+=`
${P}`,C=`,
${P}`);let Y=Math.min(h.length,s),Z=0;for(;Z<Y-1;Z++){let W=u(String(Z),h[Z],R,D,M,P);y+=W!==void 0?W:"null",y+=C}let Ee=u(String(Z),h[Z],R,D,M,P);if(y+=Ee!==void 0?Ee:"null",h.length-1>s){let W=h.length-s-1;y+=`${C}"... ${Di(W)} not stringified"`}return M!==""&&(y+=`
${_}`),R.pop(),`[${y}]`}R.push(h);let L="";M!==""&&(P+=M,C=`,
${P}`,L=" ");let k="";for(let Y of D){let Z=u(Y,h[Y],R,D,M,P);Z!==void 0&&(y+=`${k}${Wn(Y)}:${L}${Z}`,k=C)}return M!==""&&k.length>1&&(y=`
${P}${y}
${_}`),R.pop(),`{${y}}`}case"number":return isFinite(h)?String(h):e?e(h):"null";case"boolean":return h===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(h);default:return e?e(h):void 0}}function l(g,h,R,D,M){switch(typeof h){case"string":return Wn(h);case"object":{if(h===null)return"null";if(typeof h.toJSON=="function"){if(h=h.toJSON(g),typeof h!="object")return l(g,h,R,D,M);if(h===null)return"null"}if(R.indexOf(h)!==-1)return r;let P=M;if(Array.isArray(h)){if(h.length===0)return"[]";if(o<R.length+1)return'"[Array]"';R.push(h),M+=D;let Z=`
${M}`,Ee=`,
${M}`,W=Math.min(h.length,s),x=0;for(;x<W-1;x++){let B=l(String(x),h[x],R,D,M);Z+=B!==void 0?B:"null",Z+=Ee}let z=l(String(x),h[x],R,D,M);if(Z+=z!==void 0?z:"null",h.length-1>s){let B=h.length-s-1;Z+=`${Ee}"... ${Di(B)} not stringified"`}return Z+=`
${P}`,R.pop(),`[${Z}]`}let _=Object.keys(h),y=_.length;if(y===0)return"{}";if(o<R.length+1)return'"[Object]"';M+=D;let C=`,
${M}`,L="",k="",Y=Math.min(y,s);fg(h)&&(L+=Ww(h,C,s),_=_.slice(h.length),Y-=h.length,k=C),i&&(_=cg(_)),R.push(h);for(let Z=0;Z<Y;Z++){let Ee=_[Z],W=l(Ee,h[Ee],R,D,M);W!==void 0&&(L+=`${k}${Wn(Ee)}: ${W}`,k=C)}if(y>s){let Z=y-s;L+=`${k}"...": "${Di(Z)} not stringified"`,k=C}return k!==""&&(L=`
${M}${L}
${P}`),R.pop(),`{${L}}`}case"number":return isFinite(h)?String(h):e?e(h):"null";case"boolean":return h===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(h);default:return e?e(h):void 0}}function d(g,h,R){switch(typeof h){case"string":return Wn(h);case"object":{if(h===null)return"null";if(typeof h.toJSON=="function"){if(h=h.toJSON(g),typeof h!="object")return d(g,h,R);if(h===null)return"null"}if(R.indexOf(h)!==-1)return r;let D="";if(Array.isArray(h)){if(h.length===0)return"[]";if(o<R.length+1)return'"[Array]"';R.push(h);let C=Math.min(h.length,s),L=0;for(;L<C-1;L++){let Y=d(String(L),h[L],R);D+=Y!==void 0?Y:"null",D+=","}let k=d(String(L),h[L],R);if(D+=k!==void 0?k:"null",h.length-1>s){let Y=h.length-s-1;D+=`,"... ${Di(Y)} not stringified"`}return R.pop(),`[${D}]`}let M=Object.keys(h),P=M.length;if(P===0)return"{}";if(o<R.length+1)return'"[Object]"';let _="",y=Math.min(P,s);fg(h)&&(D+=Ww(h,",",s),M=M.slice(h.length),y-=h.length,_=","),i&&(M=cg(M)),R.push(h);for(let C=0;C<y;C++){let L=M[C],k=d(L,h[L],R);k!==void 0&&(D+=`${_}${Wn(L)}:${k}`,_=",")}if(P>s){let C=P-s;D+=`${_}"...":"${Di(C)} not stringified"`}return R.pop(),`{${D}}`}case"number":return isFinite(h)?String(h):e?e(h):"null";case"boolean":return h===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(h);default:return e?e(h):void 0}}function p(g,h,R){if(arguments.length>1){let D="";if(typeof R=="number"?D=" ".repeat(Math.min(R,10)):typeof R=="string"&&(D=R.slice(0,10)),h!=null){if(typeof h=="function")return a("",{"":g},[],h,D,"");if(Array.isArray(h))return u("",g,[],SA(h),D,"")}if(D.length!==0)return l("",g,[],D,"")}return d("",g,[])}return p}});var gg=m((vU,zw)=>{"use strict";var DA=Ft(),{MESSAGE:PA}=Ge(),TA=Bs();function qA(t,e){return typeof e=="bigint"?e.toString():e}zw.exports=DA((t,e)=>{let r=TA.configure(e);return t[PA]=r(t,e.replacer||qA,e.space),t})});var Vw=m((yU,Gw)=>{"use strict";var OA=Ft();Gw.exports=OA((t,e)=>e.message?(t.message=`[${e.label}] ${t.message}`,t):(t.label=e.label,t))});var Kw=m((bU,Yw)=>{"use strict";var MA=Ft(),{MESSAGE:CA}=Ge(),AA=Bs();Yw.exports=MA(t=>{let e={};return t.message&&(e["@message"]=t.message,delete t.message),t.timestamp&&(e["@timestamp"]=t.timestamp,delete t.timestamp),e["@fields"]=t,t[CA]=AA(e),t})});var Jw=m((_U,Xw)=>{"use strict";var NA=Ft();function jA(t,e,r){let n=e.reduce((o,s)=>(o[s]=t[s],delete t[s],o),{}),i=Object.keys(t).reduce((o,s)=>(o[s]=t[s],delete t[s],o),{});return Object.assign(t,n,{[r]:i}),t}function xA(t,e,r){return t[r]=e.reduce((n,i)=>(n[i]=t[i],delete t[i],n),{}),t}Xw.exports=NA((t,e={})=>{let r="metadata";e.key&&(r=e.key);let n=[];return!e.fillExcept&&!e.fillWith&&(n.push("level"),n.push("message")),e.fillExcept&&(n=e.fillExcept),n.length>0?jA(t,n,r):e.fillWith?xA(t,e.fillWith,r):t})});var Zw=m((wU,Qw)=>{var Po=1e3,To=Po*60,qo=To*60,Ti=qo*24,IA=Ti*7,LA=Ti*365.25;Qw.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return FA(t);if(r==="number"&&isFinite(t))return e.long?$A(t):kA(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function FA(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*LA;case"weeks":case"week":case"w":return r*IA;case"days":case"day":case"d":return r*Ti;case"hours":case"hour":case"hrs":case"hr":case"h":return r*qo;case"minutes":case"minute":case"mins":case"min":case"m":return r*To;case"seconds":case"second":case"secs":case"sec":case"s":return r*Po;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function kA(t){var e=Math.abs(t);return e>=Ti?Math.round(t/Ti)+"d":e>=qo?Math.round(t/qo)+"h":e>=To?Math.round(t/To)+"m":e>=Po?Math.round(t/Po)+"s":t+"ms"}function $A(t){var e=Math.abs(t);return e>=Ti?Pl(t,e,Ti,"day"):e>=qo?Pl(t,e,qo,"hour"):e>=To?Pl(t,e,To,"minute"):e>=Po?Pl(t,e,Po,"second"):t+" ms"}function Pl(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var tR=m((zs,eR)=>{"use strict";var WA=Ft(),HA=Zw();eR.exports=WA(t=>{let e=+new Date;return zs.diff=e-(zs.prevTime||e),zs.prevTime=e,t.ms=`+${HA(zs.diff)}`,t})});var iR=m((RU,nR)=>{"use strict";var UA=require("util").inspect,BA=Ft(),{LEVEL:zA,MESSAGE:rR,SPLAT:GA}=Ge();nR.exports=BA((t,e={})=>{let r=Object.assign({},t);return delete r[zA],delete r[rR],delete r[GA],t[rR]=UA(r,!1,e.depth||null,e.colorize),t})});var oR=m((SU,ql)=>{"use strict";var{MESSAGE:VA}=Ge(),Tl=class{constructor(e){this.template=e}transform(e){return e[VA]=this.template(e),e}};ql.exports=t=>new Tl(t);ql.exports.Printf=ql.exports.Format=Tl});var uR=m((EU,aR)=>{"use strict";var YA=Ft(),{MESSAGE:sR}=Ge(),KA=Bs();aR.exports=YA(t=>{let e=KA(Object.assign({},t,{level:void 0,message:void 0,splat:void 0})),r=t.padding&&t.padding[t.level]||"";return e!=="{}"?t[sR]=`${t.level}:${r} ${t.message} ${e}`:t[sR]=`${t.level}:${r} ${t.message}`,t})});var fR=m((DU,cR)=>{"use strict";var XA=require("util"),{SPLAT:lR}=Ge(),JA=/%[scdjifoO%]/g,QA=/%%/g,pg=class{constructor(e){this.options=e}_splat(e,r){let n=e.message,i=e[lR]||e.splat||[],o=n.match(QA),s=o&&o.length||0,u=r.length-s-i.length,l=u<0?i.splice(u,-1*u):[],d=l.length;if(d)for(let p=0;p<d;p++)Object.assign(e,l[p]);return e.message=XA.format(n,...i),e}transform(e){let r=e.message,n=e[lR]||e.splat;if(!n||!n.length)return e;let i=r&&r.match&&r.match(JA);if(!i&&(n||n.length)){let o=n.length>1?n.splice(0):n,s=o.length;if(s)for(let a=0;a<s;a++)Object.assign(e,o[a]);return e}return i?this._splat(e,i):e}};cR.exports=t=>new pg(t)});var hR=m((Ol,dR)=>{(function(t,e){typeof Ol=="object"&&typeof dR<"u"?e(Ol):typeof define=="function"&&define.amd?define(["exports"],e):e(t.fecha={})})(Ol,function(t){"use strict";var e=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="\\d\\d?",n="\\d\\d",i="\\d{3}",o="\\d{4}",s="[^\\s]+",a=/\[([^]*?)\]/gm;function u(O,H){for(var re=[],ue=0,J=O.length;ue<J;ue++)re.push(O[ue].substr(0,H));return re}var l=function(O){return function(H,re){var ue=re[O].map(function(st){return st.toLowerCase()}),J=ue.indexOf(H.toLowerCase());return J>-1?J:null}};function d(O){for(var H=[],re=1;re<arguments.length;re++)H[re-1]=arguments[re];for(var ue=0,J=H;ue<J.length;ue++){var st=J[ue];for(var _t in st)O[_t]=st[_t]}return O}var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"],h=u(g,3),R=u(p,3),D={dayNamesShort:R,dayNames:p,monthNamesShort:h,monthNames:g,amPm:["am","pm"],DoFn:function(O){return O+["th","st","nd","rd"][O%10>3?0:(O-O%10!==10?1:0)*O%10]}},M=d({},D),P=function(O){return M=d(M,O)},_=function(O){return O.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},y=function(O,H){for(H===void 0&&(H=2),O=String(O);O.length<H;)O="0"+O;return O},C={D:function(O){return String(O.getDate())},DD:function(O){return y(O.getDate())},Do:function(O,H){return H.DoFn(O.getDate())},d:function(O){return String(O.getDay())},dd:function(O){return y(O.getDay())},ddd:function(O,H){return H.dayNamesShort[O.getDay()]},dddd:function(O,H){return H.dayNames[O.getDay()]},M:function(O){return String(O.getMonth()+1)},MM:function(O){return y(O.getMonth()+1)},MMM:function(O,H){return H.monthNamesShort[O.getMonth()]},MMMM:function(O,H){return H.monthNames[O.getMonth()]},YY:function(O){return y(String(O.getFullYear()),4).substr(2)},YYYY:function(O){return y(O.getFullYear(),4)},h:function(O){return String(O.getHours()%12||12)},hh:function(O){return y(O.getHours()%12||12)},H:function(O){return String(O.getHours())},HH:function(O){return y(O.getHours())},m:function(O){return String(O.getMinutes())},mm:function(O){return y(O.getMinutes())},s:function(O){return String(O.getSeconds())},ss:function(O){return y(O.getSeconds())},S:function(O){return String(Math.round(O.getMilliseconds()/100))},SS:function(O){return y(Math.round(O.getMilliseconds()/10),2)},SSS:function(O){return y(O.getMilliseconds(),3)},a:function(O,H){return O.getHours()<12?H.amPm[0]:H.amPm[1]},A:function(O,H){return O.getHours()<12?H.amPm[0].toUpperCase():H.amPm[1].toUpperCase()},ZZ:function(O){var H=O.getTimezoneOffset();return(H>0?"-":"+")+y(Math.floor(Math.abs(H)/60)*100+Math.abs(H)%60,4)},Z:function(O){var H=O.getTimezoneOffset();return(H>0?"-":"+")+y(Math.floor(Math.abs(H)/60),2)+":"+y(Math.abs(H)%60,2)}},L=function(O){return+O-1},k=[null,r],Y=[null,s],Z=["isPm",s,function(O,H){var re=O.toLowerCase();return re===H.amPm[0]?0:re===H.amPm[1]?1:null}],Ee=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(O){var H=(O+"").match(/([+-]|\d\d)/gi);if(H){var re=+H[1]*60+parseInt(H[2],10);return H[0]==="+"?re:-re}return 0}],W={D:["day",r],DD:["day",n],Do:["day",r+s,function(O){return parseInt(O,10)}],M:["month",r,L],MM:["month",n,L],YY:["year",n,function(O){var H=new Date,re=+(""+H.getFullYear()).substr(0,2);return+(""+(+O>68?re-1:re)+O)}],h:["hour",r,void 0,"isPm"],hh:["hour",n,void 0,"isPm"],H:["hour",r],HH:["hour",n],m:["minute",r],mm:["minute",n],s:["second",r],ss:["second",n],YYYY:["year",o],S:["millisecond","\\d",function(O){return+O*100}],SS:["millisecond",n,function(O){return+O*10}],SSS:["millisecond",i],d:k,dd:k,ddd:Y,dddd:Y,MMM:["month",s,l("monthNamesShort")],MMMM:["month",s,l("monthNames")],a:Z,A:Z,ZZ:Ee,Z:Ee},x={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},z=function(O){return d(x,O)},B=function(O,H,re){if(H===void 0&&(H=x.default),re===void 0&&(re={}),typeof O=="number"&&(O=new Date(O)),Object.prototype.toString.call(O)!=="[object Date]"||isNaN(O.getTime()))throw new Error("Invalid Date pass to format");H=x[H]||H;var ue=[];H=H.replace(a,function(st,_t){return ue.push(_t),"@@@"});var J=d(d({},M),re);return H=H.replace(e,function(st){return C[st](O,J)}),H.replace(/@@@/g,function(){return ue.shift()})};function ce(O,H,re){if(re===void 0&&(re={}),typeof H!="string")throw new Error("Invalid format in fecha parse");if(H=x[H]||H,O.length>1e3)return null;var ue=new Date,J={year:ue.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},st=[],_t=[],xr=H.replace(a,function(Lr,Vt){return _t.push(_(Vt)),"@@@"}),Ir={},Tn={};xr=_(xr).replace(e,function(Lr){var Vt=W[Lr],qn=Vt[0],vr=Vt[1],yr=Vt[3];if(Ir[qn])throw new Error("Invalid format. "+qn+" specified twice in format");return Ir[qn]=!0,yr&&(Tn[yr]=!0),st.push(Vt),"("+vr+")"}),Object.keys(Tn).forEach(function(Lr){if(!Ir[Lr])throw new Error("Invalid format. "+Lr+" is required in specified format")}),xr=xr.replace(/@@@/g,function(){return _t.shift()});var an=O.match(new RegExp(xr,"i"));if(!an)return null;for(var Qi=d(d({},M),re),ht=1;ht<an.length;ht++){var pi=st[ht-1],Zi=pi[0],un=pi[2],At=un?un(an[ht],Qi):+an[ht];if(At==null)return null;J[Zi]=At}J.isPm===1&&J.hour!=null&&+J.hour!=12?J.hour=+J.hour+12:J.isPm===0&&+J.hour==12&&(J.hour=0);var ln;if(J.timezoneOffset==null){ln=new Date(J.year,J.month,J.day,J.hour,J.minute,J.second,J.millisecond);for(var cn=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],ht=0,fn=cn.length;ht<fn;ht++)if(Ir[cn[ht][0]]&&J[cn[ht][0]]!==ln[cn[ht][1]]())return null}else if(ln=new Date(Date.UTC(J.year,J.month,J.day,J.hour,J.minute-J.timezoneOffset,J.second,J.millisecond)),J.month>11||J.month<0||J.day>31||J.day<1||J.hour>23||J.hour<0||J.minute>59||J.minute<0||J.second>59||J.second<0)return null;return ln}var he={format:B,parse:ce,defaultI18n:D,setGlobalDateI18n:P,setGlobalDateMasks:z};t.assign=d,t.default=he,t.format=B,t.parse=ce,t.defaultI18n=D,t.setGlobalDateI18n=P,t.setGlobalDateMasks=z,Object.defineProperty(t,"__esModule",{value:!0})})});var pR=m((PU,gR)=>{"use strict";var ZA=hR(),eN=Ft();gR.exports=eN((t,e={})=>(e.format&&(t.timestamp=typeof e.format=="function"?e.format():ZA.format(new Date,e.format)),t.timestamp||(t.timestamp=new Date().toISOString()),e.alias&&(t[e.alias]=t.timestamp),t))});var vR=m((TU,mR)=>{"use strict";var mg=Qh(),tN=Ft(),{MESSAGE:vg}=Ge();mR.exports=tN((t,e)=>(e.level!==!1&&(t.level=mg.strip(t.level)),e.message!==!1&&(t.message=mg.strip(String(t.message))),e.raw!==!1&&t[vg]&&(t[vg]=mg.strip(String(t[vg]))),t))});var bg=m(yg=>{"use strict";var rN=yg.format=Ft();yg.levels=Cw();function ut(t,e){Object.defineProperty(rN,t,{get(){return e()},configurable:!0})}ut("align",function(){return Nw()});ut("errors",function(){return Iw()});ut("cli",function(){return Fw()});ut("combine",function(){return $w()});ut("colorize",function(){return wl()});ut("json",function(){return gg()});ut("label",function(){return Vw()});ut("logstash",function(){return Kw()});ut("metadata",function(){return Jw()});ut("ms",function(){return tR()});ut("padLevels",function(){return ag()});ut("prettyPrint",function(){return iR()});ut("printf",function(){return oR()});ut("simple",function(){return uR()});ut("splat",function(){return fR()});ut("timestamp",function(){return pR()});ut("uncolorize",function(){return vR()})});var _g=m(Ml=>{"use strict";var{format:yR}=require("util");Ml.warn={deprecated(t){return()=>{throw new Error(yR("{ %s } was removed in winston@3.0.0.",t))}},useFormat(t){return()=>{throw new Error([yR("{ %s } was removed in winston@3.0.0.",t),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(t,e,r){r.forEach(n=>{t[n]=Ml.warn[e](n)})},forProperties(t,e,r){r.forEach(n=>{let i=Ml.warn[e](n);Object.defineProperty(t,n,{get:i,set:i})})}}});var bR=m((MU,nN)=>{nN.exports={name:"winston",description:"A logger for just about everything.",version:"3.12.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.4.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.7.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^5.0.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^15.1.0",rimraf:"^5.0.5",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var wg=m((CU,_R)=>{_R.exports=require("util").deprecate});var Rg=m((AU,wR)=>{wR.exports=require("stream")});var Eg=m((NU,SR)=>{"use strict";function iN(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Sg,this,t)):process.nextTick(Sg,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(Cl,r):(r._writableState.errorEmitted=!0,process.nextTick(RR,r,o)):process.nextTick(RR,r,o):e?(process.nextTick(Cl,r),e(o)):process.nextTick(Cl,r)}),this)}function RR(t,e){Sg(t,e),Cl(t)}function Cl(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function oN(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Sg(t,e){t.emit("error",e)}function sN(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}SR.exports={destroy:iN,undestroy:oN,errorOrDestroy:sN}});var Oo=m((jU,PR)=>{"use strict";var DR={};function sr(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}class i extends r{constructor(s,a,u){super(n(s,a,u))}}i.prototype.name=r.name,i.prototype.code=t,DR[t]=i}function ER(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function aN(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function uN(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function lN(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}sr("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);sr("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&aN(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(uN(t," argument"))i=`The ${t} ${n} ${ER(e,"type")}`;else{let o=lN(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${ER(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);sr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");sr("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});sr("ERR_STREAM_PREMATURE_CLOSE","Premature close");sr("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});sr("ERR_MULTIPLE_CALLBACK","Callback called multiple times");sr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");sr("ERR_STREAM_WRITE_AFTER_END","write after end");sr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);sr("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);sr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");PR.exports.codes=DR});var Dg=m((xU,TR)=>{"use strict";var cN=Oo().codes.ERR_INVALID_OPT_VALUE;function fN(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function dN(t,e,r,n){var i=fN(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new cN(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}TR.exports={getHighWaterMark:dN}});var qR=m((IU,Pg)=>{typeof Object.create=="function"?Pg.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Pg.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var mn=m((LU,qg)=>{try{if(Tg=require("util"),typeof Tg.inherits!="function")throw"";qg.exports=Tg.inherits}catch{qg.exports=qR()}var Tg});var jR=m((FU,NR)=>{"use strict";function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){hN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hN(t,e,r){return e=AR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AR(n.key),n)}}function pN(t,e,r){return e&&CR(t.prototype,e),r&&CR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function AR(t){var e=mN(t,"string");return typeof e=="symbol"?e:String(e)}function mN(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vN=require("buffer"),Al=vN.Buffer,yN=require("util"),Og=yN.inspect,bN=Og&&Og.custom||"inspect";function _N(t,e,r){Al.prototype.copy.call(t,e,r)}NR.exports=function(){function t(){gN(this,t),this.head=null,this.tail=null,this.length=0}return pN(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Al.alloc(0);for(var n=Al.allocUnsafe(r>>>0),i=this.head,o=0;i;)_N(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Al.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:bN,value:function(r,n){return Og(this,MR(MR({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var LR=m((Mg,IR)=>{var Nl=require("buffer"),vn=Nl.Buffer;function xR(t,e){for(var r in t)e[r]=t[r]}vn.from&&vn.alloc&&vn.allocUnsafe&&vn.allocUnsafeSlow?IR.exports=Nl:(xR(Nl,Mg),Mg.Buffer=Mo);function Mo(t,e,r){return vn(t,e,r)}xR(vn,Mo);Mo.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return vn(t,e,r)};Mo.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=vn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Mo.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return vn(t)};Mo.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Nl.SlowBuffer(t)}});var Vs=m(kR=>{"use strict";var Ag=LR().Buffer,FR=Ag.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function wN(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function RN(t){var e=wN(t);if(typeof e!="string"&&(Ag.isEncoding===FR||!FR(t)))throw new Error("Unknown encoding: "+t);return e||t}kR.StringDecoder=Gs;function Gs(t){this.encoding=RN(t);var e;switch(this.encoding){case"utf16le":this.text=qN,this.end=ON,e=4;break;case"utf8":this.fillLast=DN,e=4;break;case"base64":this.text=MN,this.end=CN,e=3;break;default:this.write=AN,this.end=NN;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ag.allocUnsafe(e)}Gs.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Gs.prototype.end=TN;Gs.prototype.text=PN;Gs.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Cg(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function SN(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Cg(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Cg(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Cg(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function EN(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function DN(t){var e=this.lastTotal-this.lastNeed,r=EN(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function PN(t,e){var r=SN(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function TN(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function qN(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function ON(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function MN(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function CN(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function AN(t){return t.toString(this.encoding)}function NN(t){return t&&t.length?this.write(t):""}});var UR=m(($U,HR)=>{"use strict";var $R=Oo().codes.ERR_STREAM_PREMATURE_CLOSE;function jN(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function xN(){}function IN(t){return t.setHeader&&typeof t.abort=="function"}function WR(t,e,r){if(typeof e=="function")return WR(t,null,e);e||(e={}),r=jN(r||xN);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,u=!0,i||r.call(t)},d=function(R){r.call(t,R)},p=function(){var R;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(R=new $R),r.call(t,R);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(R=new $R),r.call(t,R)},g=function(){t.req.on("finish",a)};return IN(t)?(t.on("complete",a),t.on("abort",p),t.req?g():t.on("request",g)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",p)}}HR.exports=WR});var zR=m((WU,BR)=>{"use strict";var jl;function Hn(t,e,r){return e=LN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LN(t){var e=FN(t,"string");return typeof e=="symbol"?e:String(e)}function FN(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kN=UR(),Un=Symbol("lastResolve"),qi=Symbol("lastReject"),Ys=Symbol("error"),xl=Symbol("ended"),Oi=Symbol("lastPromise"),Ng=Symbol("handlePromise"),Mi=Symbol("stream");function Bn(t,e){return{value:t,done:e}}function $N(t){var e=t[Un];if(e!==null){var r=t[Mi].read();r!==null&&(t[Oi]=null,t[Un]=null,t[qi]=null,e(Bn(r,!1)))}}function WN(t){process.nextTick($N,t)}function HN(t,e){return function(r,n){t.then(function(){if(e[xl]){r(Bn(void 0,!0));return}e[Ng](r,n)},n)}}var UN=Object.getPrototypeOf(function(){}),BN=Object.setPrototypeOf((jl={get stream(){return this[Mi]},next:function(){var e=this,r=this[Ys];if(r!==null)return Promise.reject(r);if(this[xl])return Promise.resolve(Bn(void 0,!0));if(this[Mi].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[Ys]?a(e[Ys]):s(Bn(void 0,!0))})});var n=this[Oi],i;if(n)i=new Promise(HN(n,this));else{var o=this[Mi].read();if(o!==null)return Promise.resolve(Bn(o,!1));i=new Promise(this[Ng])}return this[Oi]=i,i}},Hn(jl,Symbol.asyncIterator,function(){return this}),Hn(jl,"return",function(){var e=this;return new Promise(function(r,n){e[Mi].destroy(null,function(i){if(i){n(i);return}r(Bn(void 0,!0))})})}),jl),UN),zN=function(e){var r,n=Object.create(BN,(r={},Hn(r,Mi,{value:e,writable:!0}),Hn(r,Un,{value:null,writable:!0}),Hn(r,qi,{value:null,writable:!0}),Hn(r,Ys,{value:null,writable:!0}),Hn(r,xl,{value:e._readableState.endEmitted,writable:!0}),Hn(r,Ng,{value:function(o,s){var a=n[Mi].read();a?(n[Oi]=null,n[Un]=null,n[qi]=null,o(Bn(a,!1))):(n[Un]=o,n[qi]=s)},writable:!0}),r));return n[Oi]=null,kN(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[qi];o!==null&&(n[Oi]=null,n[Un]=null,n[qi]=null,o(i)),n[Ys]=i;return}var s=n[Un];s!==null&&(n[Oi]=null,n[Un]=null,n[qi]=null,s(Bn(void 0,!0))),n[xl]=!0}),e.on("readable",WN.bind(null,n)),n};BR.exports=zN});var KR=m((HU,YR)=>{"use strict";function GR(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(n,i)}function GN(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(u){GR(o,n,i,s,a,"next",u)}function a(u){GR(o,n,i,s,a,"throw",u)}s(void 0)})}}function VR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(r),!0).forEach(function(n){YN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YN(t,e,r){return e=KN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KN(t){var e=XN(t,"string");return typeof e=="symbol"?e:String(e)}function XN(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JN=Oo().codes.ERR_INVALID_ARG_TYPE;function QN(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new JN("iterable",["Iterable"],e);var i=new t(VN({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,s())};function s(){return a.apply(this,arguments)}function a(){return a=GN(function*(){try{var u=yield n.next(),l=u.value,d=u.done;d?i.push(null):i.push(yield l)?s():o=!1}catch(p){i.destroy(p)}}),a.apply(this,arguments)}return i}YR.exports=QN});var sS=m((BU,oS)=>{"use strict";oS.exports=be;var Co;be.ReadableState=ZR;var UU=require("events").EventEmitter,QR=function(e,r){return e.listeners(r).length},Xs=Rg(),Il=require("buffer").Buffer,ZN=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ej(t){return Il.from(t)}function tj(t){return Il.isBuffer(t)||t instanceof ZN}var jg=require("util"),fe;jg&&jg.debuglog?fe=jg.debuglog("stream"):fe=function(){};var rj=jR(),Wg=Eg(),nj=Dg(),ij=nj.getHighWaterMark,Ll=Oo().codes,oj=Ll.ERR_INVALID_ARG_TYPE,sj=Ll.ERR_STREAM_PUSH_AFTER_EOF,aj=Ll.ERR_METHOD_NOT_IMPLEMENTED,uj=Ll.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ao,xg,Ig;mn()(be,Xs);var Ks=Wg.errorOrDestroy,Lg=["error","close","destroy","pause","resume"];function lj(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function ZR(t,e,r){Co=Co||Js(),t=t||{},typeof r!="boolean"&&(r=e instanceof Co),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=ij(this,t,"readableHighWaterMark",r),this.buffer=new rj,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ao||(Ao=Vs().StringDecoder),this.decoder=new Ao(t.encoding),this.encoding=t.encoding)}function be(t){if(Co=Co||Js(),!(this instanceof be))return new be(t);var e=this instanceof Co;this._readableState=new ZR(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Xs.call(this)}Object.defineProperty(be.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});be.prototype.destroy=Wg.destroy;be.prototype._undestroy=Wg.undestroy;be.prototype._destroy=function(t,e){e(t)};be.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Il.from(t,e),e=""),n=!0),eS(this,t,e,!1,n)};be.prototype.unshift=function(t){return eS(this,t,null,!0,!1)};function eS(t,e,r,n,i){fe("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,dj(t,o);else{var s;if(i||(s=cj(o,e)),s)Ks(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Il.prototype&&(e=ej(e)),n)o.endEmitted?Ks(t,new uj):Fg(t,o,e,!0);else if(o.ended)Ks(t,new sj);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?Fg(t,o,e,!1):$g(t,o)):Fg(t,o,e,!1)}else n||(o.reading=!1,$g(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function Fg(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Fl(t)),$g(t,e)}function cj(t,e){var r;return!tj(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new oj("chunk",["string","Buffer","Uint8Array"],e)),r}be.prototype.isPaused=function(){return this._readableState.flowing===!1};be.prototype.setEncoding=function(t){Ao||(Ao=Vs().StringDecoder);var e=new Ao(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var XR=1073741824;function fj(t){return t>=XR?t=XR:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function JR(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=fj(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}be.prototype.read=function(t){fe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return fe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?kg(this):Fl(this),null;if(t=JR(t,e),t===0&&e.ended)return e.length===0&&kg(this),null;var n=e.needReadable;fe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,fe("length less than watermark",n)),e.ended||e.reading?(n=!1,fe("reading or ended",n)):n&&(fe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=JR(r,e)));var i;return t>0?i=nS(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&kg(this)),i!==null&&this.emit("data",i),i};function dj(t,e){if(fe("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Fl(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,tS(t)))}}function Fl(t){var e=t._readableState;fe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(fe("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(tS,t))}function tS(t){var e=t._readableState;fe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Hg(t)}function $g(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(hj,t,e))}function hj(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(fe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}be.prototype._read=function(t){Ks(this,new aj("_read()"))};be.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,fe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:D;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(M,P){fe("onunpipe"),M===r&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,d())}function a(){fe("onend"),t.end()}var u=gj(r);t.on("drain",u);var l=!1;function d(){fe("cleanup"),t.removeListener("close",h),t.removeListener("finish",R),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",D),r.removeListener("data",p),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",p);function p(M){fe("ondata");var P=t.write(M);fe("dest.write",P),P===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&iS(n.pipes,t)!==-1)&&!l&&(fe("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function g(M){fe("onerror",M),D(),t.removeListener("error",g),QR(t,"error")===0&&Ks(t,M)}lj(t,"error",g);function h(){t.removeListener("finish",R),D()}t.once("close",h);function R(){fe("onfinish"),t.removeListener("close",h),D()}t.once("finish",R);function D(){fe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(fe("pipe resume"),r.resume()),t};function gj(t){return function(){var r=t._readableState;fe("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&QR(t,"data")&&(r.flowing=!0,Hg(t))}}be.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=iS(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};be.prototype.on=function(t,e){var r=Xs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,fe("on readable",n.length,n.reading),n.length?Fl(this):n.reading||process.nextTick(pj,this)),r};be.prototype.addListener=be.prototype.on;be.prototype.removeListener=function(t,e){var r=Xs.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(rS,this),r};be.prototype.removeAllListeners=function(t){var e=Xs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(rS,this),e};function rS(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function pj(t){fe("readable nexttick read 0"),t.read(0)}be.prototype.resume=function(){var t=this._readableState;return t.flowing||(fe("resume"),t.flowing=!t.readableListening,mj(this,t)),t.paused=!1,this};function mj(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(vj,t,e))}function vj(t,e){fe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Hg(t),e.flowing&&!e.reading&&t.read(0)}be.prototype.pause=function(){return fe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(fe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Hg(t){var e=t._readableState;for(fe("flow",e.flowing);e.flowing&&t.read()!==null;);}be.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(fe("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(fe("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var o=0;o<Lg.length;o++)t.on(Lg[o],this.emit.bind(this,Lg[o]));return this._read=function(s){fe("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(be.prototype[Symbol.asyncIterator]=function(){return xg===void 0&&(xg=zR()),xg(this)});Object.defineProperty(be.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(be.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(be.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});be._fromList=nS;Object.defineProperty(be.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function nS(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function kg(t){var e=t._readableState;fe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(yj,e,t))}function yj(t,e){if(fe("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(be.from=function(t,e){return Ig===void 0&&(Ig=KR()),Ig(be,t,e)});function iS(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Js=m((zU,uS)=>{"use strict";var bj=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};uS.exports=Ur;var aS=sS(),Bg=zg();mn()(Ur,aS);for(Ug=bj(Bg.prototype),kl=0;kl<Ug.length;kl++)$l=Ug[kl],Ur.prototype[$l]||(Ur.prototype[$l]=Bg.prototype[$l]);var Ug,$l,kl;function Ur(t){if(!(this instanceof Ur))return new Ur(t);aS.call(this,t),Bg.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_j)))}Object.defineProperty(Ur.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ur.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ur.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _j(){this._writableState.ended||process.nextTick(wj,this)}function wj(t){t.end()}Object.defineProperty(Ur.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var zg=m((GU,gS)=>{"use strict";gS.exports=Ve;function cS(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Yj(e,t)}}var No;Ve.WritableState=Zs;var Rj={deprecate:wg()},fS=Rg(),Hl=require("buffer").Buffer,Sj=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Ej(t){return Hl.from(t)}function Dj(t){return Hl.isBuffer(t)||t instanceof Sj}var Vg=Eg(),Pj=Dg(),Tj=Pj.getHighWaterMark,zn=Oo().codes,qj=zn.ERR_INVALID_ARG_TYPE,Oj=zn.ERR_METHOD_NOT_IMPLEMENTED,Mj=zn.ERR_MULTIPLE_CALLBACK,Cj=zn.ERR_STREAM_CANNOT_PIPE,Aj=zn.ERR_STREAM_DESTROYED,Nj=zn.ERR_STREAM_NULL_VALUES,jj=zn.ERR_STREAM_WRITE_AFTER_END,xj=zn.ERR_UNKNOWN_ENCODING,jo=Vg.errorOrDestroy;mn()(Ve,fS);function Ij(){}function Zs(t,e,r){No=No||Js(),t=t||{},typeof r!="boolean"&&(r=e instanceof No),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Tj(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Uj(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new cS(this)}Zs.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Zs.prototype,"buffer",{get:Rj.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Wl;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Wl=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ve,Symbol.hasInstance,{value:function(e){return Wl.call(this,e)?!0:this!==Ve?!1:e&&e._writableState instanceof Zs}})):Wl=function(e){return e instanceof this};function Ve(t){No=No||Js();var e=this instanceof No;if(!e&&!Wl.call(Ve,this))return new Ve(t);this._writableState=new Zs(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),fS.call(this)}Ve.prototype.pipe=function(){jo(this,new Cj)};function Lj(t,e){var r=new jj;jo(t,r),process.nextTick(e,r)}function Fj(t,e,r,n){var i;return r===null?i=new Nj:typeof r!="string"&&!e.objectMode&&(i=new qj("chunk",["string","Buffer"],r)),i?(jo(t,i),process.nextTick(n,i),!1):!0}Ve.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&Dj(t);return o&&!Hl.isBuffer(t)&&(t=Ej(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Ij),n.ending?Lj(this,r):(o||Fj(this,n,t,r))&&(n.pendingcb++,i=$j(this,n,o,t,e,r)),i};Ve.prototype.cork=function(){this._writableState.corked++};Ve.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&dS(this,t))};Ve.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new xj(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ve.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function kj(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Hl.from(e,r)),e}Object.defineProperty(Ve.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function $j(t,e,r,n,i,o){if(!r){var s=kj(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Gg(t,e,!1,a,n,i,o);return u}function Gg(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Aj("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Wj(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Qs,t,e),t._writableState.errorEmitted=!0,jo(t,n)):(i(n),t._writableState.errorEmitted=!0,jo(t,n),Qs(t,e))}function Hj(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Uj(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Mj;if(Hj(r),e)Wj(t,r,n,e,i);else{var o=hS(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&dS(t,r),n?process.nextTick(lS,t,r,o,i):lS(t,r,o,i)}}function lS(t,e,r,n){r||Bj(t,e),e.pendingcb--,n(),Qs(t,e)}function Bj(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function dS(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,Gg(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new cS(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback,p=e.objectMode?1:u.length;if(Gg(t,e,!1,p,u,l,d),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ve.prototype._write=function(t,e,r){r(new Oj("_write()"))};Ve.prototype._writev=null;Ve.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Vj(this,n,r),this};Object.defineProperty(Ve.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function hS(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function zj(t,e){t._final(function(r){e.pendingcb--,r&&jo(t,r),e.prefinished=!0,t.emit("prefinish"),Qs(t,e)})}function Gj(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(zj,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Qs(t,e){var r=hS(e);if(r&&(Gj(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Vj(t,e,r){e.ending=!0,Qs(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Yj(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ve.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Ve.prototype.destroy=Vg.destroy;Ve.prototype._undestroy=Vg.undestroy;Ve.prototype._destroy=function(t,e){e(t)}});var Yg=m((VU,vS)=>{"use strict";var Kj=require("util"),pS=zg(),{LEVEL:mS}=Ge(),ea=vS.exports=function(e={}){pS.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close())})};Kj.inherits(ea,pS);ea.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);let i=this.level||this.parent&&this.parent.level;if(!i||this.levels[i]>=this.levels[e[mS]]){if(e&&!this.format)return this.log(e,n);let o,s;try{s=this.format.transform(Object.assign({},e),this.format.options)}catch(a){o=a}if(o||!s){if(n(),o)throw o;return}return this.log(s,n)}return this._writableState.sync=!1,n(null)};ea.prototype._writev=function(e,r){if(this.logv){let n=e.filter(this._accept,this);return n.length?this.logv(n,r):r(null)}for(let n=0;n<e.length;n++){if(!this._accept(e[n]))continue;if(e[n].chunk&&!this.format){this.log(e[n].chunk,e[n].callback);continue}let i,o;try{o=this.format.transform(Object.assign({},e[n].chunk),this.format.options)}catch(s){i=s}if(i||!o){if(e[n].callback(),i)throw r(null),i}else this.log(o,e[n].callback)}return r(null)};ea.prototype._accept=function(e){let r=e.chunk;if(this.silent)return!1;let n=this.level||this.parent&&this.parent.level;return!!((r.exception===!0||!n||this.levels[n]>=this.levels[r[mS]])&&(this.handleExceptions||r.exception!==!0))};ea.prototype._nop=function(){}});var Xg=m((YU,bS)=>{"use strict";var Xj=require("util"),{LEVEL:Kg}=Ge(),yS=Yg(),ta=bS.exports=function(e={}){if(yS.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function r(n){this.emit("error",n,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError))};Xj.inherits(ta,yS);ta.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[e[Kg]])&&this.transport.log(e[Kg],e.message,e,this._nop),n(null)};ta.prototype._writev=function(e,r){for(let n=0;n<e.length;n++)this._accept(e[n])&&(this.transport.log(e[n].chunk[Kg],e[n].chunk.message,e[n].chunk,this._nop),e[n].callback());return r(null)};ta.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};ta.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}});var Ci=m((KU,Jg)=>{"use strict";Jg.exports=Yg();Jg.exports.LegacyTransportStream=Xg()});var RS=m((JU,wS)=>{"use strict";var Jj=require("os"),{LEVEL:_S,MESSAGE:xo}=Ge(),Qj=Ci();wS.exports=class extends Qj{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=typeof e.eol=="string"?e.eol:Jj.EOL,this.setMaxListeners(30)}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[_S]]){console._stderr?console._stderr.write(`${e[xo]}${this.eol}`):console.error(e[xo]),r&&r();return}else if(this.consoleWarnLevels[e[_S]]){console._stderr?console._stderr.write(`${e[xo]}${this.eol}`):console.warn(e[xo]),r&&r();return}console._stdout?console._stdout.write(`${e[xo]}${this.eol}`):console.log(e[xo]),r&&r()}_stringArrayToSet(e,r){if(!e)return{};if(r=r||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(r);return e.reduce((n,i)=>{if(typeof i!="string")throw new Error(r);return n[i]=!0,n},{})}}});var Bl=m((Ul,SS)=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.default=Zj;function Zj(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}SS.exports=Ul.default});var DS=m((zl,ES)=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.default=function(t){return function(...e){var r=e.pop();return t.call(this,e,r)}};ES.exports=zl.default});var qS=m(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.fallback=PS;Gn.wrap=TS;var ex=Gn.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,tx=Gn.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,rx=Gn.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function PS(t){setTimeout(t,0)}function TS(t){return(e,...r)=>t(()=>e(...r))}var ra;ex?ra=queueMicrotask:tx?ra=setImmediate:rx?ra=process.nextTick:ra=PS;Gn.default=TS(ra)});var NS=m((Gl,AS)=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.default=ux;var nx=DS(),ix=CS(nx),ox=qS(),sx=CS(ox),ax=Ai();function CS(t){return t&&t.__esModule?t:{default:t}}function ux(t){return(0,ax.isAsync)(t)?function(...e){let r=e.pop(),n=t.apply(this,e);return OS(n,r)}:(0,ix.default)(function(e,r){var n;try{n=t.apply(this,e)}catch(i){return r(i)}if(n&&typeof n.then=="function")return OS(n,r);r(null,n)})}function OS(t,e){return t.then(r=>{MS(e,null,r)},r=>{MS(e,r&&(r instanceof Error||r.message)?r:new Error(r))})}function MS(t,e,r){try{t(e,r)}catch(n){(0,sx.default)(i=>{throw i},n)}}AS.exports=Gl.default});var Ai=m(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.isAsyncIterable=yn.isAsyncGenerator=yn.isAsync=void 0;var lx=NS(),cx=fx(lx);function fx(t){return t&&t.__esModule?t:{default:t}}function jS(t){return t[Symbol.toStringTag]==="AsyncFunction"}function dx(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function hx(t){return typeof t[Symbol.asyncIterator]=="function"}function gx(t){if(typeof t!="function")throw new Error("expected a function");return jS(t)?(0,cx.default)(t):t}yn.default=gx;yn.isAsync=jS;yn.isAsyncGenerator=dx;yn.isAsyncIterable=hx});var Io=m((Vl,xS)=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.default=px;function px(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");function r(...n){return typeof n[e-1]=="function"?t.apply(this,n):new Promise((i,o)=>{n[e-1]=(s,...a)=>{if(s)return o(s);i(a.length>1?a:a[0])},t.apply(this,n)})}return r}xS.exports=Vl.default});var LS=m((Yl,IS)=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});var mx=Bl(),vx=Qg(mx),yx=Ai(),bx=Qg(yx),_x=Io(),wx=Qg(_x);function Qg(t){return t&&t.__esModule?t:{default:t}}Yl.default=(0,wx.default)((t,e,r)=>{var n=(0,vx.default)(e)?[]:{};t(e,(i,o,s)=>{(0,bx.default)(i)((a,...u)=>{u.length<2&&([u]=u),n[o]=u,s(a)})},i=>r(i,n))},3);IS.exports=Yl.default});var Zg=m((Kl,FS)=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.default=Rx;function Rx(t){function e(...r){if(t!==null){var n=t;t=null,n.apply(this,r)}}return Object.assign(e,t),e}FS.exports=Kl.default});var $S=m((Xl,kS)=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()};kS.exports=Xl.default});var US=m((Jl,HS)=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.default=Mx;var Sx=Bl(),Ex=WS(Sx),Dx=$S(),Px=WS(Dx);function WS(t){return t&&t.__esModule?t:{default:t}}function Tx(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}function qx(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function Ox(t){var e=t?Object.keys(t):[],r=-1,n=e.length;return function i(){var o=e[++r];return o==="__proto__"?i():r<n?{value:t[o],key:o}:null}}function Mx(t){if((0,Ex.default)(t))return Tx(t);var e=(0,Px.default)(t);return e?qx(e):Ox(t)}HS.exports=Jl.default});var ep=m((Ql,BS)=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.default=Cx;function Cx(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}BS.exports=Ql.default});var ec=m((Zl,zS)=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});var Ax={};Zl.default=Ax;zS.exports=Zl.default});var VS=m((tc,GS)=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.default=Ix;var Nx=ec(),jx=xx(Nx);function xx(t){return t&&t.__esModule?t:{default:t}}function Ix(t,e,r,n){let i=!1,o=!1,s=!1,a=0,u=0;function l(){a>=e||s||i||(s=!0,t.next().then(({value:g,done:h})=>{if(!(o||i)){if(s=!1,h){i=!0,a<=0&&n(null);return}a++,r(g,u,d),u++,l()}}).catch(p))}function d(g,h){if(a-=1,!o){if(g)return p(g);if(g===!1){i=!0,o=!0;return}if(h===jx.default||i&&a<=0)return i=!0,n(null);l()}}function p(g){o||(s=!1,i=!0,n(g))}l()}GS.exports=tc.default});var JS=m((rc,XS)=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var Lx=Zg(),Fx=na(Lx),kx=US(),$x=na(kx),Wx=ep(),Hx=na(Wx),YS=Ai(),Ux=VS(),KS=na(Ux),Bx=ec(),zx=na(Bx);function na(t){return t&&t.__esModule?t:{default:t}}rc.default=t=>(e,r,n)=>{if(n=(0,Fx.default)(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if((0,YS.isAsyncGenerator)(e))return(0,KS.default)(e,t,r,n);if((0,YS.isAsyncIterable)(e))return(0,KS.default)(e[Symbol.asyncIterator](),t,r,n);var i=(0,$x.default)(e),o=!1,s=!1,a=0,u=!1;function l(p,g){if(!s)if(a-=1,p)o=!0,n(p);else if(p===!1)o=!0,s=!0;else{if(g===zx.default||o&&a<=0)return o=!0,n(null);u||d()}}function d(){for(u=!0;a<t&&!o;){var p=i();if(p===null){o=!0,a<=0&&n(null);return}a+=1,r(p.value,p.key,(0,Hx.default)(l))}u=!1}d()};XS.exports=rc.default});var rp=m((nc,QS)=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});var Gx=JS(),Vx=tp(Gx),Yx=Ai(),Kx=tp(Yx),Xx=Io(),Jx=tp(Xx);function tp(t){return t&&t.__esModule?t:{default:t}}function Qx(t,e,r,n){return(0,Vx.default)(e)(t,(0,Kx.default)(r),n)}nc.default=(0,Jx.default)(Qx,4);QS.exports=nc.default});var tE=m((ic,eE)=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});var Zx=rp(),eI=ZS(Zx),tI=Io(),rI=ZS(tI);function ZS(t){return t&&t.__esModule?t:{default:t}}function nI(t,e,r){return(0,eI.default)(t,1,e,r)}ic.default=(0,rI.default)(nI,3);eE.exports=ic.default});var iE=m((oc,nE)=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.default=uI;var iI=LS(),oI=rE(iI),sI=tE(),aI=rE(sI);function rE(t){return t&&t.__esModule?t:{default:t}}function uI(t,e){return(0,oI.default)(aI.default,t,e)}nE.exports=oc.default});var np=m((e6,oE)=>{oE.exports=require("stream")});var lE=m((t6,uE)=>{"use strict";function sE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(r),!0).forEach(function(n){cI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cI(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dI(t,e,r){return e&&aE(t.prototype,e),r&&aE(t,r),t}var hI=require("buffer"),sc=hI.Buffer,gI=require("util"),ip=gI.inspect,pI=ip&&ip.custom||"inspect";function mI(t,e,r){sc.prototype.copy.call(t,e,r)}uE.exports=function(){function t(){fI(this,t),this.head=null,this.tail=null,this.length=0}return dI(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return sc.alloc(0);for(var n=sc.allocUnsafe(r>>>0),i=this.head,o=0;i;)mI(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=sc.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:pI,value:function(r,n){return ip(this,lI({},n,{depth:0,customInspect:!1}))}}]),t}()});var sp=m((r6,fE)=>{"use strict";function vI(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(op,this,t)):process.nextTick(op,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(ac,r):(r._writableState.errorEmitted=!0,process.nextTick(cE,r,o)):process.nextTick(cE,r,o):e?(process.nextTick(ac,r),e(o)):process.nextTick(ac,r)}),this)}function cE(t,e){op(t,e),ac(t)}function ac(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function yI(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function op(t,e){t.emit("error",e)}function bI(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}fE.exports={destroy:vI,undestroy:yI,errorOrDestroy:bI}});var Vn=m((n6,gE)=>{"use strict";var hE={};function ar(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}class i extends r{constructor(s,a,u){super(n(s,a,u))}}i.prototype.name=r.name,i.prototype.code=t,hE[t]=i}function dE(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function _I(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function wI(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function RI(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ar("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ar("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&_I(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(wI(t," argument"))i=`The ${t} ${n} ${dE(e,"type")}`;else{let o=RI(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${dE(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);ar("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ar("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ar("ERR_STREAM_PREMATURE_CLOSE","Premature close");ar("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ar("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ar("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ar("ERR_STREAM_WRITE_AFTER_END","write after end");ar("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ar("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ar("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");gE.exports.codes=hE});var ap=m((i6,pE)=>{"use strict";var SI=Vn().codes.ERR_INVALID_OPT_VALUE;function EI(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function DI(t,e,r,n){var i=EI(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new SI(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}pE.exports={getHighWaterMark:DI}});var cp=m((o6,wE)=>{"use strict";wE.exports=Ye;function vE(t){var e=this;this.next=null,this.entry=null,this.finish=function(){QI(e,t)}}var Lo;Ye.WritableState=oa;var PI={deprecate:wg()},yE=np(),lc=require("buffer").Buffer,TI=global.Uint8Array||function(){};function qI(t){return lc.from(t)}function OI(t){return lc.isBuffer(t)||t instanceof TI}var lp=sp(),MI=ap(),CI=MI.getHighWaterMark,Yn=Vn().codes,AI=Yn.ERR_INVALID_ARG_TYPE,NI=Yn.ERR_METHOD_NOT_IMPLEMENTED,jI=Yn.ERR_MULTIPLE_CALLBACK,xI=Yn.ERR_STREAM_CANNOT_PIPE,II=Yn.ERR_STREAM_DESTROYED,LI=Yn.ERR_STREAM_NULL_VALUES,FI=Yn.ERR_STREAM_WRITE_AFTER_END,kI=Yn.ERR_UNKNOWN_ENCODING,Fo=lp.errorOrDestroy;mn()(Ye,yE);function $I(){}function oa(t,e,r){Lo=Lo||Ni(),t=t||{},typeof r!="boolean"&&(r=e instanceof Lo),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=CI(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){VI(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new vE(this)}oa.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(oa.prototype,"buffer",{get:PI.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var uc;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(uc=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ye,Symbol.hasInstance,{value:function(e){return uc.call(this,e)?!0:this!==Ye?!1:e&&e._writableState instanceof oa}})):uc=function(e){return e instanceof this};function Ye(t){Lo=Lo||Ni();var e=this instanceof Lo;if(!e&&!uc.call(Ye,this))return new Ye(t);this._writableState=new oa(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),yE.call(this)}Ye.prototype.pipe=function(){Fo(this,new xI)};function WI(t,e){var r=new FI;Fo(t,r),process.nextTick(e,r)}function HI(t,e,r,n){var i;return r===null?i=new LI:typeof r!="string"&&!e.objectMode&&(i=new AI("chunk",["string","Buffer"],r)),i?(Fo(t,i),process.nextTick(n,i),!1):!0}Ye.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&OI(t);return o&&!lc.isBuffer(t)&&(t=qI(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=$I),n.ending?WI(this,r):(o||HI(this,n,t,r))&&(n.pendingcb++,i=BI(this,n,o,t,e,r)),i};Ye.prototype.cork=function(){this._writableState.corked++};Ye.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&bE(this,t))};Ye.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new kI(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ye.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function UI(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=lc.from(e,r)),e}Object.defineProperty(Ye.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function BI(t,e,r,n,i,o){if(!r){var s=UI(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else up(t,e,!1,a,n,i,o);return u}function up(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new II("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function zI(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(ia,t,e),t._writableState.errorEmitted=!0,Fo(t,n)):(i(n),t._writableState.errorEmitted=!0,Fo(t,n),ia(t,e))}function GI(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function VI(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new jI;if(GI(r),e)zI(t,r,n,e,i);else{var o=_E(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&bE(t,r),n?process.nextTick(mE,t,r,o,i):mE(t,r,o,i)}}function mE(t,e,r,n){r||YI(t,e),e.pendingcb--,n(),ia(t,e)}function YI(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function bE(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,up(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new vE(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback,p=e.objectMode?1:u.length;if(up(t,e,!1,p,u,l,d),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ye.prototype._write=function(t,e,r){r(new NI("_write()"))};Ye.prototype._writev=null;Ye.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||JI(this,n,r),this};Object.defineProperty(Ye.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _E(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function KI(t,e){t._final(function(r){e.pendingcb--,r&&Fo(t,r),e.prefinished=!0,t.emit("prefinish"),ia(t,e)})}function XI(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(KI,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function ia(t,e){var r=_E(e);if(r&&(XI(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function JI(t,e,r){e.ending=!0,ia(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function QI(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ye.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Ye.prototype.destroy=lp.destroy;Ye.prototype._undestroy=lp.undestroy;Ye.prototype._destroy=function(t,e){e(t)}});var Ni=m((s6,SE)=>{"use strict";var ZI=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};SE.exports=Br;var RE=hp(),dp=cp();mn()(Br,RE);for(fp=ZI(dp.prototype),cc=0;cc<fp.length;cc++)fc=fp[cc],Br.prototype[fc]||(Br.prototype[fc]=dp.prototype[fc]);var fp,fc,cc;function Br(t){if(!(this instanceof Br))return new Br(t);RE.call(this,t),dp.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",eL)))}Object.defineProperty(Br.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Br.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Br.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function eL(){this._writableState.ended||process.nextTick(tL,this)}function tL(t){t.end()}Object.defineProperty(Br.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var dc=m((a6,PE)=>{"use strict";var EE=Vn().codes.ERR_STREAM_PREMATURE_CLOSE;function rL(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function nL(){}function iL(t){return t.setHeader&&typeof t.abort=="function"}function DE(t,e,r){if(typeof e=="function")return DE(t,null,e);e||(e={}),r=rL(r||nL);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,u=!0,i||r.call(t)},d=function(R){r.call(t,R)},p=function(){var R;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(R=new EE),r.call(t,R);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(R=new EE),r.call(t,R)},g=function(){t.req.on("finish",a)};return iL(t)?(t.on("complete",a),t.on("abort",p),t.req?g():t.on("request",g)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",p)}}PE.exports=DE});var qE=m((u6,TE)=>{"use strict";var hc;function Kn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var oL=dc(),Xn=Symbol("lastResolve"),ji=Symbol("lastReject"),sa=Symbol("error"),gc=Symbol("ended"),xi=Symbol("lastPromise"),gp=Symbol("handlePromise"),Ii=Symbol("stream");function Jn(t,e){return{value:t,done:e}}function sL(t){var e=t[Xn];if(e!==null){var r=t[Ii].read();r!==null&&(t[xi]=null,t[Xn]=null,t[ji]=null,e(Jn(r,!1)))}}function aL(t){process.nextTick(sL,t)}function uL(t,e){return function(r,n){t.then(function(){if(e[gc]){r(Jn(void 0,!0));return}e[gp](r,n)},n)}}var lL=Object.getPrototypeOf(function(){}),cL=Object.setPrototypeOf((hc={get stream(){return this[Ii]},next:function(){var e=this,r=this[sa];if(r!==null)return Promise.reject(r);if(this[gc])return Promise.resolve(Jn(void 0,!0));if(this[Ii].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[sa]?a(e[sa]):s(Jn(void 0,!0))})});var n=this[xi],i;if(n)i=new Promise(uL(n,this));else{var o=this[Ii].read();if(o!==null)return Promise.resolve(Jn(o,!1));i=new Promise(this[gp])}return this[xi]=i,i}},Kn(hc,Symbol.asyncIterator,function(){return this}),Kn(hc,"return",function(){var e=this;return new Promise(function(r,n){e[Ii].destroy(null,function(i){if(i){n(i);return}r(Jn(void 0,!0))})})}),hc),lL),fL=function(e){var r,n=Object.create(cL,(r={},Kn(r,Ii,{value:e,writable:!0}),Kn(r,Xn,{value:null,writable:!0}),Kn(r,ji,{value:null,writable:!0}),Kn(r,sa,{value:null,writable:!0}),Kn(r,gc,{value:e._readableState.endEmitted,writable:!0}),Kn(r,gp,{value:function(o,s){var a=n[Ii].read();a?(n[xi]=null,n[Xn]=null,n[ji]=null,o(Jn(a,!1))):(n[Xn]=o,n[ji]=s)},writable:!0}),r));return n[xi]=null,oL(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[ji];o!==null&&(n[xi]=null,n[Xn]=null,n[ji]=null,o(i)),n[sa]=i;return}var s=n[Xn];s!==null&&(n[xi]=null,n[Xn]=null,n[ji]=null,s(Jn(void 0,!0))),n[gc]=!0}),e.on("readable",aL.bind(null,n)),n};TE.exports=fL});var AE=m((l6,CE)=>{"use strict";function OE(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(n,i)}function dL(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(u){OE(o,n,i,s,a,"next",u)}function a(u){OE(o,n,i,s,a,"throw",u)}s(void 0)})}}function ME(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(r),!0).forEach(function(n){gL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gL(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pL=Vn().codes.ERR_INVALID_ARG_TYPE;function mL(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new pL("iterable",["Iterable"],e);var i=new t(hL({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,s())};function s(){return a.apply(this,arguments)}function a(){return a=dL(function*(){try{var u=yield n.next(),l=u.value,d=u.done;d?i.push(null):i.push(yield l)?s():o=!1}catch(p){i.destroy(p)}}),a.apply(this,arguments)}return i}CE.exports=mL});var hp=m((f6,HE)=>{"use strict";HE.exports=_e;var ko;_e.ReadableState=IE;var c6=require("events").EventEmitter,xE=function(e,r){return e.listeners(r).length},ua=np(),pc=require("buffer").Buffer,vL=global.Uint8Array||function(){};function yL(t){return pc.from(t)}function bL(t){return pc.isBuffer(t)||t instanceof vL}var pp=require("util"),de;pp&&pp.debuglog?de=pp.debuglog("stream"):de=function(){};var _L=lE(),Rp=sp(),wL=ap(),RL=wL.getHighWaterMark,mc=Vn().codes,SL=mc.ERR_INVALID_ARG_TYPE,EL=mc.ERR_STREAM_PUSH_AFTER_EOF,DL=mc.ERR_METHOD_NOT_IMPLEMENTED,PL=mc.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,$o,mp,vp;mn()(_e,ua);var aa=Rp.errorOrDestroy,yp=["error","close","destroy","pause","resume"];function TL(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function IE(t,e,r){ko=ko||Ni(),t=t||{},typeof r!="boolean"&&(r=e instanceof ko),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=RL(this,t,"readableHighWaterMark",r),this.buffer=new _L,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&($o||($o=Vs().StringDecoder),this.decoder=new $o(t.encoding),this.encoding=t.encoding)}function _e(t){if(ko=ko||Ni(),!(this instanceof _e))return new _e(t);var e=this instanceof ko;this._readableState=new IE(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),ua.call(this)}Object.defineProperty(_e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});_e.prototype.destroy=Rp.destroy;_e.prototype._undestroy=Rp.undestroy;_e.prototype._destroy=function(t,e){e(t)};_e.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=pc.from(t,e),e=""),n=!0),LE(this,t,e,!1,n)};_e.prototype.unshift=function(t){return LE(this,t,null,!0,!1)};function LE(t,e,r,n,i){de("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,ML(t,o);else{var s;if(i||(s=qL(o,e)),s)aa(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==pc.prototype&&(e=yL(e)),n)o.endEmitted?aa(t,new PL):bp(t,o,e,!0);else if(o.ended)aa(t,new EL);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?bp(t,o,e,!1):wp(t,o)):bp(t,o,e,!1)}else n||(o.reading=!1,wp(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function bp(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&vc(t)),wp(t,e)}function qL(t,e){var r;return!bL(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new SL("chunk",["string","Buffer","Uint8Array"],e)),r}_e.prototype.isPaused=function(){return this._readableState.flowing===!1};_e.prototype.setEncoding=function(t){$o||($o=Vs().StringDecoder);var e=new $o(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var NE=1073741824;function OL(t){return t>=NE?t=NE:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function jE(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=OL(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}_e.prototype.read=function(t){de("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return de("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?_p(this):vc(this),null;if(t=jE(t,e),t===0&&e.ended)return e.length===0&&_p(this),null;var n=e.needReadable;de("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,de("length less than watermark",n)),e.ended||e.reading?(n=!1,de("reading or ended",n)):n&&(de("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=jE(r,e)));var i;return t>0?i=$E(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&_p(this)),i!==null&&this.emit("data",i),i};function ML(t,e){if(de("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?vc(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,FE(t)))}}function vc(t){var e=t._readableState;de("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(de("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(FE,t))}function FE(t){var e=t._readableState;de("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Sp(t)}function wp(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(CL,t,e))}function CL(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(de("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}_e.prototype._read=function(t){aa(this,new DL("_read()"))};_e.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,de("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:D;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(M,P){de("onunpipe"),M===r&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,d())}function a(){de("onend"),t.end()}var u=AL(r);t.on("drain",u);var l=!1;function d(){de("cleanup"),t.removeListener("close",h),t.removeListener("finish",R),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",D),r.removeListener("data",p),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",p);function p(M){de("ondata");var P=t.write(M);de("dest.write",P),P===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&WE(n.pipes,t)!==-1)&&!l&&(de("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function g(M){de("onerror",M),D(),t.removeListener("error",g),xE(t,"error")===0&&aa(t,M)}TL(t,"error",g);function h(){t.removeListener("finish",R),D()}t.once("close",h);function R(){de("onfinish"),t.removeListener("close",h),D()}t.once("finish",R);function D(){de("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(de("pipe resume"),r.resume()),t};function AL(t){return function(){var r=t._readableState;de("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&xE(t,"data")&&(r.flowing=!0,Sp(t))}}_e.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=WE(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};_e.prototype.on=function(t,e){var r=ua.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,de("on readable",n.length,n.reading),n.length?vc(this):n.reading||process.nextTick(NL,this)),r};_e.prototype.addListener=_e.prototype.on;_e.prototype.removeListener=function(t,e){var r=ua.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(kE,this),r};_e.prototype.removeAllListeners=function(t){var e=ua.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(kE,this),e};function kE(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function NL(t){de("readable nexttick read 0"),t.read(0)}_e.prototype.resume=function(){var t=this._readableState;return t.flowing||(de("resume"),t.flowing=!t.readableListening,jL(this,t)),t.paused=!1,this};function jL(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(xL,t,e))}function xL(t,e){de("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Sp(t),e.flowing&&!e.reading&&t.read(0)}_e.prototype.pause=function(){return de("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(de("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Sp(t){var e=t._readableState;for(de("flow",e.flowing);e.flowing&&t.read()!==null;);}_e.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(de("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(de("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var o=0;o<yp.length;o++)t.on(yp[o],this.emit.bind(this,yp[o]));return this._read=function(s){de("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(_e.prototype[Symbol.asyncIterator]=function(){return mp===void 0&&(mp=qE()),mp(this)});Object.defineProperty(_e.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(_e.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(_e.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});_e._fromList=$E;Object.defineProperty(_e.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $E(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function _p(t){var e=t._readableState;de("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(IL,e,t))}function IL(t,e){if(de("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(_e.from=function(t,e){return vp===void 0&&(vp=AE()),vp(_e,t,e)});function WE(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Ep=m((d6,BE)=>{"use strict";BE.exports=bn;var yc=Vn().codes,LL=yc.ERR_METHOD_NOT_IMPLEMENTED,FL=yc.ERR_MULTIPLE_CALLBACK,kL=yc.ERR_TRANSFORM_ALREADY_TRANSFORMING,$L=yc.ERR_TRANSFORM_WITH_LENGTH_0,bc=Ni();mn()(bn,bc);function WL(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new FL);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function bn(t){if(!(this instanceof bn))return new bn(t);bc.call(this,t),this._transformState={afterTransform:WL.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",HL)}function HL(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){UE(t,e,r)}):UE(this,null,null)}bn.prototype.push=function(t,e){return this._transformState.needTransform=!1,bc.prototype.push.call(this,t,e)};bn.prototype._transform=function(t,e,r){r(new LL("_transform()"))};bn.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};bn.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};bn.prototype._destroy=function(t,e){bc.prototype._destroy.call(this,t,function(r){e(r)})};function UE(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new $L;if(t._transformState.transforming)throw new kL;return t.push(null)}});var VE=m((h6,GE)=>{"use strict";GE.exports=la;var zE=Ep();mn()(la,zE);function la(t){if(!(this instanceof la))return new la(t);zE.call(this,t)}la.prototype._transform=function(t,e,r){r(null,t)}});var QE=m((g6,JE)=>{"use strict";var Dp;function UL(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var XE=Vn().codes,BL=XE.ERR_MISSING_ARGS,zL=XE.ERR_STREAM_DESTROYED;function YE(t){if(t)throw t}function GL(t){return t.setHeader&&typeof t.abort=="function"}function VL(t,e,r,n){n=UL(n);var i=!1;t.on("close",function(){i=!0}),Dp===void 0&&(Dp=dc()),Dp(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,GL(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new zL("pipe"))}}}function KE(t){t()}function YL(t,e){return t.pipe(e)}function KL(t){return!t.length||typeof t[t.length-1]!="function"?YE:t.pop()}function XL(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=KL(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new BL("streams");var i,o=e.map(function(s,a){var u=a<e.length-1,l=a>0;return VL(s,u,l,function(d){i||(i=d),d&&o.forEach(KE),!u&&(o.forEach(KE),n(i))})});return e.reduce(YL)}JE.exports=XL});var Li=m((ur,fa)=>{var ca=require("stream");process.env.READABLE_STREAM==="disable"&&ca?(fa.exports=ca.Readable,Object.assign(fa.exports,ca),fa.exports.Stream=ca):(ur=fa.exports=hp(),ur.Stream=ca||ur,ur.Readable=ur,ur.Writable=cp(),ur.Duplex=Ni(),ur.Transform=Ep(),ur.PassThrough=VE(),ur.finished=dc(),ur.pipeline=QE())});var Ap=m((p6,e1)=>{var Wo=[],da=[],Pp=function(){};function qp(t){return~Wo.indexOf(t)?!1:(Wo.push(t),!0)}function Op(t){Pp=t}function JL(t){for(var e=[],r=0;r<Wo.length;r++){if(Wo[r].async){e.push(Wo[r]);continue}if(Wo[r](t))return!0}return e.length?new Promise(function(i){Promise.all(e.map(function(s){return s(t)})).then(function(s){i(s.some(Boolean))})}):!1}function Mp(t){return~da.indexOf(t)?!1:(da.push(t),!0)}function Tp(){Pp.apply(Pp,arguments)}function ZE(t){for(var e=0;e<da.length;e++)t=da[e].apply(da[e],arguments);return t}function Cp(t,e){var r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t}function QL(t){return t.enabled=!1,t.modify=Mp,t.set=Op,t.use=qp,Cp(function(){return!1},t)}function ZL(t){function e(){var r=Array.prototype.slice.call(arguments,0);return Tp.call(Tp,t,ZE(r,t)),!0}return t.enabled=!0,t.modify=Mp,t.set=Op,t.use=qp,Cp(e,t)}e1.exports=function(e){return e.introduce=Cp,e.enabled=JL,e.process=ZE,e.modify=Mp,e.write=Tp,e.nope=QL,e.yep=ZL,e.set=Op,e.use=qp,e}});var r1=m((m6,t1)=>{var e2=Ap(),t2=e2(function t(e,r){return r=r||{},r.namespace=e,r.prod=!0,r.dev=!1,r.force||t.force?t.yep(r):t.nope(r)});t1.exports=t2});var Np=m((v6,n1)=>{"use strict";n1.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var o1=m((y6,i1)=>{i1.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var u1=m((b6,a1)=>{"use strict";var r2=o1(),n2=Array.prototype.concat,i2=Array.prototype.slice,s1=a1.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n];r2(o)?r=n2.call(r,i2.call(o)):r.push(o)}return r};s1.wrap=function(t){return function(){return t(s1(arguments))}}});var f1=m((_6,c1)=>{var Rc=Np(),ha=u1(),l1={};for(_c in Rc)Rc.hasOwnProperty(_c)&&(l1[Rc[_c]]=_c);var _c,Jt=c1.exports={to:{},get:{}};Jt.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=Jt.get.hsl(t),n="hsl";break;case"hwb":r=Jt.get.hwb(t),n="hwb";break;default:r=Jt.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};Jt.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\D+)/,s=[0,0,0,1],a,u,l;if(a=t.match(r)){for(l=a[2],a=a[1],u=0;u<3;u++){var d=u*2;s[u]=parseInt(a.slice(d,d+2),16)}l&&(s[3]=parseInt(l,16)/255)}else if(a=t.match(e)){for(a=a[1],l=a[3],u=0;u<3;u++)s[u]=parseInt(a[u]+a[u],16);l&&(s[3]=parseInt(l+l,16)/255)}else if(a=t.match(n)){for(u=0;u<3;u++)s[u]=parseInt(a[u+1],0);a[4]&&(s[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(u=0;u<3;u++)s[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(s[3]=parseFloat(a[4]))}else return(a=t.match(o))?a[1]==="transparent"?[0,0,0,0]:(s=Rc[a[1]],s?(s[3]=1,s):null):null;for(u=0;u<3;u++)s[u]=Qn(s[u],0,255);return s[3]=Qn(s[3],0,1),s};Jt.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?[\d\.]+)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])+360)%360,o=Qn(parseFloat(r[2]),0,100),s=Qn(parseFloat(r[3]),0,100),a=Qn(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Jt.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=Qn(parseFloat(r[2]),0,100),s=Qn(parseFloat(r[3]),0,100),a=Qn(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Jt.to.hex=function(){var t=ha(arguments);return"#"+wc(t[0])+wc(t[1])+wc(t[2])+(t[3]<1?wc(Math.round(t[3]*255)):"")};Jt.to.rgb=function(){var t=ha(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Jt.to.rgb.percent=function(){var t=ha(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};Jt.to.hsl=function(){var t=ha(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Jt.to.hwb=function(){var t=ha(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Jt.to.keyword=function(t){return l1[t.slice(0,3)]};function Qn(t,e,r){return Math.min(Math.max(e,t),r)}function wc(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}});var jp=m((w6,p1)=>{var Fi=Np(),g1={};for(Sc in Fi)Fi.hasOwnProperty(Sc)&&(g1[Fi[Sc]]=Sc);var Sc,Q=p1.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(Rt in Q)if(Q.hasOwnProperty(Rt)){if(!("channels"in Q[Rt]))throw new Error("missing channels property: "+Rt);if(!("labels"in Q[Rt]))throw new Error("missing channel labels property: "+Rt);if(Q[Rt].labels.length!==Q[Rt].channels)throw new Error("channel and label counts mismatch: "+Rt);d1=Q[Rt].channels,h1=Q[Rt].labels,delete Q[Rt].channels,delete Q[Rt].labels,Object.defineProperty(Q[Rt],"channels",{value:d1}),Object.defineProperty(Q[Rt],"labels",{value:h1})}var d1,h1,Rt;Q.rgb.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=o-i,a,u,l;return o===i?a=0:e===o?a=(r-n)/s:r===o?a=2+(n-e)/s:n===o&&(a=4+(e-r)/s),a=Math.min(a*60,360),a<0&&(a+=360),l=(i+o)/2,o===i?u=0:l<=.5?u=s/(o+i):u=s/(2-o-i),[a,u*100,l*100]};Q.rgb.hsv=function(t){var e,r,n,i,o,s=t[0]/255,a=t[1]/255,u=t[2]/255,l=Math.max(s,a,u),d=l-Math.min(s,a,u),p=function(g){return(l-g)/6/d+1/2};return d===0?i=o=0:(o=d/l,e=p(s),r=p(a),n=p(u),s===l?i=n-r:a===l?i=1/3+e-n:u===l&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,l*100]};Q.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],i=Q.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,o*100,n*100]};Q.rgb.cmyk=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i,o,s,a;return a=Math.min(1-e,1-r,1-n),i=(1-e-a)/(1-a)||0,o=(1-r-a)/(1-a)||0,s=(1-n-a)/(1-a)||0,[i*100,o*100,s*100,a*100]};function o2(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}Q.rgb.keyword=function(t){var e=g1[t];if(e)return e;var r=1/0,n;for(var i in Fi)if(Fi.hasOwnProperty(i)){var o=Fi[i],s=o2(t,o);s<r&&(r=s,n=i)}return n};Q.keyword.rgb=function(t){return Fi[t]};Q.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=e*.4124+r*.3576+n*.1805,o=e*.2126+r*.7152+n*.0722,s=e*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};Q.rgb.lab=function(t){var e=Q.rgb.xyz(t),r=e[0],n=e[1],i=e[2],o,s,a;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=116*n-16,s=500*(r-n),a=200*(n-i),[o,s,a]};Q.hsl.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,o,s,a,u;if(r===0)return u=n*255,[u,u,u];n<.5?o=n*(1+r):o=n+r-n*r,i=2*n-o,a=[0,0,0];for(var l=0;l<3;l++)s=e+1/3*-(l-1),s<0&&s++,s>1&&s--,6*s<1?u=i+(o-i)*6*s:2*s<1?u=o:3*s<2?u=i+(o-i)*(2/3-s)*6:u=i,a[l]=u*255;return a};Q.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01),s,a;return n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o,a=(n+r)/2,s=n===0?2*i/(o+i):2*r/(n+r),[e,s*100,a*100]};Q.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}};Q.hsv.hsl=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),o,s,a;return a=(2-r)*n,o=(2-r)*i,s=r*i,s/=o<=1?o:2-o,s=s||0,a/=2,[e,s*100,a*100]};Q.hwb.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,o,s,a,u;i>1&&(r/=i,n/=i),o=Math.floor(6*e),s=1-n,a=6*e-o,o&1&&(a=1-a),u=r+a*(s-r);var l,d,p;switch(o){default:case 6:case 0:l=s,d=u,p=r;break;case 1:l=u,d=s,p=r;break;case 2:l=r,d=s,p=u;break;case 3:l=r,d=u,p=s;break;case 4:l=u,d=r,p=s;break;case 5:l=s,d=r,p=u;break}return[l*255,d*255,p*255]};Q.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,o,s,a;return o=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),[o*255,s*255,a*255]};Q.xyz.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i,o,s;return i=e*3.2406+r*-1.5372+n*-.4986,o=e*-.9689+r*1.8758+n*.0415,s=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};Q.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2],i,o,s;return e/=95.047,r/=100,n/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,o=500*(e-r),s=200*(r-n),[i,o,s]};Q.lab.xyz=function(t){var e=t[0],r=t[1],n=t[2],i,o,s;o=(e+16)/116,i=r/500+o,s=o-n/200;var a=Math.pow(o,3),u=Math.pow(i,3),l=Math.pow(s,3);return o=a>.008856?a:(o-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};Q.lab.lch=function(t){var e=t[0],r=t[1],n=t[2],i,o,s;return i=Math.atan2(n,r),o=i*360/2/Math.PI,o<0&&(o+=360),s=Math.sqrt(r*r+n*n),[e,s,o]};Q.lch.lab=function(t){var e=t[0],r=t[1],n=t[2],i,o,s;return s=n/360*2*Math.PI,i=r*Math.cos(s),o=r*Math.sin(s),[e,i,o]};Q.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:Q.rgb.hsv(t)[2];if(i=Math.round(i/50),i===0)return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return i===2&&(o+=60),o};Q.hsv.ansi16=function(t){return Q.rgb.ansi16(Q.hsv.rgb(t),t[2])};Q.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};Q.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[n,i,o]};Q.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var r,n=Math.floor(t/36)/5*255,i=Math.floor((r=t%36)/6)/5*255,o=r%6/5*255;return[n,i,o]};Q.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};Q.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];e[0].length===3&&(r=r.split("").map(function(a){return a+a}).join(""));var n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};Q.rgb.hcg=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),s=i-o,a,u;return s<1?a=o/(1-s):a=0,s<=0?u=0:i===e?u=(r-n)/s%6:i===r?u=2+(n-e)/s:u=4+(e-r)/s+4,u/=6,u%=1,[u*360,s*100,a*100]};Q.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return r<.5?n=2*e*r:n=2*e*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};Q.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};Q.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];var i=[0,0,0],o=e%1*6,s=o%1,a=1-s,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};Q.hcg.hsv=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};Q.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100,n=r*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};Q.hcg.hwb=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};Q.hwb.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1-r,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],i*100,o*100]};Q.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};Q.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};Q.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};Q.gray.hsl=Q.gray.hsv=function(t){return[0,0,t[0]]};Q.gray.hwb=function(t){return[0,100,t[0]]};Q.gray.cmyk=function(t){return[0,0,0,t[0]]};Q.gray.lab=function(t){return[t[0],0,0]};Q.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,r=(e<<16)+(e<<8)+e,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};Q.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var v1=m((R6,m1)=>{var Ec=jp();function s2(){for(var t={},e=Object.keys(Ec),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function a2(t){var e=s2(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(Ec[n]),o=i.length,s=0;s<o;s++){var a=i[s],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}return e}function u2(t,e){return function(r){return e(t(r))}}function l2(t,e){for(var r=[e[t].parent,t],n=Ec[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=u2(Ec[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}m1.exports=function(t){for(var e=a2(t),r={},n=Object.keys(e),i=n.length,o=0;o<i;o++){var s=n[o],a=e[s];a.parent!==null&&(r[s]=l2(s,e))}return r}});var b1=m((S6,y1)=>{var xp=jp(),c2=v1(),Ho={},f2=Object.keys(xp);function d2(t){var e=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function h2(t){var e=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=t(r);if(typeof n=="object")for(var i=n.length,o=0;o<i;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}f2.forEach(function(t){Ho[t]={},Object.defineProperty(Ho[t],"channels",{value:xp[t].channels}),Object.defineProperty(Ho[t],"labels",{value:xp[t].labels});var e=c2(t),r=Object.keys(e);r.forEach(function(n){var i=e[n];Ho[t][n]=h2(i),Ho[t][n].raw=d2(i)})});y1.exports=Ho});var R1=m((E6,w1)=>{"use strict";var ga=f1(),Qt=b1(),Fp=[].slice,_1=["keyword","gray","hex"],Ip={};Object.keys(Qt).forEach(function(t){Ip[Fp.call(Qt[t].labels).sort().join("")]=t});var Dc={};function lt(t,e){if(!(this instanceof lt))return new lt(t,e);if(e&&e in _1&&(e=null),e&&!(e in Qt))throw new Error("Unknown model: "+e);var r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof lt)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(typeof t=="string"){var i=ga.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=Qt[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length){this.model=e||"rgb",n=Qt[this.model].channels;var o=Fp.call(t,0,n);this.color=Lp(o,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;var s=Object.keys(t);"alpha"in t&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);var a=s.sort().join("");if(!(a in Ip))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Ip[a];var u=Qt[this.model].labels,l=[];for(r=0;r<u.length;r++)l.push(t[u[r]]);this.color=Lp(l)}if(Dc[this.model])for(n=Qt[this.model].channels,r=0;r<n;r++){var d=Dc[this.model][r];d&&(this.color[r]=d(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}lt.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in ga.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);var r=e.valpha===1?e.color:e.color.concat(this.valpha);return ga.to[e.model](r)},percentString:function(t){var e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:e.color.concat(this.valpha);return ga.to.rgb.percent(r)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=Qt[this.model].channels,r=Qt[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new lt(this.color.map(p2(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new lt(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:Ke("rgb",0,Ze(255)),green:Ke("rgb",1,Ze(255)),blue:Ke("rgb",2,Ze(255)),hue:Ke(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:Ke("hsl",1,Ze(100)),lightness:Ke("hsl",2,Ze(100)),saturationv:Ke("hsv",1,Ze(100)),value:Ke("hsv",2,Ze(100)),chroma:Ke("hcg",1,Ze(100)),gray:Ke("hcg",2,Ze(100)),white:Ke("hwb",1,Ze(100)),wblack:Ke("hwb",2,Ze(100)),cyan:Ke("cmyk",0,Ze(100)),magenta:Ke("cmyk",1,Ze(100)),yellow:Ke("cmyk",2,Ze(100)),black:Ke("cmyk",3,Ze(100)),x:Ke("xyz",0,Ze(100)),y:Ke("xyz",1,Ze(100)),z:Ke("xyz",2,Ze(100)),l:Ke("lab",0,Ze(100)),a:Ke("lab",1),b:Ke("lab",2),keyword:function(t){return arguments.length?new lt(t):Qt[this.model].keyword(this.color)},hex:function(t){return arguments.length?new lt(t):ga.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color,e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return lt.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,o=2*i-1,s=r.alpha()-n.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,u=1-a;return lt.rgb(a*r.red()+u*n.red(),a*r.green()+u*n.green(),a*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};Object.keys(Qt).forEach(function(t){if(_1.indexOf(t)===-1){var e=Qt[t].channels;lt.prototype[t]=function(){if(this.model===t)return new lt(this);if(arguments.length)return new lt(arguments,t);var r=typeof arguments[e]=="number"?e:this.valpha;return new lt(m2(Qt[this.model][t].raw(this.color)).concat(r),t)},lt[t]=function(r){return typeof r=="number"&&(r=Lp(Fp.call(arguments),e)),new lt(r,t)}}});function g2(t,e){return Number(t.toFixed(e))}function p2(t){return function(e){return g2(e,t)}}function Ke(t,e,r){return t=Array.isArray(t)?t:[t],t.forEach(function(n){(Dc[n]||(Dc[n]=[]))[e]=r}),t=t[0],function(n){var i;return arguments.length?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function Ze(t){return function(e){return Math.max(0,Math.min(t,e))}}function m2(t){return Array.isArray(t)?t:[t]}function Lp(t,e){for(var r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}w1.exports=lt});var E1=m((D6,S1)=>{"use strict";S1.exports=function(e){for(var r=0,n=0;r<e.length;n=e.charCodeAt(r++)+((n<<5)-n));var i=Math.floor(Math.abs(Math.sin(n)*1e4%1*16777216)).toString(16);return"#"+Array(6-i.length+1).join("0")+i}});var q1=m((P6,T1)=>{"use strict";var D1=R1(),P1=E1();T1.exports=function(e,r){var n=e.split(r||":"),i=P1(n[0]);if(!n.length)return i;for(var o=0,s=n.length-1;o<s;o++)i=D1(i).mix(D1(P1(n[o+1]))).saturate(1).hex();return i}});var M1=m((T6,O1)=>{"use strict";function Dr(t,e){if(e)return new Dr(t).style(e);if(!(this instanceof Dr))return new Dr(t);this.text=t}Dr.prototype.prefix="\x1B[";Dr.prototype.suffix="m";Dr.prototype.hex=function(e){e=e[0]==="#"?e.substring(1):e,e.length===3&&(e=e.split(""),e[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var r=e.substring(0,2),n=e.substring(2,4),i=e.substring(4,6);return[parseInt(r,16),parseInt(n,16),parseInt(i,16)]};Dr.prototype.rgb=function(e,r,n){var i=e/255*5,o=r/255*5,s=n/255*5;return this.ansi(i,o,s)};Dr.prototype.ansi=function(e,r,n){var i=Math.round(e),o=Math.round(r),s=Math.round(n);return 16+i*36+o*6+s};Dr.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};Dr.prototype.style=function(e){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()};O1.exports=Dr});var A1=m((q6,C1)=>{var v2=q1(),y2=M1();C1.exports=function(e,r){var n=r.namespace,i=r.colors!==!1?y2(n+":",v2(n)):n+":";return e[0]=i+" "+e[0],e}});var j1=m((O6,N1)=>{"use strict";N1.exports=function(e,r){if(!r)return!1;for(var n=r.split(/[\s,]+/),i=0;i<n.length;i++){if(r=n[i].replace("*",".*?"),r.charAt(0)==="-"){if(new RegExp("^"+r.substr(1)+"$").test(e))return!1;continue}if(new RegExp("^"+r+"$").test(e))return!0}return!1}});var I1=m((M6,x1)=>{var b2=j1();x1.exports=function(e){return function(n){try{return b2(n,e())}catch{}return!1}}});var F1=m((C6,L1)=>{var _2=I1();L1.exports=_2(function(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var $1=m((A6,k1)=>{k1.exports=function(t,e){try{Function.prototype.apply.call(console.log,console,e)}catch{}}});var H1=m((N6,W1)=>{var w2=Ap(),R2=require("tty").isatty(1),Pc=w2(function t(e,r){return r=r||{},r.colors="colors"in r?r.colors:R2,r.namespace=e,r.prod=!1,r.dev=!0,!t.enabled(e)&&!(r.force||t.force)?t.nope(r):t.yep(r)});Pc.modify(A1());Pc.use(F1());Pc.set($1());W1.exports=Pc});var pa=m((j6,kp)=>{process.env.NODE_ENV==="production"?kp.exports=r1():kp.exports=H1()});var B1=m((x6,U1)=>{"use strict";var $p=require("fs"),{StringDecoder:S2}=require("string_decoder"),{Stream:E2}=Li();function D2(){}U1.exports=(t,e)=>{let r=Buffer.alloc(65536),n=new S2("utf8"),i=new E2,o="",s=0,a=0;return t.start===-1&&delete t.start,i.readable=!0,i.destroy=()=>{i.destroyed=!0,i.emit("end"),i.emit("close")},$p.open(t.file,"a+","0644",(u,l)=>{if(u){e?e(u):i.emit("error",u),i.destroy();return}(function d(){if(i.destroyed){$p.close(l,D2);return}return $p.read(l,r,0,r.length,s,(p,g)=>{if(p){e?e(p):i.emit("error",p),i.destroy();return}if(!g)return o&&((t.start==null||a>t.start)&&(e?e(null,o):i.emit("line",o)),a++,o=""),setTimeout(d,1e3);let h=n.write(r.slice(0,g));e||i.emit("data",h),h=(o+h).split(/\n+/);let R=h.length-1,D=0;for(;D<R;D++)(t.start==null||a>t.start)&&(e?e(null,h[D]):i.emit("line",h[D])),a++;return o=h[R],s+=g,d()})})()}),e?i.destroy:i}});var Y1=m((L6,V1)=>{"use strict";var kt=require("fs"),nt=require("path"),z1=iE(),P2=require("zlib"),{MESSAGE:T2}=Ge(),{Stream:q2,PassThrough:G1}=Li(),O2=Ci(),Pr=pa()("winston:file"),M2=require("os"),C2=B1();V1.exports=class extends O2{constructor(e={}){super(e),this.name=e.name||"file";function r(n,...i){i.slice(1).forEach(o=>{if(e[o])throw new Error(`Cannot set ${o} and ${n} together`)})}if(this._stream=new G1,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)r("filename or dirname","stream"),this._basename=this.filename=e.filename?nt.basename(e.filename):"winston.log",this.dirname=e.dirname||nt.dirname(e.filename),this.options=e.options||{flags:"a"};else if(e.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=nt.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=typeof e.eol=="string"?e.eol:M2.EOL,this.tailable=e.tailable||!1,this.lazy=e.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,r=()=>{}){if(this.silent)return r(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(e,r)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,r)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(e,r)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(e,r)})});return}}let n=`${e[T2]}${this.eol}`,i=Buffer.byteLength(n);function o(){if(this._size+=i,this._pendingSize-=i,Pr("logged %s %s",this._size,n),this.emit("logged",e),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=i,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let s=this._stream.write(n,o.bind(this));return s?r():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,r()})),Pr("written",s,this._drain),this.finishIfEnding(),s}query(e,r){typeof e=="function"&&(r=e,e={}),e=p(e);let n=nt.join(this.dirname,this.filename),i="",o=[],s=0,a=kt.createReadStream(n,{encoding:"utf8"});a.on("error",g=>{if(a.readable&&a.destroy(),!!r)return g.code!=="ENOENT"?r(g):r(null,o)}),a.on("data",g=>{g=(i+g).split(/\n+/);let h=g.length-1,R=0;for(;R<h;R++)(!e.start||s>=e.start)&&u(g[R]),s++;i=g[h]}),a.on("close",()=>{i&&u(i,!0),e.order==="desc"&&(o=o.reverse()),r&&r(null,o)});function u(g,h){try{let R=JSON.parse(g);d(R)&&l(R)}catch(R){h||a.emit("error",R)}}function l(g){if(e.rows&&o.length>=e.rows&&e.order!=="desc"){a.readable&&a.destroy();return}e.fields&&(g=e.fields.reduce((h,R)=>(h[R]=g[R],h),{})),e.order==="desc"&&o.length>=e.rows&&o.shift(),o.push(g)}function d(g){if(!g||typeof g!="object")return;let h=new Date(g.timestamp);if(!(e.from&&h<e.from||e.until&&h>e.until||e.level&&e.level!==g.level))return!0}function p(g){return g=g||{},g.rows=g.rows||g.limit||10,g.start=g.start||0,g.until=g.until||new Date,typeof g.until!="object"&&(g.until=new Date(g.until)),g.from=g.from||g.until-24*60*60*1e3,typeof g.from!="object"&&(g.from=new Date(g.from)),g.order=g.order||"desc",g}}stream(e={}){let r=nt.join(this.dirname,this.filename),n=new q2,i={file:r,start:e.start};return n.destroy=C2(i,(o,s)=>{if(o)return n.emit("error",o);try{n.emit("data",s),s=JSON.parse(s),n.emit("log",s)}catch(a){n.emit("error",a)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,r)=>{if(e)return this.emit("error",e);Pr("stat done: %s { size: %s }",this.filename,r),this._size=r,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){let r=this._getFile(),n=nt.join(this.dirname,r);kt.stat(n,(i,o)=>{if(i&&i.code==="ENOENT")return Pr("ENOENT\xA0ok",n),this.filename=r,e(null,0);if(i)return Pr(`err ${i.code} ${n}`),e(i);if(!o||this._needsNewFile(o.size))return this._incFile(()=>this.stat(e));this.filename=r,e(null,o.size)})}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e.destroy(),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){let r=nt.join(this.dirname,this.filename);Pr("create stream start",r,this.options);let n=kt.createWriteStream(r,this.options).on("error",i=>Pr(i)).on("close",()=>Pr("close",n.path,n.bytesWritten)).on("open",()=>{Pr("file open ok",r),this.emit("open",r),e.pipe(n),this.rotatedWhileOpening&&(this._stream=new G1,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),e.end())});return Pr("create stream ok",r),n}_incFile(e){Pr("_incFile",this.filename);let r=nt.extname(this._basename),n=nt.basename(this._basename,r),i=[];this.zippedArchive&&i.push(function(o){let s=this._created>0&&!this.tailable?this._created:"";this._compressFile(nt.join(this.dirname,`${n}${s}${r}`),nt.join(this.dirname,`${n}${s}${r}.gz`),o)}.bind(this)),i.push(function(o){this.tailable?this._checkMaxFilesTailable(r,n,o):(this._created+=1,this._checkMaxFilesIncrementing(r,n,o))}.bind(this)),z1(i,e)}_getFile(){let e=nt.extname(this._basename),r=nt.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${r}${n}${e}`:`${r}${e}`}_checkMaxFilesIncrementing(e,r,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);let i=this._created-this.maxFiles,o=i!==0?i:"",s=this.zippedArchive?".gz":"",a=`${r}${o}${e}${s}`,u=nt.join(this.dirname,a);kt.unlink(u,n)}_checkMaxFilesTailable(e,r,n){let i=[];if(!this.maxFiles)return;let o=this.zippedArchive?".gz":"";for(let s=this.maxFiles-1;s>1;s--)i.push(function(a,u){let l=`${r}${a-1}${e}${o}`,d=nt.join(this.dirname,l);kt.exists(d,p=>{if(!p)return u(null);l=`${r}${a}${e}${o}`,kt.rename(d,nt.join(this.dirname,l),u)})}.bind(this,s));z1(i,()=>{kt.rename(nt.join(this.dirname,`${r}${e}${o}`),nt.join(this.dirname,`${r}1${e}${o}`),n)})}_compressFile(e,r,n){kt.access(e,kt.F_OK,i=>{if(i)return n();var o=P2.createGzip(),s=kt.createReadStream(e),a=kt.createWriteStream(r);a.on("finish",()=>{kt.unlink(e,n)}),s.pipe(o).pipe(a)})}_createLogDirIfNotExist(e){kt.existsSync(e)||kt.mkdirSync(e,{recursive:!0})}}});var X1=m((k6,K1)=>{"use strict";var A2=require("http"),N2=require("https"),{Stream:j2}=Li(),x2=Ci(),I2=Bs();K1.exports=class extends x2{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.batch=e.batch||!1,this.batchInterval=e.batchInterval||5e3,this.batchCount=e.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(e,r){this._request(e,null,null,(n,i)=>{i&&i.statusCode!==200&&(n=new Error(`Invalid HTTP Status Code: ${i.statusCode}`)),n?this.emit("warn",n):this.emit("logged",e)}),r&&setImmediate(r)}query(e,r){typeof e=="function"&&(r=e,e={}),e={method:"query",params:this.normalizeQuery(e)};let n=e.params.auth||null;delete e.params.auth;let i=e.params.path||null;delete e.params.path,this._request(e,n,i,(o,s,a)=>{if(s&&s.statusCode!==200&&(o=new Error(`Invalid HTTP Status Code: ${s.statusCode}`)),o)return r(o);if(typeof a=="string")try{a=JSON.parse(a)}catch(u){return r(u)}r(null,a)})}stream(e={}){let r=new j2;e={method:"stream",params:e};let n=e.params.path||null;delete e.params.path;let i=e.params.auth||null;delete e.params.auth;let o="",s=this._request(e,i,n);return r.destroy=()=>s.destroy(),s.on("data",a=>{a=(o+a).split(/\n+/);let u=a.length-1,l=0;for(;l<u;l++)try{r.emit("log",JSON.parse(a[l]))}catch(d){r.emit("error",d)}o=a[u]}),s.on("error",a=>r.emit("error",a)),r}_request(e,r,n,i){e=e||{},r=r||this.auth,n=n||this.path||"",this.batch?this._doBatch(e,i,r,n):this._doRequest(e,i,r,n)}_doBatch(e,r,n,i){if(this.batchOptions.push(e),this.batchOptions.length===1){let o=this;this.batchCallback=r,this.batchTimeoutID=setTimeout(function(){o.batchTimeoutID=-1,o._doBatchRequest(o.batchCallback,n,i)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,n,i)}_doBatchRequest(e,r,n){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);let i=this.batchOptions.slice();this.batchOptions=[],this._doRequest(i,e,r,n)}_doRequest(e,r,n,i){let o=Object.assign({},this.headers);n&&n.bearer&&(o.Authorization=`Bearer ${n.bearer}`);let s=(this.ssl?N2:A2).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${i.replace(/^\//,"")}`,headers:o,auth:n&&n.username&&n.password?`${n.username}:${n.password}`:"",agent:this.agent});s.on("error",r),s.on("response",a=>a.on("end",()=>r(null,a)).resume()),s.end(Buffer.from(I2(e,this.options.replacer),"utf8"))}}});var Wp=m(($6,J1)=>{"use strict";var zr=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";zr.writable=t=>zr(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";zr.readable=t=>zr(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";zr.duplex=t=>zr.writable(t)&&zr.readable(t);zr.transform=t=>zr.duplex(t)&&typeof t._transform=="function";J1.exports=zr});var Z1=m((H6,Q1)=>{"use strict";var L2=Wp(),{MESSAGE:F2}=Ge(),k2=require("os"),$2=Ci();Q1.exports=class extends $2{constructor(e={}){if(super(e),!e.stream||!L2(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=typeof e.eol=="string"?e.eol:k2.EOL}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode){this._stream.write(e),r&&r();return}this._stream.write(`${e[F2]}${this.eol}`),r&&r()}}});var eD=m(ma=>{"use strict";Object.defineProperty(ma,"Console",{configurable:!0,enumerable:!0,get(){return RS()}});Object.defineProperty(ma,"File",{configurable:!0,enumerable:!0,get(){return Y1()}});Object.defineProperty(ma,"Http",{configurable:!0,enumerable:!0,get(){return X1()}});Object.defineProperty(ma,"Stream",{configurable:!0,enumerable:!0,get(){return Z1()}})});var qc=m(va=>{"use strict";var Tc=bg(),{configs:Hp}=Ge();va.cli=Tc.levels(Hp.cli);va.npm=Tc.levels(Hp.npm);va.syslog=Tc.levels(Hp.syslog);va.addColors=Tc.levels});var rD=m((Oc,tD)=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});var W2=Bl(),H2=ki(W2),U2=ec(),B2=ki(U2),z2=rp(),G2=ki(z2),V2=Zg(),Y2=ki(V2),K2=ep(),X2=ki(K2),J2=Ai(),Q2=ki(J2),Z2=Io(),eF=ki(Z2);function ki(t){return t&&t.__esModule?t:{default:t}}function tF(t,e,r){r=(0,Y2.default)(r);var n=0,i=0,{length:o}=t,s=!1;o===0&&r(null);function a(u,l){u===!1&&(s=!0),s!==!0&&(u?r(u):(++i===o||l===B2.default)&&r(null))}for(;n<o;n++)e(t[n],n,(0,X2.default)(a))}function rF(t,e,r){return(0,G2.default)(t,1/0,e,r)}function nF(t,e,r){var n=(0,H2.default)(t)?tF:rF;return n(t,(0,Q2.default)(e),r)}Oc.default=(0,eF.default)(nF,3);tD.exports=Oc.default});var iD=m((Mc,nD)=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.default=iF;function iF(t){return(e,r,n)=>t(e,n)}nD.exports=Mc.default});var Nc=m((Ac,oD)=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});var oF=rD(),sF=Cc(oF),aF=iD(),uF=Cc(aF),lF=Ai(),cF=Cc(lF),fF=Io(),dF=Cc(fF);function Cc(t){return t&&t.__esModule?t:{default:t}}function hF(t,e,r){return(0,sF.default)(t,(0,uF.default)((0,cF.default)(e)),r)}Ac.default=(0,dF.default)(hF,3);oD.exports=Ac.default});var aD=m((z6,sD)=>{"use strict";var gF=Object.prototype.toString;sD.exports=function(e){if(typeof e.displayName=="string"&&e.constructor.name)return e.displayName;if(typeof e.name=="string"&&e.name)return e.name;if(typeof e=="object"&&e.constructor&&typeof e.constructor.name=="string")return e.constructor.name;var r=e.toString(),n=gF.call(e).slice(8,-1);return n==="Function"?r=r.substring(r.indexOf("(")+1,r.indexOf(")")):r=n,r||"anonymous"}});var Up=m((G6,uD)=>{"use strict";var pF=aD();uD.exports=function(e){var r=0,n;function i(){return r||(r=1,n=e.apply(this,arguments),e=null),n}return i.displayName=pF(e),i}});var Bp=m(ba=>{ba.get=function(t){var e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},n=Error.prepareStackTrace;Error.prepareStackTrace=function(o,s){return s},Error.captureStackTrace(r,t||ba.get);var i=r.stack;return Error.prepareStackTrace=n,Error.stackTraceLimit=e,i};ba.parse=function(t){if(!t.stack)return[];var e=this,r=t.stack.split(`
`).slice(1);return r.map(function(n){if(n.match(/^\s*[-]{4,}$/))return e._createParsedCallSite({fileName:n,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var i=n.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(i){var o=null,s=null,a=null,u=null,l=null,d=i[5]==="native";if(i[1]){a=i[1];var p=a.lastIndexOf(".");if(a[p-1]=="."&&p--,p>0){o=a.substr(0,p),s=a.substr(p+1);var g=o.indexOf(".Module");g>0&&(a=a.substr(g+1),o=o.substr(0,g))}u=null}s&&(u=o,l=s),s==="<anonymous>"&&(l=null,a=null);var h={fileName:i[2]||null,lineNumber:parseInt(i[3],10)||null,functionName:a,typeName:u,methodName:l,columnNumber:parseInt(i[4],10)||null,native:d};return e._createParsedCallSite(h)}}).filter(function(n){return!!n})};function ya(t){for(var e in t)this[e]=t[e]}var mF=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],vF=["topLevel","eval","native","constructor"];mF.forEach(function(t){ya.prototype[t]=null,ya.prototype["get"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});vF.forEach(function(t){ya.prototype[t]=!1,ya.prototype["is"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});ba._createParsedCallSite=function(t){return new ya(t)}});var cD=m((K6,lD)=>{"use strict";var{Writable:yF}=Li();lD.exports=class extends yF{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,r,n){return e.exception?this.transport.log(e,n):(n(),!0)}}});var Gp=m((J6,hD)=>{"use strict";var fD=require("os"),bF=Nc(),zp=pa()("winston:exception"),_F=Up(),dD=Bp(),wF=cD();hD.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`uncaughtException: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:fD.loadavg(),uptime:fD.uptime()}}getTrace(e){return(e?dD.parse(e):dD.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;let r=new wF(e);this.handlers.set(e,r),this.logger.pipe(r)}}_uncaughtException(e){let r=this.getAllInfo(e),n=this._getExceptionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,o;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),i=!1);function s(){zp("doExit",i),zp("process._exiting",process._exiting),i&&!process._exiting&&(o&&clearTimeout(o),process.exit(1))}if(!n||n.length===0)return process.nextTick(s);bF(n,(a,u)=>{let l=_F(u),d=a.transport||a;function p(g){return()=>{zp(g),l()}}d._ending=!0,d.once("finish",p("finished")),d.once("error",p("error"))},()=>i&&s()),this.logger.log(r),i&&(o=setTimeout(s,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}});var pD=m((Z6,gD)=>{"use strict";var{Writable:RF}=Li();gD.exports=class extends RF{constructor(e){if(super({objectMode:!0}),!e)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=e}_write(e,r,n){return e.rejection?this.transport.log(e,n):(n(),!0)}}});var Yp=m((t8,yD)=>{"use strict";var mD=require("os"),SF=Nc(),Vp=pa()("winston:rejection"),EF=Up(),vD=Bp(),DF=pD();yD.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`unhandledRejection: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:mD.loadavg(),uptime:mD.uptime()}}getTrace(e){return(e?vD.parse(e):vD.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;let r=new DF(e);this.handlers.set(e,r),this.logger.pipe(r)}}_unhandledRejection(e){let r=this.getAllInfo(e),n=this._getRejectionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,o;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),i=!1);function s(){Vp("doExit",i),Vp("process._exiting",process._exiting),i&&!process._exiting&&(o&&clearTimeout(o),process.exit(1))}if(!n||n.length===0)return process.nextTick(s);SF(n,(a,u)=>{let l=EF(u),d=a.transport||a;function p(g){return()=>{Vp(g),l()}}d._ending=!0,d.once("finish",p("finished")),d.once("error",p("error"))},()=>i&&s()),this.logger.log(r),i&&(o=setTimeout(s,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}});var _D=m((r8,bD)=>{"use strict";var Kp=class{constructor(e){let r=jc();if(typeof e!="object"||Array.isArray(e)||!(e instanceof r))throw new Error("Logger is required for profiling");this.logger=e,this.start=Date.now()}done(...e){typeof e[e.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());let r=typeof e[e.length-1]=="object"?e.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}};bD.exports=Kp});var jc=m((n8,ED)=>{"use strict";var{Stream:PF,Transform:TF}=Li(),wD=Nc(),{LEVEL:Gr,SPLAT:RD}=Ge(),SD=Wp(),qF=Gp(),OF=Yp(),MF=Xg(),CF=_D(),{warn:AF}=_g(),NF=qc(),jF=/%[scdjifoO%]/g,xc=class extends TF{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){let r=this;return Object.create(r,{write:{value:function(n){let i=Object.assign({},e,n);n instanceof Error&&(i.stack=n.stack,i.message=n.message),r.write(i)}}})}configure({silent:e,format:r,defaultMeta:n,levels:i,level:o="info",exitOnError:s=!0,transports:a,colors:u,emitErrs:l,formatters:d,padLevels:p,rewriters:g,stripColors:h,exceptionHandlers:R,rejectionHandlers:D}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=r||this.format||gg()(),this.defaultMeta=n||null,this.levels=i||this.levels||NF.npm.levels,this.level=o,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new qF(this),this.rejections=new OF(this),this.profilers={},this.exitOnError=s,a&&(a=Array.isArray(a)?a:[a],a.forEach(M=>this.add(M))),u||l||d||p||g||h)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));R&&this.exceptions.handle(R),D&&this.rejections.handle(D)}isLevelEnabled(e){let r=Xp(this.levels,e);if(r===null)return!1;let n=Xp(this.levels,this.level);return n===null?!1:!this.transports||this.transports.length===0?n>=r:this.transports.findIndex(o=>{let s=Xp(this.levels,o.level);return s===null&&(s=n),s>=r})!==-1}log(e,r,...n){if(arguments.length===1)return e[Gr]=e.level,this._addDefaultMeta(e),this.write(e),this;if(arguments.length===2)return r&&typeof r=="object"?(r[Gr]=r.level=e,this._addDefaultMeta(r),this.write(r),this):(r={[Gr]:e,level:e,message:r},this._addDefaultMeta(r),this.write(r),this);let[i]=n;if(typeof i=="object"&&i!==null&&!(r&&r.match&&r.match(jF))){let s=Object.assign({},this.defaultMeta,i,{[Gr]:e,[RD]:n,level:e,message:r});return i.message&&(s.message=`${s.message} ${i.message}`),i.stack&&(s.stack=i.stack),this.write(s),this}return this.write(Object.assign({},this.defaultMeta,{[Gr]:e,[RD]:n,level:e,message:r})),this}_transform(e,r,n){if(this.silent)return n();e[Gr]||(e[Gr]=e.level),!this.levels[e[Gr]]&&this.levels[e[Gr]]!==0&&console.error("[winston] Unknown logger level: %s",e[Gr]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",e);try{this.push(this.format.transform(e,this.format.options))}finally{this._writableState.sync=!1,n()}}_final(e){let r=this.transports.slice();wD(r,(n,i)=>{if(!n||n.finished)return setImmediate(i);n.once("finish",i),n.end()},e)}add(e){let r=!SD(e)||e.log.length>2?new MF({transport:e}):e;if(!r._writableState||!r._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",r),this._onEvent("warn",r),this.pipe(r),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let r=e;return(!SD(e)||e.log.length>2)&&(r=this.transports.filter(n=>n.transport===e)[0]),r&&this.unpipe(r),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){AF.deprecated("setLevels")}query(e,r){typeof e=="function"&&(r=e,e={}),e=e||{};let n={},i=Object.assign({},e.query||{});function o(a,u){e.query&&typeof a.formatQuery=="function"&&(e.query=a.formatQuery(i)),a.query(e,(l,d)=>{if(l)return u(l);typeof a.formatResults=="function"&&(d=a.formatResults(d,e.format)),u(null,d)})}function s(a,u){o(a,(l,d)=>{u&&(d=l||d,d&&(n[a.name]=d),u()),u=null})}wD(this.transports.filter(a=>!!a.query),s,()=>r(null,n))}stream(e={}){let r=new PF,n=[];return r._streams=n,r.destroy=()=>{let i=n.length;for(;i--;)n[i].destroy()},this.transports.filter(i=>!!i.stream).forEach(i=>{let o=i.stream(e);o&&(n.push(o),o.on("log",s=>{s.transport=s.transport||[],s.transport.push(i.name),r.emit("log",s)}),o.on("error",s=>{s.transport=s.transport||[],s.transport.push(i.name),r.emit("error",s)}))}),r}startTimer(){return new CF(this)}profile(e,...r){let n=Date.now();if(this.profilers[e]){let i=this.profilers[e];delete this.profilers[e],typeof r[r.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());let o=typeof r[r.length-1]=="object"?r.pop():{};return o.level=o.level||"info",o.durationMs=n-i,o.message=o.message||e,this.write(o)}return this.profilers[e]=n,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(e,r){function n(i){e==="error"&&!this.transports.includes(r)&&this.add(r),this.emit(e,i,r)}r["__winston"+e]||(r["__winston"+e]=n.bind(this),r.on(e,r["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}};function Xp(t,e){let r=t[e];return!r&&r!==0?null:r}Object.defineProperty(xc.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:t}=this._readableState;return Array.isArray(t)?t:[t].filter(Boolean)}});ED.exports=xc});var Jp=m((i8,DD)=>{"use strict";var{LEVEL:xF}=Ge(),IF=qc(),LF=jc(),FF=pa()("winston:create-logger");function kF(t){return"is"+t.charAt(0).toUpperCase()+t.slice(1)+"Enabled"}DD.exports=function(t={}){t.levels=t.levels||IF.npm.levels;class e extends LF{constructor(i){super(i)}}let r=new e(t);return Object.keys(t.levels).forEach(function(n){if(FF('Define prototype method for "%s"',n),n==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}e.prototype[n]=function(...i){let o=this||r;if(i.length===1){let[s]=i,a=s&&s.message&&s||{message:s};return a.level=a[xF]=n,o._addDefaultMeta(a),o.write(a),this||r}return i.length===0?(o.log(n,""),o):o.log(n,...i)},e.prototype[kF(n)]=function(){return(this||r).isLevelEnabled(n)}}),r}});var TD=m((s8,PD)=>{"use strict";var $F=Jp();PD.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,r){if(!this.loggers.has(e)){r=Object.assign({},r||this.options);let n=r.transports||this.options.transports;n?r.transports=Array.isArray(n)?n.slice():[n]:r.transports=[];let i=$F(r);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,r){return this.add(e,r)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((r,n)=>this._removeLogger(n))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}});var OD=m(Ae=>{"use strict";var qD=bg(),{warn:_a}=_g();Ae.version=bR().version;Ae.transports=eD();Ae.config=qc();Ae.addColors=qD.levels;Ae.format=qD.format;Ae.createLogger=Jp();Ae.Logger=jc();Ae.ExceptionHandler=Gp();Ae.RejectionHandler=Yp();Ae.Container=TD();Ae.Transport=Ci();Ae.loggers=new Ae.Container;var Vr=Ae.createLogger();Object.keys(Ae.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(t=>Ae[t]=(...e)=>Vr[t](...e));Object.defineProperty(Ae,"level",{get(){return Vr.level},set(t){Vr.level=t}});Object.defineProperty(Ae,"exceptions",{get(){return Vr.exceptions}});Object.defineProperty(Ae,"rejections",{get(){return Vr.rejections}});["exitOnError"].forEach(t=>{Object.defineProperty(Ae,t,{get(){return Vr[t]},set(e){Vr[t]=e}})});Object.defineProperty(Ae,"default",{get(){return{exceptionHandlers:Vr.exceptionHandlers,rejectionHandlers:Vr.rejectionHandlers,transports:Vr.transports}}});_a.deprecated(Ae,"setLevels");_a.forFunctions(Ae,"useFormat",["cli"]);_a.forProperties(Ae,"useFormat",["padLevels","stripColors"]);_a.forFunctions(Ae,"deprecated",["addRewriter","addFilter","clone","extend"]);_a.forProperties(Ae,"deprecated",["emitErrs","levelLength"])});var CD=m((u8,MD)=>{"use strict";var Qp=class t extends Error{constructor(e){super(t._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,t)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch{return String(e)}}},WF=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],Zp=Symbol(".toJSON called"),HF=t=>{t[Zp]=!0;let e=t.toJSON();return delete t[Zp],e},em=({from:t,seen:e,to_:r,forceEnumerable:n,maxDepth:i,depth:o})=>{let s=r||(Array.isArray(t)?[]:{});if(e.push(t),o>=i)return s;if(typeof t.toJSON=="function"&&t[Zp]!==!0)return HF(t);for(let[a,u]of Object.entries(t)){if(typeof Buffer=="function"&&Buffer.isBuffer(u)){s[a]="[object Buffer]";continue}if(typeof u!="function"){if(!u||typeof u!="object"){s[a]=u;continue}if(!e.includes(t[a])){o++,s[a]=em({from:t[a],seen:e.slice(),forceEnumerable:n,maxDepth:i,depth:o});continue}s[a]="[Circular]"}}for(let{property:a,enumerable:u}of WF)typeof t[a]=="string"&&Object.defineProperty(s,a,{value:t[a],enumerable:n?!0:u,configurable:!0,writable:!0});return s},UF=(t,e={})=>{let{maxDepth:r=Number.POSITIVE_INFINITY}=e;return typeof t=="object"&&t!==null?em({from:t,seen:[],forceEnumerable:!0,maxDepth:r,depth:0}):typeof t=="function"?`[Function: ${t.name||"anonymous"}]`:t},BF=(t,e={})=>{let{maxDepth:r=Number.POSITIVE_INFINITY}=e;if(t instanceof Error)return t;if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let n=new Error;return em({from:t,seen:[],to_:n,maxDepth:r,depth:0}),n}return new Qp(t)};MD.exports={serializeError:UF,deserializeError:BF}});var tm=m(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.isIterableObject=Uo.isIterable=void 0;function AD(t){return t!=null&&typeof t[Symbol.iterator]=="function"}Uo.isIterable=AD;function zF(t){return AD(t)&&typeof t=="object"}Uo.isIterableObject=zF});var Lc=m(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.isObject=void 0;function GF(t){return typeof t=="object"&&t!==null}Ic.isObject=GF});var jD=m(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.mergeAssign=void 0;var VF=Lc();function ND(t,e,r){let n=t;for(let i of[e,r])if(i)for(let o of Object.getOwnPropertyNames(i)){if(o==="__proto__"||o==="constructor")continue;let s=i[o];if((0,VF.isObject)(s)){if(Array.isArray(s)){let a=n[o];n[o]=Array.isArray(a)?a.concat(s):s;continue}n[o]||(n[o]={}),n[o]=ND(n[o],s)}else n[o]=s}return n}Fc.mergeAssign=ND});var ID=m((d8,xD)=>{"use strict";xD.exports=YF;function Bo(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function YF(t){if(t=t||{},t.circles)return KF(t);return t.proto?n:r;function e(i,o){for(var s=Object.keys(i),a=new Array(s.length),u=0;u<s.length;u++){var l=s[u],d=i[l];typeof d!="object"||d===null?a[l]=d:d instanceof Date?a[l]=new Date(d):ArrayBuffer.isView(d)?a[l]=Bo(d):a[l]=o(d)}return a}function r(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,r);if(i instanceof Map)return new Map(e(Array.from(i),r));if(i instanceof Set)return new Set(e(Array.from(i),r));var o={};for(var s in i)if(Object.hasOwnProperty.call(i,s)!==!1){var a=i[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(e(Array.from(a),r)):a instanceof Set?o[s]=new Set(e(Array.from(a),r)):ArrayBuffer.isView(a)?o[s]=Bo(a):o[s]=r(a)}return o}function n(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,n);if(i instanceof Map)return new Map(e(Array.from(i),n));if(i instanceof Set)return new Set(e(Array.from(i),n));var o={};for(var s in i){var a=i[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(e(Array.from(a),n)):a instanceof Set?o[s]=new Set(e(Array.from(a),n)):ArrayBuffer.isView(a)?o[s]=Bo(a):o[s]=n(a)}return o}}function KF(t){var e=[],r=[];return t.proto?o:i;function n(s,a){for(var u=Object.keys(s),l=new Array(u.length),d=0;d<u.length;d++){var p=u[d],g=s[p];if(typeof g!="object"||g===null)l[p]=g;else if(g instanceof Date)l[p]=new Date(g);else if(ArrayBuffer.isView(g))l[p]=Bo(g);else{var h=e.indexOf(g);h!==-1?l[p]=r[h]:l[p]=a(g)}}return l}function i(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return n(s,i);if(s instanceof Map)return new Map(n(Array.from(s),i));if(s instanceof Set)return new Set(n(Array.from(s),i));var a={};e.push(s),r.push(a);for(var u in s)if(Object.hasOwnProperty.call(s,u)!==!1){var l=s[u];if(typeof l!="object"||l===null)a[u]=l;else if(l instanceof Date)a[u]=new Date(l);else if(l instanceof Map)a[u]=new Map(n(Array.from(l),i));else if(l instanceof Set)a[u]=new Set(n(Array.from(l),i));else if(ArrayBuffer.isView(l))a[u]=Bo(l);else{var d=e.indexOf(l);d!==-1?a[u]=r[d]:a[u]=i(l)}}return e.pop(),r.pop(),a}function o(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return n(s,o);if(s instanceof Map)return new Map(n(Array.from(s),o));if(s instanceof Set)return new Set(n(Array.from(s),o));var a={};e.push(s),r.push(a);for(var u in s){var l=s[u];if(typeof l!="object"||l===null)a[u]=l;else if(l instanceof Date)a[u]=new Date(l);else if(l instanceof Map)a[u]=new Map(n(Array.from(l),o));else if(l instanceof Set)a[u]=new Set(n(Array.from(l),o));else if(ArrayBuffer.isView(l))a[u]=Bo(l);else{var d=e.indexOf(l);d!==-1?a[u]=r[d]:a[u]=o(l)}}return e.pop(),r.pop(),a}}});var FD=m(zo=>{"use strict";var XF=zo&&zo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zo,"__esModule",{value:!0});zo.mergeOptionsWithDefaults=void 0;var JF=XF(ID()),rm=Lc(),kc=(0,JF.default)();function LD(t,e,r,n,i){if(!(0,rm.isObject)(t))return kc(e);let o={};for(let s of Object.keys(e)){let a=e[s],u=t[s];if(u!==void 0){if((0,rm.isObject)(u)){if(r.has(u)){i.add([u,o,s]);continue}r.add(u);let l=Array.isArray(u)?u.map(d=>kc(d)):(0,rm.isObject)(a)&&!Array.isArray(a)?LD(u,a,r,n,i):kc(u);n.set(u,l),o[s]=l;continue}o[s]=u;continue}o[s]=kc(a)}return o}function QF(t,e){let r=new WeakSet,n=new WeakMap,i=new Set,o=LD(t,e,r,n,i);for(let[s,a,u]of i)a[u]=n.get(s);return o}zo.mergeOptionsWithDefaults=QF});var im=m(_n=>{"use strict";var ZF=_n&&_n.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nm=_n&&_n.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ZF(e,t,r)};Object.defineProperty(_n,"__esModule",{value:!0});nm(Lc(),_n);nm(jD(),_n);nm(FD(),_n)});var $D=m(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.serializeErrors=void 0;var kD=CD(),ek=tm(),$c=im();function tk(t){let e=(r,n)=>{if(!r||typeof r!="object")return r;if(n.has(r))return n.get(r);if(r instanceof Error){let o=(0,kD.serializeError)(r);return n.set(r,o),o}if(r instanceof Map){let o=new Map;n.set(r,o);for(let[s,a]of r){let u=e(s,n),l=e(a,n);(0,$c.isObject)(s)&&n.set(s,u),(0,$c.isObject)(a)&&n.set(a,l),o.set(u,l)}return o}if(r instanceof Set){let o=new Set;n.set(r,o);for(let s of r){if(!(0,$c.isObject)(s)){o.add(s);continue}let a=e(s,n);n.set(s,a),o.add(a)}return o}if((0,ek.isIterable)(r)){let o=[];n.set(r,o);for(let s of r)o.push(e(s,n));return o}n.set(r,"[Circular]");let i=Object.fromEntries(Object.entries(r).map(([o,s])=>{if(!(0,$c.isObject)(s))return[o,s];if(n.has(s))return[o,n.get(s)];if(s instanceof Error){let u=(0,kD.serializeError)(s);return n.set(s,u),[o,u]}let a=e(s,n);return n.set(s,a),[o,a]}));return n.set(r,i),i};return e(t,new WeakMap)}Wc.serializeErrors=tk});var WD=m(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.ErrorFormatter=void 0;var rk=$D(),om=class{transform(e){let r=(0,rk.serializeErrors)({...e});for(let n of Object.keys(r))e[n]=r[n];return e}};Hc.ErrorFormatter=om});var Bc=m(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.getLogFunction=void 0;var nk=(t,e)=>{let r=t[e];if(typeof r=="function")return r};Uc.getLogFunction=nk});var HD=m(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.padNumber=Zn.padString=Zn.upperCaseFirstChar=void 0;var ik=t=>t.charAt(0).toUpperCase()+t.slice(1);Zn.upperCaseFirstChar=ik;var ok=(t,e)=>t+" ".repeat(e-t.length);Zn.padString=ok;var sk=(t,e)=>{let r=String(t);return"0".repeat(e-r.length)+r};Zn.padNumber=sk});var BD=m(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.LanguageServerFormatter=void 0;var UD=Ge(),ak=Bc(),zc=HD(),sm=class{constructor(e){this.options=e}transform(e){let r=new Date,n=`${r.getHours()%12||12}:${(0,zc.padNumber)(r.getMinutes(),2)}:${(0,zc.padNumber)(r.getSeconds(),2)} ${r.getHours()<12?"a.m.":"p.m."}`,i=[],o=String(e[UD.LEVEL]);(0,ak.getLogFunction)(this.options.connection.console,o)||i.push(`[${(0,zc.padString)((0,zc.upperCaseFirstChar)(o),5)} - ${n}]`),e.component&&i.push(`[${String(e.component)}]`),i.push(e.message),delete e.component,delete e.timestamp;let s=new Set(Object.keys({...e})),a=[];if(this.options.preferredKeyOrder)for(let l of this.options.preferredKeyOrder)s.has(l)&&(a.push(`${l}: ${JSON.stringify(e[l])}`),s.delete(l),delete e[l]);for(let l of s)l==="level"||l==="message"||(a.push(`${l}: ${JSON.stringify(e[l])}`),delete e[l]);let u=a.length>0?`${i.join(" ")} | ${a.join(" ")}`:i.join(" ");return e[UD.MESSAGE]=u,e.message=u,e}};Gc.LanguageServerFormatter=sm});var zD=m(Yr=>{"use strict";var uk=Yr&&Yr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},am=Yr&&Yr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},lk=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Go;Object.defineProperty(Yr,"__esModule",{value:!0});Yr.LanguageServerTransport=void 0;var ck=lk(Ci()),um=Ge(),fk=Bc(),lm=class extends ck.default{constructor(e){super(e),Go.set(this,void 0),uk(this,Go,e.connection.console,"f")}log(e,r){setImmediate(()=>{this.emit("logged",e)});try{let n=(0,fk.getLogFunction)(am(this,Go,"f"),String(e[um.LEVEL]));typeof n=="function"?n.call(am(this,Go,"f"),String(e[um.MESSAGE])):am(this,Go,"f").log(String(e[um.MESSAGE]))}catch(n){(!(n instanceof Error)||!n.message.includes("Connection is disposed"))&&this.emit("error",n)}r()}};Yr.LanguageServerTransport=lm;Go=new WeakMap});var GD=m(Kr=>{"use strict";var dk=Kr&&Kr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vc=Kr&&Kr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dk(e,t,r)};Object.defineProperty(Kr,"__esModule",{value:!0});Vc(WD(),Kr);Vc(Bc(),Kr);Vc(BD(),Kr);Vc(zD(),Kr)});var cm=m(Yo=>{"use strict";var hk=Yo&&Yo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.createLogger=void 0;var Vo=hk(OD()),Yc=GD();function gk(t,e="info",r){let n=[new Yc.LanguageServerTransport({connection:t,format:Vo.default.format.combine(new Yc.ErrorFormatter,new Yc.LanguageServerFormatter({connection:t,preferredKeyOrder:["module","uri","command"]}))})];return r&&n.push(new Vo.default.transports.File({filename:r,format:Vo.default.format.combine(new Yc.ErrorFormatter,Vo.default.format.timestamp(),Vo.default.format.json())})),Vo.default.createLogger({level:e,transports:n,levels:{error:0,warn:1,info:2,debug:3}})}Yo.createLogger=gk});var Ko=m(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.Notification=Xr.CodeActionKind=Xr.CommandId=void 0;var pk=kr(),mk;(function(t){t.ApplyAutoFix="stylelint.applyAutoFix",t.OpenRuleDoc="stylelint.openRuleDoc"})(mk=Xr.CommandId||(Xr.CommandId={}));Xr.CodeActionKind={StylelintSourceFixAll:`${pk.CodeActionKind.SourceFixAll}.stylelint`};var vk;(function(t){t.DidRegisterCodeActionRequestHandler="stylelint/didRegisterCodeActionRequestHandler",t.DidRegisterDocumentFormattingEditProvider="stylelint/didRegisterDocumentFormattingEditProvider",t.DidResetConfiguration="stylelint/didResetConfiguration"})(vk=Xr.Notification||(Xr.Notification={}))});var XD=m(ti=>{"use strict";var VD=ti&&ti.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ct=ti&&ti.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},fm,ei,Tr,wa,KD;Object.defineProperty(ti,"__esModule",{value:!0});ti.AutoFixModule=void 0;var yk=qe(),YD=Ko(),Kc=class{constructor({context:e,logger:r}){fm.add(this),ei.set(this,void 0),Tr.set(this,void 0),wa.set(this,[]),VD(this,ei,e,"f"),VD(this,Tr,r,"f")}onInitialize(){return{capabilities:{executeCommandProvider:{commands:[YD.CommandId.ApplyAutoFix]}}}}dispose(){ct(this,wa,"f").forEach(e=>e.dispose()),ct(this,wa,"f").length=0}onDidRegisterHandlers(){ct(this,Tr,"f")?.debug("Registering onExecuteCommand handler"),ct(this,wa,"f").push(ct(this,ei,"f").commands.on(YD.CommandId.ApplyAutoFix,async({arguments:e})=>{if(!e)return{};let r=e[0],n=r.uri,i=ct(this,ei,"f").documents.get(n);if(!i||!await ct(this,fm,"m",KD).call(this,i))return ct(this,Tr,"f")?.isDebugEnabled()&&(i?ct(this,Tr,"f").debug("Document should not be auto-fixed, ignoring",{uri:n,language:i.languageId}):ct(this,Tr,"f").debug("Unknown document, ignoring",{uri:n})),{};if(r.version!==i.version)return ct(this,Tr,"f")?.debug("Document has been modified, ignoring",{uri:n}),{};let o=new yk.WorkspaceChange,s=o.getTextEditChange(r),a=await ct(this,ei,"f").getFixes(i);a.forEach(u=>s.add(u)),ct(this,Tr,"f")?.debug("Applying fixes",{uri:n,edits:a});try{let u=await ct(this,ei,"f").connection.workspace.applyEdit(o.edit);u.applied||ct(this,Tr,"f")?.debug("Failed to apply fixes",{uri:n,response:u})}catch(u){ct(this,Tr,"f")?.debug("Failed to apply fixes",{uri:n,error:u})}return{}}))}};ti.AutoFixModule=Kc;ei=new WeakMap,Tr=new WeakMap,wa=new WeakMap,fm=new WeakSet,KD=async function(e){return(await ct(this,ei,"f").getOptions(e.uri)).validate.includes(e.languageId)};Kc.id="auto-fix"});var ZD=m($t=>{"use strict";var bk=$t&&$t.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_k=$t&&$t.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wk=$t&&$t.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bk(e,t,r);return _k(e,t),e},JD=$t&&$t.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Qe=$t&&$t.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ra,St,ri;Object.defineProperty($t,"__esModule",{value:!0});$t.CommandManager=void 0;var QD=wk(qe()),dm=class{constructor(e,r){Ra.set(this,void 0),St.set(this,void 0),ri.set(this,new Map),JD(this,Ra,e,"f"),JD(this,St,r,"f")}dispose(){Qe(this,St,"f")?.debug("Disposing command manager"),Qe(this,ri,"f").clear(),Qe(this,Ra,"f").onExecuteCommand(()=>{})}on(e,r){if(Array.isArray(e)){Qe(this,St,"f")?.debug("Registering commands",{commands:e});for(let n of e)Qe(this,ri,"f").set(n,r);return{dispose:()=>{Qe(this,St,"f")?.debug("Deregistering commands",{commands:e});for(let n of e)Qe(this,ri,"f").delete(n)}}}return Qe(this,St,"f")?.debug("Registering command",{command:e}),Qe(this,ri,"f").set(e,r),{dispose:()=>{Qe(this,St,"f")?.debug("Deregistering command",{command:e}),Qe(this,ri,"f").delete(e)}}}register(){Qe(this,St,"f")?.debug("Registering ExecuteCommandRequest handler"),Qe(this,Ra,"f").onExecuteCommand(async(...e)=>{Qe(this,St,"f")?.debug("Received ExecuteCommandRequest",{command:e[0].command,arguments:e[0].arguments});let r=Qe(this,ri,"f").get(e[0].command);if(!r)return Qe(this,St,"f")?.debug("No handler registered for command",{command:e[0].command}),{};Qe(this,St,"f")?.debug("Executing command",{command:e[0].command});try{let n=await r(...e);return Qe(this,St,"f")?.debug("Sending command response",{command:e[0].command,response:n}),n}catch(n){return Qe(this,St,"f")?.error("Error executing command",{command:e[0].command,error:n}),new QD.ResponseError(QD.ErrorCodes.InternalError,`Error executing command ${e[0].command}`,n)}}),Qe(this,St,"f")?.debug("ExecuteCommandRequest handler registered")}};$t.CommandManager=dm;Ra=new WeakMap,St=new WeakMap,ri=new WeakMap});var eP=m(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.createDisableCompletionItem=void 0;var Sa=kr();function Rk(t,e=""){let r=Sa.CompletionItem.create(t);return r.kind=Sa.CompletionItemKind.Snippet,r.insertTextFormat=Sa.InsertTextFormat.Snippet,t==="stylelint-disable"?(r.insertText=`/* stylelint-disable \${0:${e||"rule"}} */
/* stylelint-enable \${0:${e||"rule"}} */`,r.detail="Turn off all Stylelint or individual rules, after which you do not need to re-enable Stylelint. (Stylelint)",r.documentation={kind:Sa.MarkupKind.Markdown,value:`\`\`\`css
/* stylelint-disable ${e||"rule"} */
/* stylelint-enable ${e||"rule"} */
\`\`\``}):(r.insertText=`/* ${t} \${0:${e||"rule"}} */`,r.detail=t==="stylelint-disable-line"?"Turn off Stylelint rules for individual lines only, after which you do not need to explicitly re-enable them. (Stylelint)":"Turn off Stylelint rules for the next line only, after which you do not need to explicitly re-enable them. (Stylelint)",r.documentation={kind:Sa.MarkupKind.Markdown,value:`\`\`\`css
/* ${t} ${e||"rule"} */
\`\`\``}),r}Xc.createDisableCompletionItem=Rk});var tP=m(lr=>{"use strict";var Sk=lr&&lr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ek=lr&&lr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dk=lr&&lr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Sk(e,t,r);return Ek(e,t),e},Pk=lr&&lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lr,"__esModule",{value:!0});lr.createDisableRuleFileCodeAction=void 0;var Tk=Pk(require("os")),ni=Dk(qe());function qk(t,{code:e}){let r=new ni.WorkspaceChange,n=t.getText(ni.Range.create(ni.Position.create(0,0),ni.Position.create(0,2)));return r.getTextEditChange(t).add(ni.TextEdit.insert(ni.Position.create(n==="#!"?1:0,0),`/* stylelint-disable ${e} */${Tk.default.EOL}`)),ni.CodeAction.create(`Disable ${e} for the entire file`,r.edit,ni.CodeActionKind.QuickFix)}lr.createDisableRuleFileCodeAction=qk});var rP=m(fr=>{"use strict";var Ok=fr&&fr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mk=fr&&fr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ck=fr&&fr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ok(e,t,r);return Mk(e,t),e},Ak=fr&&fr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fr,"__esModule",{value:!0});fr.createDisableRuleLineCodeAction=void 0;var Nk=Ak(require("os")),cr=Ck(qe());function jk(t,{code:e,range:r},n){let i=new cr.WorkspaceChange;if(n==="sameLine")i.getTextEditChange(t).add(cr.TextEdit.insert(cr.Position.create(r.start.line,cr.uinteger.MAX_VALUE),` /* stylelint-disable-line ${e} */`));else{let s=t.getText(cr.Range.create(cr.Position.create(r.start.line,0),cr.Position.create(r.start.line,cr.uinteger.MAX_VALUE))).match(/^([ \t]+)/)?.[1]??"";i.getTextEditChange(t).add(cr.TextEdit.insert(cr.Position.create(r.start.line,0),`${s}/* stylelint-disable-next-line ${e} */${Nk.default.EOL}`))}return cr.CodeAction.create(`Disable ${e} for this line`,i.edit,cr.CodeActionKind.QuickFix)}fr.createDisableRuleLineCodeAction=jk});var nP=m(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.displayError=void 0;var xk=tm();function Ik(t,e){if(!(e instanceof Error)){t.window.showErrorMessage(String(e).replace(/\n/gu," "));return}if((0,xk.isIterableObject)(e?.reasons)){for(let r of e.reasons)t.window.showErrorMessage(`Stylelint: ${r}`);return}if(e?.code===78){t.window.showErrorMessage(`Stylelint: ${e.message}`);return}t.window.showErrorMessage((e.stack||e.message).replace(/\n/gu," "))}Jc.displayError=Ik});var oP=m(oi=>{"use strict";var iP=oi&&oi.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Et=oi&&oi.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Qc,$i,Xo,ii,hm;Object.defineProperty(oi,"__esModule",{value:!0});oi.NotificationManager=void 0;var gm=class{constructor(e,r){Qc.add(this),$i.set(this,void 0),Xo.set(this,void 0),ii.set(this,new Map),iP(this,$i,e,"f"),iP(this,Xo,r,"f")}dispose(){Et(this,Xo,"f")?.debug("Disposing notification manager");for(let[e]of Et(this,ii,"f"))e?Et(this,$i,"f").onNotification(e,()=>{}):Et(this,$i,"f").onNotification(()=>{});Et(this,ii,"f").clear()}on(e,r){let n=typeof e=="function",[i,o]=n?[void 0,e]:[e,r];if(!o)throw new Error("Handler must be defined");let s={dispose:()=>{Et(this,ii,"f").get(i)?.delete(o)}},a=Et(this,ii,"f").get(i);return a?(a.add(o),s):(Et(this,ii,"f").set(i,new Set([o])),n?(Et(this,$i,"f").onNotification((...u)=>Et(this,Qc,"m",hm).call(this,void 0,u)),s):(Et(this,$i,"f").onNotification(e,(...u)=>Et(this,Qc,"m",hm).call(this,e,u)),s))}};oi.NotificationManager=gm;$i=new WeakMap,Xo=new WeakMap,ii=new WeakMap,Qc=new WeakSet,hm=async function(e,r){Et(this,Xo,"f")?.debug("Received notification",{notificationType:e??"<all>",params:r});let n=Et(this,ii,"f").get(e),i=[];for(let o of n)i.push(async()=>{try{await o(...r)}catch(s){Et(this,Xo,"f")?.error("Error handling notification",{notificationType:e??"<all>",error:s})}});await Promise.all(i.map(o=>o()))}});var sP=m(Jo=>{"use strict";var pm=Jo&&Jo.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ea;Object.defineProperty(Jo,"__esModule",{value:!0});Jo.RuleCodeActionsCollection=void 0;var mm=class{constructor(){Ea.set(this,new Map)}get(e){let r=pm(this,Ea,"f").get(e);if(r)return r;let n={};return pm(this,Ea,"f").set(e,n),n}*[(Ea=new WeakMap,Symbol.iterator)](){for(let e of pm(this,Ea,"f").values())e.disableLine&&(yield e.disableLine),e.disableFile&&(yield e.disableFile),e.documentation&&(yield e.documentation)}get size(){let e=this[Symbol.iterator](),r=0;for(;!e.next().done;)r++;return r}};Jo.RuleCodeActionsCollection=mm});var uP=m(aP=>{"use strict";Object.defineProperty(aP,"__esModule",{value:!0})});var Zc=m(Wt=>{"use strict";var Lk=Wt&&Wt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),si=Wt&&Wt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Lk(e,t,r)};Object.defineProperty(Wt,"__esModule",{value:!0});si(ZD(),Wt);si(eP(),Wt);si(tP(),Wt);si(rP(),Wt);si(nP(),Wt);si(oP(),Wt);si(sP(),Wt);si(uP(),Wt)});var ef=m((j8,fP)=>{"use strict";var cP=require("path");fP.exports=function(t,e){return t=lP(t),e=lP(e),process.platform==="win32"&&(t=t.toLowerCase(),e=e.toLowerCase()),t.lastIndexOf(e,0)===0&&(t[e.length]===cP.sep||t[e.length]===void 0)};function lP(t){return t[t.length-1]===cP.sep?t.slice(0,-1):t}});var Qo=m((Da,vm)=>{(function(t,e){if(typeof Da=="object"&&typeof vm=="object")vm.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r=e();for(var n in r)(typeof Da=="object"?Da:t)[n]=r[n]}})(Da,()=>(()=>{"use strict";var t={470:i=>{function o(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function s(u,l){for(var d,p="",g=0,h=-1,R=0,D=0;D<=u.length;++D){if(D<u.length)d=u.charCodeAt(D);else{if(d===47)break;d=47}if(d===47){if(!(h===D-1||R===1))if(h!==D-1&&R===2){if(p.length<2||g!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var M=p.lastIndexOf("/");if(M!==p.length-1){M===-1?(p="",g=0):g=(p=p.slice(0,M)).length-1-p.lastIndexOf("/"),h=D,R=0;continue}}else if(p.length===2||p.length===1){p="",g=0,h=D,R=0;continue}}l&&(p.length>0?p+="/..":p="..",g=2)}else p.length>0?p+="/"+u.slice(h+1,D):p=u.slice(h+1,D),g=D-h-1;h=D,R=0}else d===46&&R!==-1?++R:R=-1}return p}var a={resolve:function(){for(var u,l="",d=!1,p=arguments.length-1;p>=-1&&!d;p--){var g;p>=0?g=arguments[p]:(u===void 0&&(u=process.cwd()),g=u),o(g),g.length!==0&&(l=g+"/"+l,d=g.charCodeAt(0)===47)}return l=s(l,!d),d?l.length>0?"/"+l:"/":l.length>0?l:"."},normalize:function(u){if(o(u),u.length===0)return".";var l=u.charCodeAt(0)===47,d=u.charCodeAt(u.length-1)===47;return(u=s(u,!l)).length!==0||l||(u="."),u.length>0&&d&&(u+="/"),l?"/"+u:u},isAbsolute:function(u){return o(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,l=0;l<arguments.length;++l){var d=arguments[l];o(d),d.length>0&&(u===void 0?u=d:u+="/"+d)}return u===void 0?".":a.normalize(u)},relative:function(u,l){if(o(u),o(l),u===l||(u=a.resolve(u))===(l=a.resolve(l)))return"";for(var d=1;d<u.length&&u.charCodeAt(d)===47;++d);for(var p=u.length,g=p-d,h=1;h<l.length&&l.charCodeAt(h)===47;++h);for(var R=l.length-h,D=g<R?g:R,M=-1,P=0;P<=D;++P){if(P===D){if(R>D){if(l.charCodeAt(h+P)===47)return l.slice(h+P+1);if(P===0)return l.slice(h+P)}else g>D&&(u.charCodeAt(d+P)===47?M=P:P===0&&(M=0));break}var _=u.charCodeAt(d+P);if(_!==l.charCodeAt(h+P))break;_===47&&(M=P)}var y="";for(P=d+M+1;P<=p;++P)P!==p&&u.charCodeAt(P)!==47||(y.length===0?y+="..":y+="/..");return y.length>0?y+l.slice(h+M):(h+=M,l.charCodeAt(h)===47&&++h,l.slice(h))},_makeLong:function(u){return u},dirname:function(u){if(o(u),u.length===0)return".";for(var l=u.charCodeAt(0),d=l===47,p=-1,g=!0,h=u.length-1;h>=1;--h)if((l=u.charCodeAt(h))===47){if(!g){p=h;break}}else g=!1;return p===-1?d?"/":".":d&&p===1?"//":u.slice(0,p)},basename:function(u,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');o(u);var d,p=0,g=-1,h=!0;if(l!==void 0&&l.length>0&&l.length<=u.length){if(l.length===u.length&&l===u)return"";var R=l.length-1,D=-1;for(d=u.length-1;d>=0;--d){var M=u.charCodeAt(d);if(M===47){if(!h){p=d+1;break}}else D===-1&&(h=!1,D=d+1),R>=0&&(M===l.charCodeAt(R)?--R==-1&&(g=d):(R=-1,g=D))}return p===g?g=D:g===-1&&(g=u.length),u.slice(p,g)}for(d=u.length-1;d>=0;--d)if(u.charCodeAt(d)===47){if(!h){p=d+1;break}}else g===-1&&(h=!1,g=d+1);return g===-1?"":u.slice(p,g)},extname:function(u){o(u);for(var l=-1,d=0,p=-1,g=!0,h=0,R=u.length-1;R>=0;--R){var D=u.charCodeAt(R);if(D!==47)p===-1&&(g=!1,p=R+1),D===46?l===-1?l=R:h!==1&&(h=1):l!==-1&&(h=-1);else if(!g){d=R+1;break}}return l===-1||p===-1||h===0||h===1&&l===p-1&&l===d+1?"":u.slice(l,p)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(l,d){var p=d.dir||d.root,g=d.base||(d.name||"")+(d.ext||"");return p?p===d.root?p+g:p+"/"+g:g}(0,u)},parse:function(u){o(u);var l={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return l;var d,p=u.charCodeAt(0),g=p===47;g?(l.root="/",d=1):d=0;for(var h=-1,R=0,D=-1,M=!0,P=u.length-1,_=0;P>=d;--P)if((p=u.charCodeAt(P))!==47)D===-1&&(M=!1,D=P+1),p===46?h===-1?h=P:_!==1&&(_=1):h!==-1&&(_=-1);else if(!M){R=P+1;break}return h===-1||D===-1||_===0||_===1&&h===D-1&&h===R+1?D!==-1&&(l.base=l.name=R===0&&g?u.slice(1,D):u.slice(R,D)):(R===0&&g?(l.name=u.slice(1,h),l.base=u.slice(1,D)):(l.name=u.slice(R,h),l.base=u.slice(R,D)),l.ext=u.slice(h,D)),R>0?l.dir=u.slice(0,R-1):g&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a},674:(i,o)=>{if(Object.defineProperty(o,"__esModule",{value:!0}),o.isWindows=void 0,typeof process=="object")o.isWindows=process.platform==="win32";else if(typeof navigator=="object"){let s=navigator.userAgent;o.isWindows=s.indexOf("Windows")>=0}},796:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.uriToFsPath=o.URI=void 0;let a=s(674),u=/^\w[\w\d+.-]*$/,l=/^\//,d=/^\/\//;function p(W,x){if(!W.scheme&&x)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${W.authority}", path: "${W.path}", query: "${W.query}", fragment: "${W.fragment}"}`);if(W.scheme&&!u.test(W.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(W.path){if(W.authority){if(!l.test(W.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(d.test(W.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let g="",h="/",R=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class D{static isUri(x){return x instanceof D||!!x&&typeof x.authority=="string"&&typeof x.fragment=="string"&&typeof x.path=="string"&&typeof x.query=="string"&&typeof x.scheme=="string"&&typeof x.fsPath=="string"&&typeof x.with=="function"&&typeof x.toString=="function"}scheme;authority;path;query;fragment;constructor(x,z,B,ce,he,O=!1){typeof x=="object"?(this.scheme=x.scheme||g,this.authority=x.authority||g,this.path=x.path||g,this.query=x.query||g,this.fragment=x.fragment||g):(this.scheme=function(H,re){return H||re?H:"file"}(x,O),this.authority=z||g,this.path=function(H,re){switch(H){case"https":case"http":case"file":re?re[0]!==h&&(re=h+re):re=h}return re}(this.scheme,B||g),this.query=ce||g,this.fragment=he||g,p(this,O))}get fsPath(){return L(this,!1)}with(x){if(!x)return this;let{scheme:z,authority:B,path:ce,query:he,fragment:O}=x;return z===void 0?z=this.scheme:z===null&&(z=g),B===void 0?B=this.authority:B===null&&(B=g),ce===void 0?ce=this.path:ce===null&&(ce=g),he===void 0?he=this.query:he===null&&(he=g),O===void 0?O=this.fragment:O===null&&(O=g),z===this.scheme&&B===this.authority&&ce===this.path&&he===this.query&&O===this.fragment?this:new P(z,B,ce,he,O)}static parse(x,z=!1){let B=R.exec(x);return B?new P(B[2]||g,Ee(B[4]||g),Ee(B[5]||g),Ee(B[7]||g),Ee(B[9]||g),z):new P(g,g,g,g,g)}static file(x){let z=g;if(a.isWindows&&(x=x.replace(/\\/g,h)),x[0]===h&&x[1]===h){let B=x.indexOf(h,2);B===-1?(z=x.substring(2),x=h):(z=x.substring(2,B),x=x.substring(B)||h)}return new P("file",z,x,g,g)}static from(x){let z=new P(x.scheme,x.authority,x.path,x.query,x.fragment);return p(z,!0),z}toString(x=!1){return k(this,x)}toJSON(){return this}static revive(x){if(x){if(x instanceof D)return x;{let z=new P(x);return z._formatted=x.external,z._fsPath=x._sep===M?x.fsPath:null,z}}return x}}o.URI=D;let M=a.isWindows?1:void 0;class P extends D{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=L(this,!1)),this._fsPath}toString(x=!1){return x?k(this,!0):(this._formatted||(this._formatted=k(this,!1)),this._formatted)}toJSON(){let x={$mid:1};return this._fsPath&&(x.fsPath=this._fsPath,x._sep=M),this._formatted&&(x.external=this._formatted),this.path&&(x.path=this.path),this.scheme&&(x.scheme=this.scheme),this.authority&&(x.authority=this.authority),this.query&&(x.query=this.query),this.fragment&&(x.fragment=this.fragment),x}}let _={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function y(W,x,z){let B,ce=-1;for(let he=0;he<W.length;he++){let O=W.charCodeAt(he);if(O>=97&&O<=122||O>=65&&O<=90||O>=48&&O<=57||O===45||O===46||O===95||O===126||x&&O===47||z&&O===91||z&&O===93||z&&O===58)ce!==-1&&(B+=encodeURIComponent(W.substring(ce,he)),ce=-1),B!==void 0&&(B+=W.charAt(he));else{B===void 0&&(B=W.substr(0,he));let H=_[O];H!==void 0?(ce!==-1&&(B+=encodeURIComponent(W.substring(ce,he)),ce=-1),B+=H):ce===-1&&(ce=he)}}return ce!==-1&&(B+=encodeURIComponent(W.substring(ce))),B!==void 0?B:W}function C(W){let x;for(let z=0;z<W.length;z++){let B=W.charCodeAt(z);B===35||B===63?(x===void 0&&(x=W.substr(0,z)),x+=_[B]):x!==void 0&&(x+=W[z])}return x!==void 0?x:W}function L(W,x){let z;return z=W.authority&&W.path.length>1&&W.scheme==="file"?`//${W.authority}${W.path}`:W.path.charCodeAt(0)===47&&(W.path.charCodeAt(1)>=65&&W.path.charCodeAt(1)<=90||W.path.charCodeAt(1)>=97&&W.path.charCodeAt(1)<=122)&&W.path.charCodeAt(2)===58?x?W.path.substr(1):W.path[1].toLowerCase()+W.path.substr(2):W.path,a.isWindows&&(z=z.replace(/\//g,"\\")),z}function k(W,x){let z=x?C:y,B="",{scheme:ce,authority:he,path:O,query:H,fragment:re}=W;if(ce&&(B+=ce,B+=":"),(he||ce==="file")&&(B+=h,B+=h),he){let ue=he.indexOf("@");if(ue!==-1){let J=he.substr(0,ue);he=he.substr(ue+1),ue=J.lastIndexOf(":"),ue===-1?B+=z(J,!1,!1):(B+=z(J.substr(0,ue),!1,!1),B+=":",B+=z(J.substr(ue+1),!1,!0)),B+="@"}he=he.toLowerCase(),ue=he.lastIndexOf(":"),ue===-1?B+=z(he,!1,!0):(B+=z(he.substr(0,ue),!1,!0),B+=he.substr(ue))}if(O){if(O.length>=3&&O.charCodeAt(0)===47&&O.charCodeAt(2)===58){let ue=O.charCodeAt(1);ue>=65&&ue<=90&&(O=`/${String.fromCharCode(ue+32)}:${O.substr(3)}`)}else if(O.length>=2&&O.charCodeAt(1)===58){let ue=O.charCodeAt(0);ue>=65&&ue<=90&&(O=`${String.fromCharCode(ue+32)}:${O.substr(2)}`)}B+=z(O,!0,!1)}return H&&(B+="?",B+=z(H,!1,!1)),re&&(B+="#",B+=x?re:y(re,!1,!1)),B}function Y(W){try{return decodeURIComponent(W)}catch{return W.length>3?W.substr(0,3)+Y(W.substr(3)):W}}o.uriToFsPath=L;let Z=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Ee(W){return W.match(Z)?W.replace(Z,x=>Y(x)):W}},679:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(R,D,M,P){P===void 0&&(P=M);var _=Object.getOwnPropertyDescriptor(D,M);_&&!("get"in _?!D.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return D[M]}}),Object.defineProperty(R,P,_)}:function(R,D,M,P){P===void 0&&(P=M),R[P]=D[M]}),u=this&&this.__setModuleDefault||(Object.create?function(R,D){Object.defineProperty(R,"default",{enumerable:!0,value:D})}:function(R,D){R.default=D}),l=this&&this.__importStar||function(R){if(R&&R.__esModule)return R;var D={};if(R!=null)for(var M in R)M!=="default"&&Object.prototype.hasOwnProperty.call(R,M)&&a(D,R,M);return u(D,R),D};Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;let d=l(s(470)),p=d.posix||d,g="/";var h;(function(R){R.joinPath=function(D,...M){return D.with({path:p.join(D.path,...M)})},R.resolvePath=function(D,...M){let P=D.path,_=!1;P[0]!==g&&(P=g+P,_=!0);let y=p.resolve(P,...M);return _&&y[0]===g&&!D.authority&&(y=y.substring(1)),D.with({path:y})},R.dirname=function(D){if(D.path.length===0||D.path===g)return D;let M=p.dirname(D.path);return M.length===1&&M.charCodeAt(0)===46&&(M=""),D.with({path:M})},R.basename=function(D){return p.basename(D.path)},R.extname=function(D){return p.extname(D.path)}})(h||(o.Utils=h={}))}},e={};function r(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,r),s.exports}var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.URI=void 0;let o=r(796);Object.defineProperty(i,"URI",{enumerable:!0,get:function(){return o.URI}});let s=r(679);Object.defineProperty(i,"Utils",{enumerable:!0,get:function(){return s.Utils}})})(),n})())});var ym=m(Zo=>{"use strict";var dP=Zo&&Zo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.findPackageRoot=void 0;var Fk=dP(require("fs/promises")),Pa=dP(require("path"));async function kk(t,e="package.json"){let r=t;for(;;){let n=Pa.default.join(r,e);try{if((await Fk.default.stat(n)).isFile())return r;let o=Pa.default.dirname(r);if(!Pa.default.relative(o,r))return;r=o}catch(i){if(i.code==="ENOENT"||i.code==="ENOTDIR"){let o=Pa.default.dirname(r);if(!Pa.default.relative(o,r))return;r=o}else throw i}}}Zo.findPackageRoot=kk});var gP=m(es=>{"use strict";var hP=es&&es.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});es.runProcessFindLine=void 0;var $k=hP(require("child_process")),Wk=hP(require("readline"));function Hk(t,e,r,n){return new Promise((i,o)=>{let s=$k.default.spawn(t,e,r),a=Wk.default.createInterface({input:s.stdout}),u,l,d=!1,p=!1,g=()=>{d||l===void 0||!p||(d=!0,l===0?i(u):o(new Error(`Command "${t}" exited with code ${l}.`)))},h=R=>{d=!0,s.removeAllListeners(),a.close();try{s.kill()}catch{}o(R)};a.on("line",R=>{if(!(d||u!==void 0))try{let D=n(R);D!==void 0&&(u=D),g()}catch(D){h(D)}}),a.on("close",()=>{d||(p=!0,g())}),s.on("error",h),s.on("exit",(R,D)=>{l=R??D,g()})})}es.runProcessFindLine=Hk});var Sm=m(Jr=>{"use strict";var pP=Jr&&Jr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},it=Jr&&Jr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},mP=Jr&&Jr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ta,qr,tf,Wi,wm,vP,yP,bP;Object.defineProperty(Jr,"__esModule",{value:!0});Jr.GlobalPathResolver=void 0;var Uk=mP(require("os")),bm=mP(require("path")),_m=gP(),Rm=class{constructor(e){Ta.add(this),qr.set(this,void 0),tf.set(this,{yarn:void 0,npm:void 0,pnpm:void 0}),Wi.set(this,void 0),wm.set(this,{yarn:it(this,Ta,"m",vP).bind(this),npm:it(this,Ta,"m",yP).bind(this),pnpm:it(this,Ta,"m",bP).bind(this)}),pP(this,qr,e,"f"),pP(this,Wi,Uk.default.platform()==="win32","f")}async resolve(e){let r=it(this,tf,"f")[e];if(r)return r;let n=it(this,wm,"f")[e];if(!n){it(this,qr,"f")?.warn("Unsupported package manager.",{packageManager:e});return}try{let i=await n();return i&&(it(this,tf,"f")[e]=i),i}catch(i){it(this,qr,"f")?.warn("Failed to resolve global node_modules path.",{packageManager:e,error:i});return}}};Jr.GlobalPathResolver=Rm;qr=new WeakMap,tf=new WeakMap,Wi=new WeakMap,wm=new WeakMap,Ta=new WeakSet,vP=async function(){let e=n=>{try{return JSON.parse(n)}catch{return}},r=await(0,_m.runProcessFindLine)("yarn",["global","dir","--json"],it(this,Wi,"f")?{shell:!0}:void 0,n=>{let i=e(n);if(!i||i.type!=="log"||!i.data)return;let o=bm.default.join(i.data,"node_modules");return it(this,qr,"f")?.debug("Yarn returned global node_modules path.",{path:o}),o});if(!r){it(this,qr,"f")?.warn('"yarn global dir --json" did not return a path.');return}return r},yP=async function(){let e=await(0,_m.runProcessFindLine)("npm",["config","get","prefix"],it(this,Wi,"f")?{shell:!0}:void 0,r=>{let n=r.trim();if(!n)return;let i=it(this,Wi,"f")?bm.default.join(n,"node_modules"):bm.default.join(n,"lib/node_modules");return it(this,qr,"f")?.debug("npm returned global node_modules path.",{path:i}),i});if(!e){it(this,qr,"f")?.warn('"npm config get prefix" did not return a path.');return}return e},bP=async function(){let e=await(0,_m.runProcessFindLine)("pnpm",["root","-g"],it(this,Wi,"f")?{shell:!0}:void 0,r=>{let n=r.trim();if(n)return it(this,qr,"f")?.debug("pnpm returned global node_modules path.",{path:n}),n});if(!e){it(this,qr,"f")?.warn('"pnpm root -g" did not return a path.');return}return e}});var TP=m((F8,PP)=>{var Qr=-1,Or=1,Ht=0;function qa(t,e,r,n){if(t===e)return t?[[Ht,t]]:[];if(r!=null){var i=Yk(t,e,r);if(i)return i}var o=Dm(t,e),s=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=Pm(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var u=Bk(t,e);return s&&u.unshift([Ht,s]),a&&u.push([Ht,a]),wP(u,n),u}function Bk(t,e){var r;if(!t)return[[Or,e]];if(!e)return[[Qr,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,o=n.indexOf(i);if(o!==-1)return r=[[Or,n.substring(0,o)],[Ht,i],[Or,n.substring(o+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=Qr),r;if(i.length===1)return[[Qr,t],[Or,e]];var s=Gk(t,e);if(s){var a=s[0],u=s[1],l=s[2],d=s[3],p=s[4],g=qa(a,l),h=qa(u,d);return g.concat([[Ht,p]],h)}return zk(t,e)}function zk(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),o=i,s=2*i,a=new Array(s),u=new Array(s),l=0;l<s;l++)a[l]=-1,u[l]=-1;a[o+1]=0,u[o+1]=0;for(var d=r-n,p=d%2!==0,g=0,h=0,R=0,D=0,M=0;M<i;M++){for(var P=-M+g;P<=M-h;P+=2){var _=o+P,y;P===-M||P!==M&&a[_-1]<a[_+1]?y=a[_+1]:y=a[_-1]+1;for(var C=y-P;y<r&&C<n&&t.charAt(y)===e.charAt(C);)y++,C++;if(a[_]=y,y>r)h+=2;else if(C>n)g+=2;else if(p){var L=o+d-P;if(L>=0&&L<s&&u[L]!==-1){var k=r-u[L];if(y>=k)return _P(t,e,y,C)}}}for(var Y=-M+R;Y<=M-D;Y+=2){var L=o+Y,k;Y===-M||Y!==M&&u[L-1]<u[L+1]?k=u[L+1]:k=u[L-1]+1;for(var Z=k-Y;k<r&&Z<n&&t.charAt(r-k-1)===e.charAt(n-Z-1);)k++,Z++;if(u[L]=k,k>r)D+=2;else if(Z>n)R+=2;else if(!p){var _=o+d-Y;if(_>=0&&_<s&&a[_]!==-1){var y=a[_],C=o+y-_;if(k=r-k,y>=k)return _P(t,e,y,C)}}}}return[[Qr,t],[Or,e]]}function _P(t,e,r,n){var i=t.substring(0,r),o=e.substring(0,n),s=t.substring(r),a=e.substring(n),u=qa(i,o),l=qa(s,a);return u.concat(l)}function Dm(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,o=0;r<i;)t.substring(o,i)==e.substring(o,i)?(r=i,o=r):n=i,i=Math.floor((n-r)/2+r);return RP(t.charCodeAt(i-1))&&i--,i}function Pm(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,o=0;r<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(r=i,o=r):n=i,i=Math.floor((n-r)/2+r);return SP(t.charCodeAt(t.length-i))&&i--,i}function Gk(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(h,R,D){for(var M=h.substring(D,D+Math.floor(h.length/4)),P=-1,_="",y,C,L,k;(P=R.indexOf(M,P+1))!==-1;){var Y=Dm(h.substring(D),R.substring(P)),Z=Pm(h.substring(0,D),R.substring(0,P));_.length<Z+Y&&(_=R.substring(P-Z,P)+R.substring(P,P+Y),y=h.substring(0,D-Z),C=h.substring(D+Y),L=R.substring(0,P-Z),k=R.substring(P+Y))}return _.length*2>=h.length?[y,C,L,k,_]:null}var o=i(r,n,Math.ceil(r.length/4)),s=i(r,n,Math.ceil(r.length/2)),a;if(!o&&!s)return null;s?o?a=o[4].length>s[4].length?o:s:a=s:a=o;var u,l,d,p;t.length>e.length?(u=a[0],l=a[1],d=a[2],p=a[3]):(d=a[0],p=a[1],u=a[2],l=a[3]);var g=a[4];return[u,l,d,p,g]}function wP(t,e){t.push([Ht,""]);for(var r=0,n=0,i=0,o="",s="",a;r<t.length;){if(r<t.length-1&&!t[r][1]){t.splice(r,1);continue}switch(t[r][0]){case Or:i++,s+=t[r][1],r++;break;case Qr:n++,o+=t[r][1],r++;break;case Ht:var u=r-i-n-1;if(e){if(u>=0&&DP(t[u][1])){var l=t[u][1].slice(-1);if(t[u][1]=t[u][1].slice(0,-1),o=l+o,s=l+s,!t[u][1]){t.splice(u,1),r--;var d=u-1;t[d]&&t[d][0]===Or&&(i++,s=t[d][1]+s,d--),t[d]&&t[d][0]===Qr&&(n++,o=t[d][1]+o,d--),u=d}}if(EP(t[r][1])){var l=t[r][1].charAt(0);t[r][1]=t[r][1].slice(1),o+=l,s+=l}}if(r<t.length-1&&!t[r][1]){t.splice(r,1);break}if(o.length>0||s.length>0){o.length>0&&s.length>0&&(a=Dm(s,o),a!==0&&(u>=0?t[u][1]+=s.substring(0,a):(t.splice(0,0,[Ht,s.substring(0,a)]),r++),s=s.substring(a),o=o.substring(a)),a=Pm(s,o),a!==0&&(t[r][1]=s.substring(s.length-a)+t[r][1],s=s.substring(0,s.length-a),o=o.substring(0,o.length-a)));var p=i+n;o.length===0&&s.length===0?(t.splice(r-p,p),r=r-p):o.length===0?(t.splice(r-p,p,[Or,s]),r=r-p+1):s.length===0?(t.splice(r-p,p,[Qr,o]),r=r-p+1):(t.splice(r-p,p,[Qr,o],[Or,s]),r=r-p+2)}r!==0&&t[r-1][0]===Ht?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,i=0,n=0,o="",s="";break}}t[t.length-1][1]===""&&t.pop();var g=!1;for(r=1;r<t.length-1;)t[r-1][0]===Ht&&t[r+1][0]===Ht&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),g=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),g=!0)),r++;g&&wP(t,e)}function RP(t){return t>=55296&&t<=56319}function SP(t){return t>=56320&&t<=57343}function EP(t){return SP(t.charCodeAt(0))}function DP(t){return RP(t.charCodeAt(t.length-1))}function Vk(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}function Em(t,e,r,n){return DP(t)||EP(n)?null:Vk([[Ht,t],[Qr,e],[Or,r],[Ht,n]])}function Yk(t,e,r){var n=typeof r=="number"?{index:r,length:0}:r.oldRange,i=typeof r=="number"?null:r.newRange,o=t.length,s=e.length;if(n.length===0&&(i===null||i.length===0)){var a=n.index,u=t.slice(0,a),l=t.slice(a),d=i?i.index:null;e:{var p=a+s-o;if(d!==null&&d!==p||p<0||p>s)break e;var g=e.slice(0,p),h=e.slice(p);if(h!==l)break e;var R=Math.min(a,p),D=u.slice(0,R),M=g.slice(0,R);if(D!==M)break e;var P=u.slice(R),_=g.slice(R);return Em(D,P,_,l)}e:{if(d!==null&&d!==a)break e;var y=a,g=e.slice(0,y),h=e.slice(y);if(g!==u)break e;var C=Math.min(o-y,s-y),L=l.slice(l.length-C),k=h.slice(h.length-C);if(L!==k)break e;var P=l.slice(0,l.length-C),_=h.slice(0,h.length-C);return Em(u,P,_,L)}}if(n.length>0&&i&&i.length===0)e:{var D=t.slice(0,n.index),L=t.slice(n.index+n.length),R=D.length,C=L.length;if(s<R+C)break e;var M=e.slice(0,R),k=e.slice(s-C);if(D!==M||L!==k)break e;var P=t.slice(R,o-C),_=e.slice(R,s-C);return Em(D,P,_,L)}return null}function rf(t,e,r){return qa(t,e,r,!0)}rf.INSERT=Or;rf.DELETE=Qr;rf.EQUAL=Ht;PP.exports=rf});var qm=m(ts=>{"use strict";var Kk=ts&&ts.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ts,"__esModule",{value:!0});ts.createTextEdits=void 0;var nf=Kk(TP()),Tm=kr();function Xk(t,e){let r=(0,nf.default)(t.getText(),e),n=[],i=0;for(let[o,s]of r){let a=i;switch(o){case nf.default.EQUAL:i+=s.length;break;case nf.default.DELETE:i+=s.length,n.push(Tm.TextEdit.del(Tm.Range.create(t.positionAt(a),t.positionAt(i))));break;case nf.default.INSERT:n.push(Tm.TextEdit.insert(t.positionAt(a),s));break}}return n}ts.createTextEdits=Xk});var OP=m(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.getDisableType=void 0;var qP=kr();function Jk(t,e){let r=t.offsetAt(qP.Position.create(e.line,0)),n=t.offsetAt(qP.Position.create(e.line+1,0)),i=t.getText().slice(r,n),o=i.slice(0,e.character),s=i.slice(e.character),a=o.match(/\/\*\s*(stylelint-disable(?:(?:-next)?-line)?)\s[a-z\-/\s,]*$/i)?.[1]?.toLowerCase();return a&&/^[a-z\-/\s,]*\*\//i.test(s)?a:void 0}of.getDisableType=Jk});var MP=m(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.getFixes=void 0;var Qk=qm();async function Zk(t,e,r={},n={}){let i=await t.lintDocument(e,{...r,fix:!0},n);return typeof i.output=="string"?(0,Qk.createTextEdits)(e,i.output):[]}sf.getFixes=Zk});var CP=m(rs=>{"use strict";var e$=rs&&rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});rs.getWorkspaceFolder=void 0;var t$=e$(ef()),Om=Qo();async function r$(t,e){let{scheme:r,fsPath:n}=Om.URI.parse(e.uri);if(r==="untitled"){let i=(await t.workspace.getWorkspaceFolders())?.[0]?.uri;return i?Om.URI.parse(i).fsPath:void 0}if(n){let i=await t.workspace.getWorkspaceFolders();if(i)for(let{uri:o}of i){let s=Om.URI.parse(o).fsPath;if((0,t$.default)(n,s))return s}}}rs.getWorkspaceFolder=r$});var ns=m(Zr=>{"use strict";var n$=Zr&&Zr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),af=Zr&&Zr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&n$(e,t,r)};Object.defineProperty(Zr,"__esModule",{value:!0});af(qm(),Zr);af(OP(),Zr);af(MP(),Zr);af(CP(),Zr)});var AP=m(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.getFirstResolvedValue=is.getFirstReturnValue=void 0;function i$(...t){for(let e of t){let r=e();if(r!==void 0)return r}}is.getFirstReturnValue=i$;async function o$(...t){for(let e of t){let r=await e();if(r!==void 0)return r}}is.getFirstResolvedValue=o$});var NP=m(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.lazyCallAsync=os.lazyCall=void 0;function s$(t){let e=!1,r;return()=>(e||(r=t(),e=!0),r)}os.lazyCall=s$;function a$(t){let e=!1,r;return async()=>(e||(r=await t(),e=!0),r)}os.lazyCallAsync=a$});var xP=m(ai=>{"use strict";var u$=ai&&ai.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jP=ai&&ai.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&u$(e,t,r)};Object.defineProperty(ai,"__esModule",{value:!0});jP(AP(),ai);jP(NP(),ai)});var UP=m(en=>{"use strict";var Mm=en&&en.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Te=en&&en.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Nm=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Mr,wn,ft,cf,uf,IP,LP,FP,kP,WP,HP;Object.defineProperty(en,"__esModule",{value:!0});en.StylelintResolver=void 0;var l$=Nm(require("fs/promises")),c$=require("module"),lf=Nm(require("path")),f$=Nm(require("process")),d$=vl(),h$=Qo(),g$=ns(),$P=ym(),p$=Sm(),Cm=xP(),Am=class{constructor(e,r){Mr.add(this),wn.set(this,void 0),ft.set(this,void 0),cf.set(this,void 0),Mm(this,wn,e,"f"),Mm(this,ft,r,"f"),Mm(this,cf,new p$.GlobalPathResolver(r),"f")}async resolve({packageManager:e,stylelintPath:r},n){let i=(0,Cm.lazyCallAsync)(async()=>Te(this,wn,"f")&&await(0,g$.getWorkspaceFolder)(Te(this,wn,"f"),n)),o=await(0,Cm.getFirstResolvedValue)(()=>Te(this,Mr,"m",WP).call(this,r,i),()=>Te(this,Mr,"m",HP).call(this,n,i,e));if(!o){Te(this,ft,"f")?.warn("Failed to load Stylelint either globally or from the current workspace.");return}return o}};en.StylelintResolver=Am;wn=new WeakMap,ft=new WeakMap,cf=new WeakMap,Mr=new WeakSet,uf=function(e,r){Te(this,ft,"f")&&Te(this,ft,"f")?.error(e,r&&{error:r}),Te(this,wn,"f")&&Te(this,wn,"f").window.showErrorMessage(`Stylelint: ${e}`)},IP=async function(e){let r=[".pnp.cjs",".pnp.js"];for(let n of r){let i=lf.default.join(e,n);try{if((await l$.default.stat(i)).isFile())return i}catch(o){Te(this,ft,"f")?.debug("Did not find PnP loader at tested path",{path:i,error:o})}}Te(this,ft,"f")?.debug("Could not find a PnP loader",{path:e})},LP=async function(e){if(!e)return;let r=await(0,$P.findPackageRoot)(e,"yarn.lock");if(!r){Te(this,ft,"f")?.debug("Could not find a Yarn lockfile",{cwd:e});return}let n=await Te(this,Mr,"m",IP).call(this,r);if(n){if(!f$.default.versions.pnp)try{require(n).setup()}catch(i){Te(this,ft,"f")?.warn("Could not setup PnP",{path:n,error:i});return}try{let i=(0,c$.createRequire)(n),o=i.resolve("stylelint"),s=await(0,$P.findPackageRoot)(o);if(!s){Te(this,ft,"f")?.warn("Failed to find the Stylelint package root",{path:o});return}let u={stylelint:i("stylelint"),resolvedPath:s};return Te(this,ft,"f")?.debug("Resolved Stylelint using PnP",{path:n}),u}catch(i){Te(this,ft,"f")?.warn("Could not load Stylelint using PnP",{path:r,error:i});return}}},FP=async function(e,r,n){try{let i=await d$.Files.resolve("stylelint",r,e,n),o={stylelint:require(i),resolvedPath:i};return Te(this,ft,"f")?.debug("Resolved Stylelint from node_modules",{path:i}),o}catch(i){Te(this,ft,"f")?.warn("Could not load Stylelint from node_modules",{error:i});return}},kP=async function(e,r){if(!Te(this,wn,"f")||lf.default.isAbsolute(e))return e;let n=await r();return n?lf.default.join(n,e):e},WP=async function(e,r){if(!e)return;let n=`Failed to load Stylelint from "stylelintPath": ${e}.`;try{let i=await Te(this,Mr,"m",kP).call(this,e,r),o=require(i);if(o&&typeof o.lint=="function")return{stylelint:o,resolvedPath:i}}catch(i){throw Te(this,Mr,"m",uf).call(this,n,i),i}Te(this,Mr,"m",uf).call(this,n)},HP=async function(e,r,n){let i=Te(this,wn,"f");try{let o=n?await Te(this,cf,"f").resolve(n):void 0,s=h$.URI.parse(e.uri),a=s.scheme==="file"?lf.default.dirname(s.fsPath):await r(),u=await(0,Cm.getFirstResolvedValue)(async()=>await Te(this,Mr,"m",LP).call(this,a),async()=>await Te(this,Mr,"m",FP).call(this,a,o,(l,d)=>{Te(this,ft,"f")?.debug(l.replace(/\n/g,"  "),{verbose:d}),i?.tracer.log(l,d)}));if(!u)return;if(typeof u.stylelint?.lint!="function"){Te(this,Mr,"m",uf).call(this,"stylelint.lint is not a function.");return}return u}catch(o){Te(this,ft,"f")?.debug("Failed to resolve Stylelint from workspace or globally-installed packages.",{error:o})}}});var zP=m(BP=>{"use strict";Object.defineProperty(BP,"__esModule",{value:!0})});var Oa=m(tn=>{"use strict";var m$=tn&&tn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ff=tn&&tn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&m$(e,t,r)};Object.defineProperty(tn,"__esModule",{value:!0});ff(ym(),tn);ff(Sm(),tn);ff(UP(),tn);ff(zP(),tn)});var jm=m(ss=>{"use strict";var GP=ss&&ss.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ss,"__esModule",{value:!0});ss.buildStylelintOptions=void 0;var Ma=GP(require("path")),v$=GP(ef()),y$=Qo(),b$=Oa();async function _$(t,e,r={},{config:n,configFile:i,configBasedir:o,customSyntax:s,ignoreDisables:a,reportDescriptionlessDisables:u,reportNeedlessDisables:l,reportInvalidScopeDisables:d}={}){let p={...r,config:n??r.config,configFile:i?e?i.replace(/\$\{workspaceFolder\}/gu,e):i:r.configFile,configBasedir:o?Ma.default.isAbsolute(o)?o:Ma.default.join(e??"",o):r.configBasedir,customSyntax:s?e?s.replace(/\$\{workspaceFolder\}/gu,e):s:r.customSyntax,ignoreDisables:a??r.ignoreDisables,reportDescriptionlessDisables:u??r.reportDescriptionlessDisables,reportNeedlessDisables:l??r.reportNeedlessDisables,reportInvalidScopeDisables:d??r.reportInvalidScopeDisables},g=y$.URI.parse(t).fsPath;return g&&(e&&(0,v$.default)(g,e)&&(p.ignorePath=Ma.default.join(e,".stylelintignore")),p.ignorePath===void 0&&(p.ignorePath=Ma.default.join(await(0,b$.findPackageRoot)(g)||Ma.default.parse(g).root,".stylelintignore"))),p}ss.buildStylelintOptions=_$});var VP=m(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.intersect=void 0;function w$(t,e){if(!t)return e;if(!e)return t;let[r,n]=t.size<e.size?[t,e]:[e,t],i=new Set;for(let o of r)n.has(o)&&i.add(o);return i}df.intersect=w$});var Ca=m(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.InvalidOptionError=Hi.DisableReportRuleNames=void 0;var R$;(function(t){t.Needless="--report-needless-disables",t.InvalidScope="--report-invalid-scope-disables",t.Descriptionless="--report-descriptionless-disables",t.Illegal="reportDisables"})(R$=Hi.DisableReportRuleNames||(Hi.DisableReportRuleNames={}));var xm=class extends Error{constructor(e){let r=e.map(n=>n.text);super(r.join(`
`)),this.reasons=r}};Hi.InvalidOptionError=xm});var Im=m(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.getDisableDiagnosticRule=void 0;var hf=Ca();function S$(t){switch(t.code){case hf.DisableReportRuleNames.Needless:return t.message.match(/^Needless disable for "(.+)"$/)?.[1];case hf.DisableReportRuleNames.InvalidScope:return t.message.match(/^Rule "(.+)" isn't enabled$/)?.[1];case hf.DisableReportRuleNames.Descriptionless:return t.message.match(/^Disable for "(.+)" is missing a description$/)?.[1];case hf.DisableReportRuleNames.Illegal:return t.message.match(/^Rule "(.+)" may not be disabled$/)?.[1];default:return}}gf.getDisableDiagnosticRule=S$});var KP=m(as=>{"use strict";var Cr=as&&as.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},pf,Aa,Na,ja,Lm;Object.defineProperty(as,"__esModule",{value:!0});as.DisableMetadataLookupTable=void 0;var YP=VP(),E$=Im(),Fm=class{constructor(e){pf.add(this),Aa.set(this,new Map),Na.set(this,new Map),ja.set(this,new Map);for(let r of e){let n=(0,E$.getDisableDiagnosticRule)(r);if(!n)continue;let i=r.code,o=Cr(this,Aa,"f").get(i);o?o.add(r):Cr(this,Aa,"f").set(i,new Set([r]));let s=Cr(this,Na,"f").get(n);s?s.add(r):Cr(this,Na,"f").set(n,new Set([r]));let a=Cr(this,pf,"m",Lm).call(this,r.range),u=Cr(this,ja,"f").get(a);u?u.add(r):Cr(this,ja,"f").set(a,new Set([r]))}}find({type:e,rule:r,range:n}){let i=e?Cr(this,Aa,"f").get(e):void 0,o=r?Cr(this,Na,"f").get(r):void 0,s=n?Cr(this,ja,"f").get(Cr(this,pf,"m",Lm).call(this,n)):void 0;return(0,YP.intersect)((0,YP.intersect)(i,o),s)??new Set}};as.DisableMetadataLookupTable=Fm;Aa=new WeakMap,Na=new WeakMap,ja=new WeakMap,pf=new WeakSet,Lm=function({start:e,end:r}){return`${e.line}:${e.character}:${r.line}:${r.character}`}});var XP=m(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.formattingOptionsToRules=void 0;function D$({insertSpaces:t,tabSize:e,insertFinalNewline:r,trimTrailingWhitespace:n}){let i={indentation:[t?e:"tab"]};return r!==void 0&&(i["no-missing-end-of-source-newline"]=r||null),n!==void 0&&(i["no-eol-whitespace"]=n||null),i}mf.formattingOptionsToRules=D$});var JP=m(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.isDisableReportRule=void 0;var vf=Ca();function P$(t){switch(t){case vf.DisableReportRuleNames.Descriptionless:case vf.DisableReportRuleNames.Illegal:case vf.DisableReportRuleNames.InvalidScope:case vf.DisableReportRuleNames.Needless:return!0;default:return!1}}yf.isDisableReportRule=P$});var km=m(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.warningToDiagnostic=void 0;var us=kr();function T$(t,e){let r=us.Position.create(t.line-1,t.column-1),n=typeof t.endLine=="number"&&typeof t.endColumn=="number"?us.Position.create(t.endLine-1,t.endColumn-1):us.Position.create(t.line-1,t.column),i=e?.[t.rule]?.url,o=us.Diagnostic.create(us.Range.create(r,n),t.text,us.DiagnosticSeverity[t.severity==="warning"?"Warning":"Error"],t.rule,"Stylelint");return i&&(o.codeDescription={href:i}),o}bf.warningToDiagnostic=T$});var $m=m(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.processLinterResult=void 0;var q$=km(),O$=Ca();function M$(t,{results:e,output:r,ruleMetadata:n}){if(e.length===0)return{diagnostics:[]};let[{invalidOptionWarnings:i,warnings:o,ignored:s}]=e;if(s)return{diagnostics:[]};if(i.length!==0)throw new O$.InvalidOptionError(i);n||(n=new Proxy({},{get:(u,l)=>t.rules?.[l]?.meta}));let a=o.map(u=>(0,q$.warningToDiagnostic)(u,n));return r?{output:r,diagnostics:a}:{diagnostics:a}}_f.processLinterResult=M$});var ZP=m(rn=>{"use strict";var Wm=rn&&rn.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ls=rn&&rn.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},C$=rn&&rn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},xa,cs,wf;Object.defineProperty(rn,"__esModule",{value:!0});rn.StylelintRunner=void 0;var A$=C$(require("os")),N$=Qo(),j$=Oa(),x$=ns(),QP=$m(),I$=jm(),Hm=class{constructor(e,r,n){xa.set(this,void 0),cs.set(this,void 0),wf.set(this,void 0),Wm(this,xa,e,"f"),Wm(this,cs,r,"f"),Wm(this,wf,n??new j$.StylelintResolver(e,r),"f")}async lintDocument(e,r={},n={}){let i=ls(this,xa,"f")&&await(0,x$.getWorkspaceFolder)(ls(this,xa,"f"),e),o=await ls(this,wf,"f").resolve(n,e);if(!o)return ls(this,cs,"f")?.info("No Stylelint found with which to lint document",{uri:e.uri,options:n}),{diagnostics:[]};let{stylelint:s}=o,{fsPath:a}=N$.URI.parse(e.uri),u=A$.default.platform()==="win32"?a.replace(/^[a-z]:/,d=>d.toUpperCase()):a,l={...await(0,I$.buildStylelintOptions)(e.uri,i,r,n),code:e.getText(),formatter:()=>""};u?l.codeFilename=u:r?.config?.rules||(l.config={rules:{}}),ls(this,cs,"f")?.isDebugEnabled()&&ls(this,cs,"f")?.debug("Running Stylelint",{options:{...l,code:"..."}});try{return(0,QP.processLinterResult)(s,await s.lint(l))}catch(d){if(d instanceof Error&&(d.message.startsWith("No configuration provided for")||d.message.includes("No rules found within configuration")))return(0,QP.processLinterResult)(s,await s.lint({...l,config:{rules:{}}}));throw d}}};rn.StylelintRunner=Hm;xa=new WeakMap,cs=new WeakMap,wf=new WeakMap});var Ia=m(Dt=>{"use strict";var L$=Dt&&Dt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rn=Dt&&Dt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&L$(e,t,r)};Object.defineProperty(Dt,"__esModule",{value:!0});Rn(jm(),Dt);Rn(KP(),Dt);Rn(XP(),Dt);Rn(Im(),Dt);Rn(JP(),Dt);Rn($m(),Dt);Rn(ZP(),Dt);Rn(Ca(),Dt);Rn(km(),Dt)});var sT=m(Ut=>{"use strict";var F$=Ut&&Ut.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),k$=Ut&&Ut.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$$=Ut&&Ut.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&F$(e,t,r);return k$(e,t),e},eT=Ut&&Ut.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ye=Ut&&Ut.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ui,Zt,et,fs,iT,tT,rT,nT,oT;Object.defineProperty(Ut,"__esModule",{value:!0});Ut.CodeActionModule=void 0;var Pt=$$(qe()),ui=Ko(),Um=Zc(),W$=Ia(),Rf=class{constructor({context:e,logger:r}){Ui.add(this),Zt.set(this,void 0),et.set(this,void 0),fs.set(this,[]),eT(this,Zt,e,"f"),eT(this,et,r,"f")}dispose(){ye(this,fs,"f").forEach(e=>e.dispose()),ye(this,fs,"f").length=0,ye(this,Zt,"f").connection.onCodeAction(()=>{})}onInitialize(){return{capabilities:{codeActionProvider:{codeActionKinds:[Pt.CodeActionKind.QuickFix,ui.CodeActionKind.StylelintSourceFixAll]},executeCommandProvider:{commands:[ui.CommandId.OpenRuleDoc]}}}}onDidRegisterHandlers(){ye(this,et,"f")?.debug("Registering onCodeAction handler"),ye(this,Zt,"f").connection.onCodeAction(async({context:e,textDocument:{uri:r}})=>{ye(this,et,"f")?.debug("Received onCodeAction",{context:e,uri:r});let n=ye(this,Zt,"f").documents.get(r);if(!n)return ye(this,et,"f")?.debug("Unknown document, ignoring",{uri:r}),[];if(!await ye(this,Ui,"m",iT).call(this,n))return ye(this,et,"f")?.debug("Document should not be validated, ignoring",{uri:r,language:n.languageId}),[];let i=await ye(this,Ui,"m",oT).call(this,n,e);return ye(this,et,"f")?.debug("Returning code actions",{actions:i}),i}),ye(this,et,"f")?.debug("onCodeAction handler registered"),ye(this,fs,"f").push(ye(this,Zt,"f").commands.on(ui.CommandId.OpenRuleDoc,async({arguments:e})=>{let r=e?.[0];if(!r)return ye(this,et,"f")?.debug("No URL provided, ignoring command request"),{};let{uri:n}=r;return ye(this,et,"f")?.debug("Opening rule documentation",{uri:n}),(await ye(this,Zt,"f").connection.window.showDocument({uri:n,external:!0})).success?{}:(ye(this,et,"f")?.warn("Failed to open rule documentation",{uri:n}),new Pt.ResponseError(Pt.ErrorCodes.InternalError,"Failed to open rule documentation"))})),ye(this,fs,"f").push(ye(this,Zt,"f").notifications.on(Pt.InitializedNotification.type,()=>ye(this,Zt,"f").connection.sendNotification(ui.Notification.DidRegisterCodeActionRequestHandler)))}};Ut.CodeActionModule=Rf;Zt=new WeakMap,et=new WeakMap,fs=new WeakMap,Ui=new WeakSet,iT=async function(e){return(await ye(this,Zt,"f").getOptions(e.uri)).validate.includes(e.languageId)},tT=async function(e){let r=await ye(this,Zt,"f").getFixes(e),n={uri:e.uri,version:e.version};return r.length>0?Pt.CodeAction.create("Fix all Stylelint auto-fixable problems",{documentChanges:[Pt.TextDocumentEdit.create(n,r)]},ui.CodeActionKind.StylelintSourceFixAll):void 0},rT=function(e){let r=Pt.Command.create("Fix all Stylelint auto-fixable problems",ui.CommandId.ApplyAutoFix,{uri:e.uri,version:e.version});return Pt.CodeAction.create("Fix all Stylelint auto-fixable problems",r,Pt.CodeActionKind.Source)},nT=function({code:e,codeDescription:r}){let n=r?.href;if(!n)return;let i=Pt.Command.create(`Open documentation for ${e}`,ui.CommandId.OpenRuleDoc,{uri:n});return Pt.CodeAction.create(`Show documentation for ${e}`,i,Pt.CodeActionKind.QuickFix)},oT=async function(e,r){let n=r.only&&new Set(r.only);if(ye(this,et,"f")?.debug("Creating code actions",{only:r.only}),n?.has(Pt.CodeActionKind.SourceFixAll)||n?.has(ui.CodeActionKind.StylelintSourceFixAll)){ye(this,et,"f")?.debug('Creating "source-fix-all" code action');let o=await ye(this,Ui,"m",tT).call(this,e);return o?[o]:[]}if(n?.has(Pt.CodeActionKind.Source))return ye(this,et,"f")?.debug('Creating "source" code action'),[ye(this,Ui,"m",rT).call(this,e)];if(n&&!n.has(Pt.CodeActionKind.QuickFix))return ye(this,et,"f")?.debug("No quick fix actions requested, skipping action creation"),[];let i=new Um.RuleCodeActionsCollection;for(let o of r.diagnostics){let{source:s,code:a}=o;if(!(s!=="Stylelint"||typeof a!="string")){if(!(0,W$.isDisableReportRule)(a)){let u=await ye(this,Zt,"f").getOptions(e.uri),{location:l}=u.codeAction.disableRuleComment;ye(this,et,"f")?.debug("Creating disable rule for line code action",{rule:a,location:l}),i.get(a).disableLine=(0,Um.createDisableRuleLineCodeAction)(e,o,l),i.get(a).disableFile||(ye(this,et,"f")?.debug("Creating disable rule for file code action",{rule:a}),i.get(a).disableFile=(0,Um.createDisableRuleFileCodeAction)(e,o))}i.get(a).documentation||(ye(this,et,"f")?.debug("Creating documentation code action",{rule:a}),i.get(a).documentation=ye(this,Ui,"m",nT).call(this,o))}}return[...i]};Rf.id="code-action"});var dT=m(ci=>{"use strict";var aT=ci&&ci.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Tt=ci&&ci.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Sf,li,Ar,uT,fT;Object.defineProperty(ci,"__esModule",{value:!0});ci.CompletionModule=void 0;var lT=kr(),H$=ns(),ds=Zc(),cT=Ia(),Ef=class{constructor({context:e,logger:r}){Sf.add(this),li.set(this,void 0),Ar.set(this,void 0),aT(this,li,e,"f"),aT(this,Ar,r,"f")}dispose(){Tt(this,li,"f").connection.onCompletion(()=>{})}onInitialize(){return{capabilities:{completionProvider:{}}}}onDidRegisterHandlers(){Tt(this,Ar,"f")?.debug("Registering onCompletion handler"),Tt(this,li,"f").connection.onCompletion(Tt(this,Sf,"m",fT).bind(this)),Tt(this,Ar,"f")?.debug("onCompletion handler registered")}};ci.CompletionModule=Ef;li=new WeakMap,Ar=new WeakMap,Sf=new WeakSet,uT=async function(e){let r=await Tt(this,li,"f").getOptions(e.uri);return r.validate.includes(e.languageId)&&r.snippet.includes(e.languageId)},fT=async function({textDocument:e,position:r}){let{uri:n}=e;Tt(this,Ar,"f")?.debug("Received onCompletion",{uri:n,position:r});let i=Tt(this,li,"f").documents.get(n);if(!i||!await Tt(this,Sf,"m",uT).call(this,i))return Tt(this,Ar,"f")?.isDebugEnabled()&&(i?Tt(this,Ar,"f").debug("Snippets or validation not enabled for language, ignoring",{uri:n,language:i.languageId}):Tt(this,Ar,"f").debug("Unknown document, ignoring",{uri:n})),[];let s=Tt(this,li,"f").getModule("validator")?.getDiagnostics(n);if(!s||s.length===0){let g=[(0,ds.createDisableCompletionItem)("stylelint-disable-line"),(0,ds.createDisableCompletionItem)("stylelint-disable-next-line"),(0,ds.createDisableCompletionItem)("stylelint-disable")];return Tt(this,Ar,"f")?.debug("No diagnostics for document, returning generic completion items",{uri:n,items:g}),g}let a=new Set,u=new Set,l=new cT.DisableMetadataLookupTable(s);for(let{code:g,range:h}of s)!g||typeof g!="string"||g==="CssSyntaxError"||l.find({type:cT.DisableReportRuleNames.Needless,rule:g,range:h}).size>0||(h.start.line===r.line?a.add(g):h.start.line===r.line+1&&u.add(g));let d=[],p=(0,H$.getDisableType)(i,r);if(p==="stylelint-disable-line")for(let g of a)d.push({label:g,kind:lT.CompletionItemKind.Snippet,detail:`disable ${g} rule. (Stylelint)`});else if(p==="stylelint-disable"||p==="stylelint-disable-next-line")for(let g of u)d.push({label:g,kind:lT.CompletionItemKind.Snippet,detail:`disable ${g} rule. (Stylelint)`});else d.push((0,ds.createDisableCompletionItem)("stylelint-disable-line",a.size===1?a.values().next().value:void 0)),d.push((0,ds.createDisableCompletionItem)("stylelint-disable-next-line",u.size===1?u.values().next().value:void 0)),d.push((0,ds.createDisableCompletionItem)("stylelint-disable"));return Tt(this,Ar,"f")?.debug("Returning completion items",{uri:n,results:d}),d};Ef.id="completion"});var gT=m(Bt=>{"use strict";var U$=Bt&&Bt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B$=Bt&&Bt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),z$=Bt&&Bt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U$(e,t,r);return B$(e,t),e},Bm=Bt&&Bt.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},K=Bt&&Bt.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Nr,yt,Oe,La,fi,nn,zm,Df,hT,Pf;Object.defineProperty(Bt,"__esModule",{value:!0});Bt.FormatterModule=void 0;var Gm=z$(qe()),G$=Ia(),V$=Ko(),Y$=Qo(),Tf=class{constructor({context:e,logger:r}){Nr.add(this),yt.set(this,void 0),Oe.set(this,void 0),La.set(this,!1),fi.set(this,new Map),nn.set(this,[]),Bm(this,yt,e,"f"),Bm(this,Oe,r,"f")}dispose(){K(this,yt,"f").connection.onDocumentFormatting(()=>{}),K(this,nn,"f").forEach(e=>e.dispose()),K(this,nn,"f").length=0,K(this,Nr,"m",Pf).call(this)}onInitialize({capabilities:e}){return Bm(this,La,!!e.textDocument?.formatting?.dynamicRegistration,"f"),{capabilities:{documentFormattingProvider:!K(this,La,"f")}}}onDidRegisterHandlers(){K(this,Oe,"f")?.debug("Registering connection.onDocumentFormatting handler"),K(this,yt,"f").connection.onDocumentFormatting(async({textDocument:e,options:r})=>{if(K(this,Oe,"f")?.debug("Received onDocumentFormatting",{textDocument:e,options:r}),!e)return K(this,Oe,"f")?.debug("No text document provided, ignoring"),null;let{uri:n}=e,i=K(this,yt,"f").documents.get(n);if(!i||!await K(this,Nr,"m",zm).call(this,i))return K(this,Oe,"f")?.isDebugEnabled()&&(i?K(this,Oe,"f").debug("Document should not be formatted, ignoring",{uri:n,language:i.languageId}):K(this,Oe,"f").debug("Unknown document, ignoring",{uri:n})),null;let o={config:{rules:(0,G$.formattingOptionsToRules)(r)}};K(this,Oe,"f")?.debug("Formatting document",{uri:n,linterOptions:o});let s=K(this,yt,"f").getFixes(i,o);return K(this,Oe,"f")?.debug("Returning fixes",{uri:n,fixes:s}),s}),K(this,Oe,"f")?.debug("connection.onDocumentFormatting handler registered"),K(this,Oe,"f")?.debug("Registering documents.onDidOpen handler"),K(this,nn,"f").push(K(this,yt,"f").documents.onDidOpen(({document:e})=>K(this,Nr,"m",Df).call(this,e))),K(this,Oe,"f")?.debug("documents.onDidOpen handler registered"),K(this,Oe,"f")?.debug("Registering documents.onDidChangeContent handler"),K(this,nn,"f").push(K(this,yt,"f").documents.onDidChangeContent(({document:e})=>K(this,Nr,"m",Df).call(this,e))),K(this,Oe,"f")?.debug("documents.onDidChangeContent handler registered"),K(this,Oe,"f")?.debug("Registering documents.onDidSave handler"),K(this,nn,"f").push(K(this,yt,"f").documents.onDidSave(({document:e})=>K(this,Nr,"m",Df).call(this,e))),K(this,Oe,"f")?.debug("documents.onDidSave handler registered"),K(this,Oe,"f")?.debug("Registering documents.onDidClose handler"),K(this,nn,"f").push(K(this,yt,"f").documents.onDidClose(({document:e})=>K(this,Nr,"m",hT).call(this,e.uri))),K(this,Oe,"f")?.debug("documents.onDidClose handler registered"),K(this,Oe,"f")?.debug("Registering DidChangeConfigurationNotification"),K(this,nn,"f").push(K(this,yt,"f").notifications.on(Gm.DidChangeConfigurationNotification.type,()=>K(this,Nr,"m",Pf).call(this))),K(this,Oe,"f")?.debug("DidChangeConfigurationNotification registered"),K(this,Oe,"f")?.debug("Registering DidChangeWorkspaceFoldersNotification"),K(this,nn,"f").push(K(this,yt,"f").notifications.on(Gm.DidChangeWorkspaceFoldersNotification.type,()=>K(this,Nr,"m",Pf).call(this))),K(this,Oe,"f")?.debug("DidChangeWorkspaceFoldersNotification registered")}};Bt.FormatterModule=Tf;yt=new WeakMap,Oe=new WeakMap,La=new WeakMap,fi=new WeakMap,nn=new WeakMap,Nr=new WeakSet,zm=async function(e){return(await K(this,yt,"f").getOptions(e.uri)).validate.includes(e.languageId)},Df=async function(e){if(!K(this,La,"f")||!await K(this,Nr,"m",zm).call(this,e)||K(this,fi,"f").has(e.uri))return;let{scheme:r,fsPath:n}=Y$.URI.parse(e.uri),i=(r==="file"?n.replace(/\\/g,"/"):n).replace(/[[\]{}]/g,"?"),s={documentSelector:[{scheme:r,pattern:i}]};K(this,fi,"f").set(e.uri,K(this,yt,"f").connection.client.register(Gm.DocumentFormattingRequest.type,s)),K(this,Oe,"f")?.debug("Registering formatter for document",{uri:e.uri,options:s}),await K(this,yt,"f").connection.sendNotification(V$.Notification.DidRegisterDocumentFormattingEditProvider,{uri:e.uri,options:s})},hT=function(e){let r=K(this,fi,"f").get(e);r&&(K(this,Oe,"f")?.debug("Deregistering formatter for document",{uri:e}),r.then(({dispose:n})=>n()).catch(n=>{K(this,Oe,"f")?.error("Error deregistering formatter for document",{uri:e,error:n})}),K(this,fi,"f").delete(e))},Pf=function(){for(let[e,r]of K(this,fi,"f"))K(this,Oe,"f")?.debug("Deregistering formatter for document",{uri:e}),r.then(({dispose:n})=>n()).catch(n=>{K(this,Oe,"f")?.error("Error deregistering formatter for document",{uri:e,error:n})});K(this,fi,"f").clear()};Tf.id="formatter"});var Fa=m((cB,pT)=>{var K$="2.0.0",X$=Number.MAX_SAFE_INTEGER||9007199254740991,J$=16,Q$=250,Z$=["major","premajor","minor","preminor","patch","prepatch","prerelease"];pT.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:J$,MAX_SAFE_BUILD_LENGTH:Q$,MAX_SAFE_INTEGER:X$,RELEASE_TYPES:Z$,SEMVER_SPEC_VERSION:K$,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ka=m((fB,mT)=>{var e5=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};mT.exports=e5});var hs=m((Sn,vT)=>{var{MAX_SAFE_COMPONENT_LENGTH:Vm,MAX_SAFE_BUILD_LENGTH:t5,MAX_LENGTH:r5}=Fa(),n5=ka();Sn=vT.exports={};var i5=Sn.re=[],o5=Sn.safeRe=[],G=Sn.src=[],V=Sn.t={},s5=0,Ym="[a-zA-Z0-9-]",a5=[["\\s",1],["\\d",r5],[Ym,t5]],u5=t=>{for(let[e,r]of a5)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},ae=(t,e,r)=>{let n=u5(e),i=s5++;n5(t,i,e),V[t]=i,G[i]=e,i5[i]=new RegExp(e,r?"g":void 0),o5[i]=new RegExp(n,r?"g":void 0)};ae("NUMERICIDENTIFIER","0|[1-9]\\d*");ae("NUMERICIDENTIFIERLOOSE","\\d+");ae("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Ym}*`);ae("MAINVERSION",`(${G[V.NUMERICIDENTIFIER]})\\.(${G[V.NUMERICIDENTIFIER]})\\.(${G[V.NUMERICIDENTIFIER]})`);ae("MAINVERSIONLOOSE",`(${G[V.NUMERICIDENTIFIERLOOSE]})\\.(${G[V.NUMERICIDENTIFIERLOOSE]})\\.(${G[V.NUMERICIDENTIFIERLOOSE]})`);ae("PRERELEASEIDENTIFIER",`(?:${G[V.NUMERICIDENTIFIER]}|${G[V.NONNUMERICIDENTIFIER]})`);ae("PRERELEASEIDENTIFIERLOOSE",`(?:${G[V.NUMERICIDENTIFIERLOOSE]}|${G[V.NONNUMERICIDENTIFIER]})`);ae("PRERELEASE",`(?:-(${G[V.PRERELEASEIDENTIFIER]}(?:\\.${G[V.PRERELEASEIDENTIFIER]})*))`);ae("PRERELEASELOOSE",`(?:-?(${G[V.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${G[V.PRERELEASEIDENTIFIERLOOSE]})*))`);ae("BUILDIDENTIFIER",`${Ym}+`);ae("BUILD",`(?:\\+(${G[V.BUILDIDENTIFIER]}(?:\\.${G[V.BUILDIDENTIFIER]})*))`);ae("FULLPLAIN",`v?${G[V.MAINVERSION]}${G[V.PRERELEASE]}?${G[V.BUILD]}?`);ae("FULL",`^${G[V.FULLPLAIN]}$`);ae("LOOSEPLAIN",`[v=\\s]*${G[V.MAINVERSIONLOOSE]}${G[V.PRERELEASELOOSE]}?${G[V.BUILD]}?`);ae("LOOSE",`^${G[V.LOOSEPLAIN]}$`);ae("GTLT","((?:<|>)?=?)");ae("XRANGEIDENTIFIERLOOSE",`${G[V.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ae("XRANGEIDENTIFIER",`${G[V.NUMERICIDENTIFIER]}|x|X|\\*`);ae("XRANGEPLAIN",`[v=\\s]*(${G[V.XRANGEIDENTIFIER]})(?:\\.(${G[V.XRANGEIDENTIFIER]})(?:\\.(${G[V.XRANGEIDENTIFIER]})(?:${G[V.PRERELEASE]})?${G[V.BUILD]}?)?)?`);ae("XRANGEPLAINLOOSE",`[v=\\s]*(${G[V.XRANGEIDENTIFIERLOOSE]})(?:\\.(${G[V.XRANGEIDENTIFIERLOOSE]})(?:\\.(${G[V.XRANGEIDENTIFIERLOOSE]})(?:${G[V.PRERELEASELOOSE]})?${G[V.BUILD]}?)?)?`);ae("XRANGE",`^${G[V.GTLT]}\\s*${G[V.XRANGEPLAIN]}$`);ae("XRANGELOOSE",`^${G[V.GTLT]}\\s*${G[V.XRANGEPLAINLOOSE]}$`);ae("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Vm}})(?:\\.(\\d{1,${Vm}}))?(?:\\.(\\d{1,${Vm}}))?`);ae("COERCE",`${G[V.COERCEPLAIN]}(?:$|[^\\d])`);ae("COERCEFULL",G[V.COERCEPLAIN]+`(?:${G[V.PRERELEASE]})?(?:${G[V.BUILD]})?(?:$|[^\\d])`);ae("COERCERTL",G[V.COERCE],!0);ae("COERCERTLFULL",G[V.COERCEFULL],!0);ae("LONETILDE","(?:~>?)");ae("TILDETRIM",`(\\s*)${G[V.LONETILDE]}\\s+`,!0);Sn.tildeTrimReplace="$1~";ae("TILDE",`^${G[V.LONETILDE]}${G[V.XRANGEPLAIN]}$`);ae("TILDELOOSE",`^${G[V.LONETILDE]}${G[V.XRANGEPLAINLOOSE]}$`);ae("LONECARET","(?:\\^)");ae("CARETTRIM",`(\\s*)${G[V.LONECARET]}\\s+`,!0);Sn.caretTrimReplace="$1^";ae("CARET",`^${G[V.LONECARET]}${G[V.XRANGEPLAIN]}$`);ae("CARETLOOSE",`^${G[V.LONECARET]}${G[V.XRANGEPLAINLOOSE]}$`);ae("COMPARATORLOOSE",`^${G[V.GTLT]}\\s*(${G[V.LOOSEPLAIN]})$|^$`);ae("COMPARATOR",`^${G[V.GTLT]}\\s*(${G[V.FULLPLAIN]})$|^$`);ae("COMPARATORTRIM",`(\\s*)${G[V.GTLT]}\\s*(${G[V.LOOSEPLAIN]}|${G[V.XRANGEPLAIN]})`,!0);Sn.comparatorTrimReplace="$1$2$3";ae("HYPHENRANGE",`^\\s*(${G[V.XRANGEPLAIN]})\\s+-\\s+(${G[V.XRANGEPLAIN]})\\s*$`);ae("HYPHENRANGELOOSE",`^\\s*(${G[V.XRANGEPLAINLOOSE]})\\s+-\\s+(${G[V.XRANGEPLAINLOOSE]})\\s*$`);ae("STAR","(<|>)?=?\\s*\\*");ae("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ae("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var qf=m((dB,yT)=>{var l5=Object.freeze({loose:!0}),c5=Object.freeze({}),f5=t=>t?typeof t!="object"?l5:t:c5;yT.exports=f5});var Km=m((hB,wT)=>{var bT=/^[0-9]+$/,_T=(t,e)=>{let r=bT.test(t),n=bT.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},d5=(t,e)=>_T(e,t);wT.exports={compareIdentifiers:_T,rcompareIdentifiers:d5}});var bt=m((gB,DT)=>{var Of=ka(),{MAX_LENGTH:RT,MAX_SAFE_INTEGER:Mf}=Fa(),{safeRe:ST,t:ET}=hs(),h5=qf(),{compareIdentifiers:gs}=Km(),Xm=class t{constructor(e,r){if(r=h5(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>RT)throw new TypeError(`version is longer than ${RT} characters`);Of("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?ST[ET.LOOSE]:ST[ET.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Mf||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Mf||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Mf||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Mf)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Of("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),gs(this.major,e.major)||gs(this.minor,e.minor)||gs(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Of("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return gs(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Of("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return gs(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),gs(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};DT.exports=Xm});var Bi=m((pB,TT)=>{var PT=bt(),g5=(t,e,r=!1)=>{if(t instanceof PT)return t;try{return new PT(t,e)}catch(n){if(!r)return null;throw n}};TT.exports=g5});var OT=m((mB,qT)=>{var p5=Bi(),m5=(t,e)=>{let r=p5(t,e);return r?r.version:null};qT.exports=m5});var CT=m((vB,MT)=>{var v5=Bi(),y5=(t,e)=>{let r=v5(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};MT.exports=y5});var jT=m((yB,NT)=>{var AT=bt(),b5=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new AT(t instanceof AT?t.version:t,r).inc(e,n,i).version}catch{return null}};NT.exports=b5});var LT=m((bB,IT)=>{var xT=Bi(),_5=(t,e)=>{let r=xT(t,null,!0),n=xT(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,a=o?n:r,u=!!s.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let d=u?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"};IT.exports=_5});var kT=m((_B,FT)=>{var w5=bt(),R5=(t,e)=>new w5(t,e).major;FT.exports=R5});var WT=m((wB,$T)=>{var S5=bt(),E5=(t,e)=>new S5(t,e).minor;$T.exports=E5});var UT=m((RB,HT)=>{var D5=bt(),P5=(t,e)=>new D5(t,e).patch;HT.exports=P5});var zT=m((SB,BT)=>{var T5=Bi(),q5=(t,e)=>{let r=T5(t,e);return r&&r.prerelease.length?r.prerelease:null};BT.exports=q5});var dr=m((EB,VT)=>{var GT=bt(),O5=(t,e,r)=>new GT(t,r).compare(new GT(e,r));VT.exports=O5});var KT=m((DB,YT)=>{var M5=dr(),C5=(t,e,r)=>M5(e,t,r);YT.exports=C5});var JT=m((PB,XT)=>{var A5=dr(),N5=(t,e)=>A5(t,e,!0);XT.exports=N5});var Cf=m((TB,ZT)=>{var QT=bt(),j5=(t,e,r)=>{let n=new QT(t,r),i=new QT(e,r);return n.compare(i)||n.compareBuild(i)};ZT.exports=j5});var tq=m((qB,eq)=>{var x5=Cf(),I5=(t,e)=>t.sort((r,n)=>x5(r,n,e));eq.exports=I5});var nq=m((OB,rq)=>{var L5=Cf(),F5=(t,e)=>t.sort((r,n)=>L5(n,r,e));rq.exports=F5});var $a=m((MB,iq)=>{var k5=dr(),$5=(t,e,r)=>k5(t,e,r)>0;iq.exports=$5});var Af=m((CB,oq)=>{var W5=dr(),H5=(t,e,r)=>W5(t,e,r)<0;oq.exports=H5});var Jm=m((AB,sq)=>{var U5=dr(),B5=(t,e,r)=>U5(t,e,r)===0;sq.exports=B5});var Qm=m((NB,aq)=>{var z5=dr(),G5=(t,e,r)=>z5(t,e,r)!==0;aq.exports=G5});var Nf=m((jB,uq)=>{var V5=dr(),Y5=(t,e,r)=>V5(t,e,r)>=0;uq.exports=Y5});var jf=m((xB,lq)=>{var K5=dr(),X5=(t,e,r)=>K5(t,e,r)<=0;lq.exports=X5});var Zm=m((IB,cq)=>{var J5=Jm(),Q5=Qm(),Z5=$a(),eW=Nf(),tW=Af(),rW=jf(),nW=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return J5(t,r,n);case"!=":return Q5(t,r,n);case">":return Z5(t,r,n);case">=":return eW(t,r,n);case"<":return tW(t,r,n);case"<=":return rW(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};cq.exports=nW});var dq=m((LB,fq)=>{var iW=bt(),oW=Bi(),{safeRe:xf,t:If}=hs(),sW=(t,e)=>{if(t instanceof iW)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?xf[If.COERCEFULL]:xf[If.COERCE]);else{let u=e.includePrerelease?xf[If.COERCERTLFULL]:xf[If.COERCERTL],l;for(;(l=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),u.lastIndex=l.index+l[1].length+l[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",o=r[4]||"0",s=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return oW(`${n}.${i}.${o}${s}${a}`,e)};fq.exports=sW});var gq=m((FB,hq)=>{"use strict";hq.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var mq=m((kB,pq)=>{"use strict";pq.exports=Se;Se.Node=zi;Se.create=Se;function Se(t){var e=this;if(e instanceof Se||(e=new Se),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Se.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Se.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Se.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Se.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)uW(this,arguments[t]);return this.length};Se.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)lW(this,arguments[t]);return this.length};Se.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Se.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Se.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Se.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Se.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Se.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Se.prototype.map=function(t,e){e=e||this;for(var r=new Se,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Se.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Se,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Se.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Se.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Se.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Se.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Se.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Se;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Se.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Se;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Se.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=aW(this,i,r[n]);return o};Se.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function aW(t,e,r){var n=e===t.head?new zi(r,null,e,t):new zi(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function uW(t,e){t.tail=new zi(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function lW(t,e){t.head=new zi(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function zi(t,e,r,n){if(!(this instanceof zi))return new zi(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{gq()(Se)}catch{}});var wq=m(($B,_q)=>{"use strict";var cW=mq(),Gi=Symbol("max"),Dn=Symbol("length"),ps=Symbol("lengthCalculator"),Ha=Symbol("allowStale"),Vi=Symbol("maxAge"),En=Symbol("dispose"),vq=Symbol("noDisposeOnSet"),ot=Symbol("lruList"),jr=Symbol("cache"),bq=Symbol("updateAgeOnGet"),ev=()=>1,rv=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Gi]=e.max||1/0,n=e.length||ev;if(this[ps]=typeof n!="function"?ev:n,this[Ha]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Vi]=e.maxAge||0,this[En]=e.dispose,this[vq]=e.noDisposeOnSet||!1,this[bq]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Gi]=e||1/0,Wa(this)}get max(){return this[Gi]}set allowStale(e){this[Ha]=!!e}get allowStale(){return this[Ha]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Vi]=e,Wa(this)}get maxAge(){return this[Vi]}set lengthCalculator(e){typeof e!="function"&&(e=ev),e!==this[ps]&&(this[ps]=e,this[Dn]=0,this[ot].forEach(r=>{r.length=this[ps](r.value,r.key),this[Dn]+=r.length})),Wa(this)}get lengthCalculator(){return this[ps]}get length(){return this[Dn]}get itemCount(){return this[ot].length}rforEach(e,r){r=r||this;for(let n=this[ot].tail;n!==null;){let i=n.prev;yq(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ot].head;n!==null;){let i=n.next;yq(this,e,n,r),n=i}}keys(){return this[ot].toArray().map(e=>e.key)}values(){return this[ot].toArray().map(e=>e.value)}reset(){this[En]&&this[ot]&&this[ot].length&&this[ot].forEach(e=>this[En](e.key,e.value)),this[jr]=new Map,this[ot]=new cW,this[Dn]=0}dump(){return this[ot].map(e=>Lf(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ot]}set(e,r,n){if(n=n||this[Vi],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[ps](r,e);if(this[jr].has(e)){if(o>this[Gi])return ms(this,this[jr].get(e)),!1;let u=this[jr].get(e).value;return this[En]&&(this[vq]||this[En](e,u.value)),u.now=i,u.maxAge=n,u.value=r,this[Dn]+=o-u.length,u.length=o,this.get(e),Wa(this),!0}let s=new nv(e,r,o,i,n);return s.length>this[Gi]?(this[En]&&this[En](e,r),!1):(this[Dn]+=s.length,this[ot].unshift(s),this[jr].set(e,this[ot].head),Wa(this),!0)}has(e){if(!this[jr].has(e))return!1;let r=this[jr].get(e).value;return!Lf(this,r)}get(e){return tv(this,e,!0)}peek(e){return tv(this,e,!1)}pop(){let e=this[ot].tail;return e?(ms(this,e),e.value):null}del(e){ms(this,this[jr].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[jr].forEach((e,r)=>tv(this,r,!1))}},tv=(t,e,r)=>{let n=t[jr].get(e);if(n){let i=n.value;if(Lf(t,i)){if(ms(t,n),!t[Ha])return}else r&&(t[bq]&&(n.value.now=Date.now()),t[ot].unshiftNode(n));return i.value}},Lf=(t,e)=>{if(!e||!e.maxAge&&!t[Vi])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Vi]&&r>t[Vi]},Wa=t=>{if(t[Dn]>t[Gi])for(let e=t[ot].tail;t[Dn]>t[Gi]&&e!==null;){let r=e.prev;ms(t,e),e=r}},ms=(t,e)=>{if(e){let r=e.value;t[En]&&t[En](r.key,r.value),t[Dn]-=r.length,t[jr].delete(r.key),t[ot].removeNode(e)}},nv=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},yq=(t,e,r,n)=>{let i=r.value;Lf(t,i)&&(ms(t,r),t[Ha]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};_q.exports=rv});var hr=m((WB,Dq)=>{var iv=class t{constructor(e,r){if(r=dW(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof ov)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Sq(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&bW(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&vW)|(this.options.loose&&yW))+":"+e,i=Rq.get(n);if(i)return i;let o=this.options.loose,s=o?zt[qt.HYPHENRANGELOOSE]:zt[qt.HYPHENRANGE];e=e.replace(s,OW(this.options.includePrerelease)),Fe("hyphen replace",e),e=e.replace(zt[qt.COMPARATORTRIM],gW),Fe("comparator trim",e),e=e.replace(zt[qt.TILDETRIM],pW),Fe("tilde trim",e),e=e.replace(zt[qt.CARETTRIM],mW),Fe("caret trim",e);let a=e.split(" ").map(p=>_W(p,this.options)).join(" ").split(/\s+/).map(p=>qW(p,this.options));o&&(a=a.filter(p=>(Fe("loose invalid filter",p,this.options),!!p.match(zt[qt.COMPARATORLOOSE])))),Fe("range list",a);let u=new Map,l=a.map(p=>new ov(p,this.options));for(let p of l){if(Sq(p))return[p];u.set(p.value,p)}u.size>1&&u.has("")&&u.delete("");let d=[...u.values()];return Rq.set(n,d),d}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>Eq(n,r)&&e.set.some(i=>Eq(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new hW(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(MW(this.set[r],e,this.options))return!0;return!1}};Dq.exports=iv;var fW=wq(),Rq=new fW({max:1e3}),dW=qf(),ov=Ua(),Fe=ka(),hW=bt(),{safeRe:zt,t:qt,comparatorTrimReplace:gW,tildeTrimReplace:pW,caretTrimReplace:mW}=hs(),{FLAG_INCLUDE_PRERELEASE:vW,FLAG_LOOSE:yW}=Fa(),Sq=t=>t.value==="<0.0.0-0",bW=t=>t.value==="",Eq=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},_W=(t,e)=>(Fe("comp",t,e),t=SW(t,e),Fe("caret",t),t=wW(t,e),Fe("tildes",t),t=DW(t,e),Fe("xrange",t),t=TW(t,e),Fe("stars",t),t),Ot=t=>!t||t.toLowerCase()==="x"||t==="*",wW=(t,e)=>t.trim().split(/\s+/).map(r=>RW(r,e)).join(" "),RW=(t,e)=>{let r=e.loose?zt[qt.TILDELOOSE]:zt[qt.TILDE];return t.replace(r,(n,i,o,s,a)=>{Fe("tilde",t,n,i,o,s,a);let u;return Ot(i)?u="":Ot(o)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:Ot(s)?u=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Fe("replaceTilde pr",a),u=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):u=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Fe("tilde return",u),u})},SW=(t,e)=>t.trim().split(/\s+/).map(r=>EW(r,e)).join(" "),EW=(t,e)=>{Fe("caret",t,e);let r=e.loose?zt[qt.CARETLOOSE]:zt[qt.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,a,u)=>{Fe("caret",t,i,o,s,a,u);let l;return Ot(o)?l="":Ot(s)?l=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Ot(a)?o==="0"?l=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:u?(Fe("replaceCaret pr",u),o==="0"?s==="0"?l=`>=${o}.${s}.${a}-${u} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}-${u} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a}-${u} <${+o+1}.0.0-0`):(Fe("no pr"),o==="0"?s==="0"?l=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Fe("caret return",l),l})},DW=(t,e)=>(Fe("replaceXRanges",t,e),t.split(/\s+/).map(r=>PW(r,e)).join(" ")),PW=(t,e)=>{t=t.trim();let r=e.loose?zt[qt.XRANGELOOSE]:zt[qt.XRANGE];return t.replace(r,(n,i,o,s,a,u)=>{Fe("xRange",t,n,i,o,s,a,u);let l=Ot(o),d=l||Ot(s),p=d||Ot(a),g=p;return i==="="&&g&&(i=""),u=e.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&g?(d&&(s=0),a=0,i===">"?(i=">=",d?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",d?o=+o+1:s=+s+1),i==="<"&&(u="-0"),n=`${i+o}.${s}.${a}${u}`):d?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:p&&(n=`>=${o}.${s}.0${u} <${o}.${+s+1}.0-0`),Fe("xRange return",n),n})},TW=(t,e)=>(Fe("replaceStars",t,e),t.trim().replace(zt[qt.STAR],"")),qW=(t,e)=>(Fe("replaceGTE0",t,e),t.trim().replace(zt[e.includePrerelease?qt.GTE0PRE:qt.GTE0],"")),OW=t=>(e,r,n,i,o,s,a,u,l,d,p,g,h)=>(Ot(n)?r="":Ot(i)?r=`>=${n}.0.0${t?"-0":""}`:Ot(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Ot(l)?u="":Ot(d)?u=`<${+l+1}.0.0-0`:Ot(p)?u=`<${l}.${+d+1}.0-0`:g?u=`<=${l}.${d}.${p}-${g}`:t?u=`<${l}.${d}.${+p+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),MW=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Fe(t[n].semver),t[n].semver!==ov.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Ua=m((HB,Cq)=>{var Ba=Symbol("SemVer ANY"),uv=class t{static get ANY(){return Ba}constructor(e,r){if(r=Pq(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),av("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Ba?this.value="":this.value=this.operator+this.semver.version,av("comp",this)}parse(e){let r=this.options.loose?Tq[qq.COMPARATORLOOSE]:Tq[qq.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Oq(n[2],this.options.loose):this.semver=Ba}toString(){return this.value}test(e){if(av("Comparator.test",e,this.options.loose),this.semver===Ba||e===Ba)return!0;if(typeof e=="string")try{e=new Oq(e,this.options)}catch{return!1}return sv(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Mq(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Mq(this.value,r).test(e.semver):(r=Pq(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||sv(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||sv(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Cq.exports=uv;var Pq=qf(),{safeRe:Tq,t:qq}=hs(),sv=Zm(),av=ka(),Oq=bt(),Mq=hr()});var za=m((UB,Aq)=>{var CW=hr(),AW=(t,e,r)=>{try{e=new CW(e,r)}catch{return!1}return e.test(t)};Aq.exports=AW});var jq=m((BB,Nq)=>{var NW=hr(),jW=(t,e)=>new NW(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Nq.exports=jW});var Iq=m((zB,xq)=>{var xW=bt(),IW=hr(),LW=(t,e,r)=>{let n=null,i=null,o=null;try{o=new IW(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new xW(n,r))}),n};xq.exports=LW});var Fq=m((GB,Lq)=>{var FW=bt(),kW=hr(),$W=(t,e,r)=>{let n=null,i=null,o=null;try{o=new kW(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new FW(n,r))}),n};Lq.exports=$W});var Wq=m((VB,$q)=>{var lv=bt(),WW=hr(),kq=$a(),HW=(t,e)=>{t=new WW(t,e);let r=new lv("0.0.0");if(t.test(r)||(r=new lv("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new lv(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||kq(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||kq(r,o))&&(r=o)}return r&&t.test(r)?r:null};$q.exports=HW});var Uq=m((YB,Hq)=>{var UW=hr(),BW=(t,e)=>{try{return new UW(t,e).range||"*"}catch{return null}};Hq.exports=BW});var Ff=m((KB,Vq)=>{var zW=bt(),Gq=Ua(),{ANY:GW}=Gq,VW=hr(),YW=za(),Bq=$a(),zq=Af(),KW=jf(),XW=Nf(),JW=(t,e,r,n)=>{t=new zW(t,n),e=new VW(e,n);let i,o,s,a,u;switch(r){case">":i=Bq,o=KW,s=zq,a=">",u=">=";break;case"<":i=zq,o=XW,s=Bq,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(YW(t,e,n))return!1;for(let l=0;l<e.set.length;++l){let d=e.set[l],p=null,g=null;if(d.forEach(h=>{h.semver===GW&&(h=new Gq(">=0.0.0")),p=p||h,g=g||h,i(h.semver,p.semver,n)?p=h:s(h.semver,g.semver,n)&&(g=h)}),p.operator===a||p.operator===u||(!g.operator||g.operator===a)&&o(t,g.semver))return!1;if(g.operator===u&&s(t,g.semver))return!1}return!0};Vq.exports=JW});var Kq=m((XB,Yq)=>{var QW=Ff(),ZW=(t,e,r)=>QW(t,e,">",r);Yq.exports=ZW});var Jq=m((JB,Xq)=>{var e3=Ff(),t3=(t,e,r)=>e3(t,e,"<",r);Xq.exports=t3});var eO=m((QB,Zq)=>{var Qq=hr(),r3=(t,e,r)=>(t=new Qq(t,r),e=new Qq(e,r),t.intersects(e,r));Zq.exports=r3});var rO=m((ZB,tO)=>{var n3=za(),i3=dr();tO.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((d,p)=>i3(d,p,r));for(let d of s)n3(d,e,r)?(o=d,i||(i=d)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[d,p]of n)d===p?a.push(d):!p&&d===s[0]?a.push("*"):p?d===s[0]?a.push(`<=${p}`):a.push(`${d} - ${p}`):a.push(`>=${d}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var uO=m((ez,aO)=>{var nO=hr(),fv=Ua(),{ANY:cv}=fv,Ga=za(),dv=dr(),o3=(t,e,r={})=>{if(t===e)return!0;t=new nO(t,r),e=new nO(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=a3(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},s3=[new fv(">=0.0.0-0")],iO=[new fv(">=0.0.0")],a3=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===cv){if(e.length===1&&e[0].semver===cv)return!0;r.includePrerelease?t=s3:t=iO}if(e.length===1&&e[0].semver===cv){if(r.includePrerelease)return!0;e=iO}let n=new Set,i,o;for(let h of t)h.operator===">"||h.operator===">="?i=oO(i,h,r):h.operator==="<"||h.operator==="<="?o=sO(o,h,r):n.add(h.semver);if(n.size>1)return null;let s;if(i&&o){if(s=dv(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let h of n){if(i&&!Ga(h,String(i),r)||o&&!Ga(h,String(o),r))return null;for(let R of e)if(!Ga(h,String(R),r))return!1;return!0}let a,u,l,d,p=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,g=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&o.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let h of e){if(d=d||h.operator===">"||h.operator===">=",l=l||h.operator==="<"||h.operator==="<=",i){if(g&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===g.major&&h.semver.minor===g.minor&&h.semver.patch===g.patch&&(g=!1),h.operator===">"||h.operator===">="){if(a=oO(i,h,r),a===h&&a!==i)return!1}else if(i.operator===">="&&!Ga(i.semver,String(h),r))return!1}if(o){if(p&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===p.major&&h.semver.minor===p.minor&&h.semver.patch===p.patch&&(p=!1),h.operator==="<"||h.operator==="<="){if(u=sO(o,h,r),u===h&&u!==o)return!1}else if(o.operator==="<="&&!Ga(o.semver,String(h),r))return!1}if(!h.operator&&(o||i)&&s!==0)return!1}return!(i&&l&&!o&&s!==0||o&&d&&!i&&s!==0||g||p)},oO=(t,e,r)=>{if(!t)return e;let n=dv(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},sO=(t,e,r)=>{if(!t)return e;let n=dv(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};aO.exports=o3});var dO=m((tz,fO)=>{var hv=hs(),lO=Fa(),u3=bt(),cO=Km(),l3=Bi(),c3=OT(),f3=CT(),d3=jT(),h3=LT(),g3=kT(),p3=WT(),m3=UT(),v3=zT(),y3=dr(),b3=KT(),_3=JT(),w3=Cf(),R3=tq(),S3=nq(),E3=$a(),D3=Af(),P3=Jm(),T3=Qm(),q3=Nf(),O3=jf(),M3=Zm(),C3=dq(),A3=Ua(),N3=hr(),j3=za(),x3=jq(),I3=Iq(),L3=Fq(),F3=Wq(),k3=Uq(),$3=Ff(),W3=Kq(),H3=Jq(),U3=eO(),B3=rO(),z3=uO();fO.exports={parse:l3,valid:c3,clean:f3,inc:d3,diff:h3,major:g3,minor:p3,patch:m3,prerelease:v3,compare:y3,rcompare:b3,compareLoose:_3,compareBuild:w3,sort:R3,rsort:S3,gt:E3,lt:D3,eq:P3,neq:T3,gte:q3,lte:O3,cmp:M3,coerce:C3,Comparator:A3,Range:N3,satisfies:j3,toComparators:x3,maxSatisfying:I3,minSatisfying:L3,minVersion:F3,validRange:k3,outside:$3,gtr:W3,ltr:H3,intersects:U3,simplifyRange:B3,subset:z3,SemVer:u3,re:hv.re,src:hv.src,tokens:hv.t,SEMVER_SPEC_VERSION:lO.SEMVER_SPEC_VERSION,RELEASE_TYPES:lO.RELEASE_TYPES,compareIdentifiers:cO.compareIdentifiers,rcompareIdentifiers:cO.rcompareIdentifiers}});var mO=m(on=>{"use strict";var gv=on&&on.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ke=on&&on.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Uf=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Wf,Pn,Gt,kf,$f,Va,hO,pO;Object.defineProperty(on,"__esModule",{value:!0});on.OldStylelintWarningModule=void 0;var G3=Uf(require("path")),V3=Uf(require("fs/promises")),gO=Uf(dO()),Y3=Uf(ef()),K3=ns(),X3=Oa(),Hf=class{constructor({context:e,logger:r}){Wf.add(this),Pn.set(this,void 0),Gt.set(this,void 0),kf.set(this,new Set),$f.set(this,!1),Va.set(this,[]),gv(this,Pn,e,"f"),gv(this,Gt,r,"f")}dispose(){ke(this,Va,"f").forEach(e=>e.dispose()),ke(this,Va,"f").length=0}onInitialize({capabilities:e}){gv(this,$f,e.window?.showDocument?.support??!1,"f")}onDidRegisterHandlers(){ke(this,Gt,"f")?.debug("Registering onDidOpen handler"),ke(this,Va,"f").push(ke(this,Pn,"f").documents.onDidOpen(async({document:e})=>{let r=await ke(this,Wf,"m",pO).call(this,e);if(!r)return;ke(this,Gt,"f")?.warn(`Found unsupported version of Stylelint: ${r}`);let n=`Stylelint version ${r} is no longer supported. While it may continue to work for a while, you may encounter unexpected behavior. Please upgrade to version 14.0.0 or newer. See the migration guide for more information.`;if(!ke(this,$f,"f")){ke(this,Pn,"f").connection.window.showWarningMessage(n);return}(await ke(this,Pn,"f").connection.window.showWarningMessage(n,{title:"Open migration guide"}))?.title==="Open migration guide"&&((await ke(this,Pn,"f").connection.window.showDocument({uri:"https://github.com/stylelint/vscode-stylelint#migrating-from-vscode-stylelint-0xstylelint-13x",external:!0})).success||ke(this,Gt,"f")?.warn("Failed to open migration guide"))})),ke(this,Gt,"f")?.debug("onDidOpen handler registered")}};on.OldStylelintWarningModule=Hf;Pn=new WeakMap,Gt=new WeakMap,kf=new WeakMap,$f=new WeakMap,Va=new WeakMap,Wf=new WeakSet,hO=async function(e,r){let n=await ke(this,Pn,"f").resolveStylelint(e);if(!n){ke(this,Gt,"f")?.debug("Stylelint not found",{uri:e.uri});return}let i=await(0,X3.findPackageRoot)(n.resolvedPath);if(!i){ke(this,Gt,"f")?.debug("Stylelint package root not found",{uri:e.uri});return}if(!(0,Y3.default)(i,r)){ke(this,Gt,"f")?.debug("Stylelint package root is not inside the workspace",{uri:e.uri});return}let o=G3.default.join(i,"package.json");try{let s=await V3.default.readFile(o,"utf8");return JSON.parse(s).version}catch(s){ke(this,Gt,"f")?.debug("Stylelint package manifest could not be read",{uri:e.uri,manifestPath:o,error:s});return}},pO=async function(e){let r=await(0,K3.getWorkspaceFolder)(ke(this,Pn,"f").connection,e);if(!r){ke(this,Gt,"f")?.debug("Document not part of a workspace, ignoring",{uri:e.uri});return}if(ke(this,kf,"f").has(r)){ke(this,Gt,"f")?.debug("Document has already been checked, ignoring",{uri:e.uri});return}ke(this,kf,"f").add(r);let n=await ke(this,Wf,"m",hO).call(this,e,r);if(n)try{let i=gO.default.coerce(n);if(!i)throw new Error(`Could not coerce version "${n}"`);return gO.default.lt(i,"14.0.0")?n:void 0}catch(i){ke(this,Gt,"f")?.debug("Stylelint version could not be parsed",{uri:e.uri,version:n,error:i});return}};Hf.id="old-stylelint-warning"});var bO=m(di=>{"use strict";var vO=di&&di.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},le=di&&di.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},sn,gr,dt,vs,Yi,yO,pv,Bf,mv;Object.defineProperty(di,"__esModule",{value:!0});di.ValidatorModule=void 0;var J3=qe(),zf=class{constructor({context:e,logger:r}){sn.add(this),gr.set(this,void 0),dt.set(this,void 0),vs.set(this,new Map),Yi.set(this,[]),vO(this,gr,e,"f"),vO(this,dt,r,"f")}dispose(){le(this,Yi,"f").forEach(e=>e.dispose()),le(this,Yi,"f").length=0}getDiagnostics(e){return le(this,vs,"f").get(e)??[]}onInitialize(){le(this,sn,"m",Bf).call(this)}onDidRegisterHandlers(){le(this,dt,"f")?.debug("Registering handlers"),le(this,Yi,"f").push(le(this,gr,"f").notifications.on(J3.DidChangeWatchedFilesNotification.type,async()=>await le(this,sn,"m",Bf).call(this))),le(this,dt,"f")?.debug("onDidChangeWatchedFiles handler registered"),le(this,Yi,"f").push(le(this,gr,"f").documents.onDidChangeContent(async({document:e})=>await le(this,sn,"m",pv).call(this,e))),le(this,dt,"f")?.debug("onDidChangeContent handler registered"),le(this,Yi,"f").push(le(this,gr,"f").documents.onDidClose(async({document:e})=>{await le(this,sn,"m",mv).call(this,e)})),le(this,dt,"f")?.debug("onDidClose handler registered"),le(this,dt,"f")?.debug("Handlers registered")}async onDidChangeConfiguration(){le(this,dt,"f")?.debug("Received onDidChangeConfiguration"),await le(this,sn,"m",Bf).call(this)}};di.ValidatorModule=zf;gr=new WeakMap,dt=new WeakMap,vs=new WeakMap,Yi=new WeakMap,sn=new WeakSet,yO=async function(e){return(await le(this,gr,"f").getOptions(e.uri)).validate.includes(e.languageId)},pv=async function(e){if(!await le(this,sn,"m",yO).call(this,e)){le(this,vs,"f").has(e.uri)?(le(this,dt,"f")?.debug("Document should not be validated, clearing diagnostics",{uri:e.uri,language:e.languageId}),await le(this,sn,"m",mv).call(this,e)):le(this,dt,"f")?.debug("Document should not be validated, ignoring",{uri:e.uri,language:e.languageId});return}let r=await le(this,gr,"f").lintDocument(e);if(!r){le(this,dt,"f")?.debug("No lint result, ignoring",{uri:e.uri});return}le(this,dt,"f")?.debug("Sending diagnostics",{uri:e.uri,result:r});try{await le(this,gr,"f").connection.sendDiagnostics({uri:e.uri,diagnostics:r.diagnostics}),le(this,vs,"f").set(e.uri,r.diagnostics),le(this,dt,"f")?.debug("Diagnostics sent",{uri:e.uri})}catch(n){le(this,gr,"f").displayError(n),le(this,dt,"f")?.error("Failed to send diagnostics",{uri:e.uri,error:n})}},Bf=async function(){await Promise.allSettled(le(this,gr,"f").documents.all().map(e=>le(this,sn,"m",pv).call(this,e)))},mv=async function({uri:e}){le(this,dt,"f")?.debug("Clearing diagnostics for document",{uri:e}),le(this,vs,"f").delete(e),await le(this,gr,"f").connection.sendDiagnostics({uri:e,diagnostics:[]}),le(this,dt,"f")?.debug("Diagnostics cleared",{uri:e})};zf.id="validator"});var _O=m(pr=>{"use strict";var Q3=pr&&pr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ys=pr&&pr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Q3(e,t,r)};Object.defineProperty(pr,"__esModule",{value:!0});ys(XD(),pr);ys(sT(),pr);ys(dT(),pr);ys(gT(),pr);ys(mO(),pr);ys(bO(),pr)});var wO=m((Vf,Gf)=>{var Z3=Vf&&Vf.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};(function(t){if(typeof Gf=="object"&&typeof Gf.exports=="object"){var e=t(require,Vf);e!==void 0&&(Gf.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=void 0;var r=function(){function u(l,d,p,g){this._uri=l,this._languageId=d,this._version=p,this._content=g,this._lineOffsets=void 0}return Object.defineProperty(u.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),u.prototype.getText=function(l){if(l){var d=this.offsetAt(l.start),p=this.offsetAt(l.end);return this._content.substring(d,p)}return this._content},u.prototype.update=function(l,d){for(var p=0,g=l;p<g.length;p++){var h=g[p];if(u.isIncremental(h)){var R=s(h.range),D=this.offsetAt(R.start),M=this.offsetAt(R.end);this._content=this._content.substring(0,D)+h.text+this._content.substring(M,this._content.length);var P=Math.max(R.start.line,0),_=Math.max(R.end.line,0),y=this._lineOffsets,C=o(h.text,!1,D);if(_-P===C.length)for(var L=0,k=C.length;L<k;L++)y[L+P+1]=C[L];else C.length<1e4?y.splice.apply(y,Z3([P+1,_-P],C,!1)):this._lineOffsets=y=y.slice(0,P+1).concat(C,y.slice(_+1));var Y=h.text.length-(M-D);if(Y!==0)for(var L=P+1+C.length,k=y.length;L<k;L++)y[L]=y[L]+Y}else if(u.isFull(h))this._content=h.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=d},u.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=o(this._content,!0)),this._lineOffsets},u.prototype.positionAt=function(l){l=Math.max(Math.min(l,this._content.length),0);var d=this.getLineOffsets(),p=0,g=d.length;if(g===0)return{line:0,character:l};for(;p<g;){var h=Math.floor((p+g)/2);d[h]>l?g=h:p=h+1}var R=p-1;return{line:R,character:l-d[R]}},u.prototype.offsetAt=function(l){var d=this.getLineOffsets();if(l.line>=d.length)return this._content.length;if(l.line<0)return 0;var p=d[l.line],g=l.line+1<d.length?d[l.line+1]:this._content.length;return Math.max(Math.min(p+l.character,g),p)},Object.defineProperty(u.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),u.isIncremental=function(l){var d=l;return d!=null&&typeof d.text=="string"&&d.range!==void 0&&(d.rangeLength===void 0||typeof d.rangeLength=="number")},u.isFull=function(l){var d=l;return d!=null&&typeof d.text=="string"&&d.range===void 0&&d.rangeLength===void 0},u}(),n;(function(u){function l(g,h,R,D){return new r(g,h,R,D)}u.create=l;function d(g,h,R){if(g instanceof r)return g.update(h,R),g;throw new Error("TextDocument.update: document must be created by TextDocument.create")}u.update=d;function p(g,h){for(var R=g.getText(),D=i(h.map(a),function(k,Y){var Z=k.range.start.line-Y.range.start.line;return Z===0?k.range.start.character-Y.range.start.character:Z}),M=0,P=[],_=0,y=D;_<y.length;_++){var C=y[_],L=g.offsetAt(C.range.start);if(L<M)throw new Error("Overlapping edit");L>M&&P.push(R.substring(M,L)),C.newText.length&&P.push(C.newText),M=g.offsetAt(C.range.end)}return P.push(R.substr(M)),P.join("")}u.applyEdits=p})(n||(e.TextDocument=n={}));function i(u,l){if(u.length<=1)return u;var d=u.length/2|0,p=u.slice(0,d),g=u.slice(d);i(p,l),i(g,l);for(var h=0,R=0,D=0;h<p.length&&R<g.length;){var M=l(p[h],g[R]);M<=0?u[D++]=p[h++]:u[D++]=g[R++]}for(;h<p.length;)u[D++]=p[h++];for(;R<g.length;)u[D++]=g[R++];return u}function o(u,l,d){d===void 0&&(d=0);for(var p=l?[d]:[],g=0;g<u.length;g++){var h=u.charCodeAt(g);(h===13||h===10)&&(h===13&&g+1<u.length&&u.charCodeAt(g+1)===10&&g++,p.push(d+g+1))}return p}function s(u){var l=u.start,d=u.end;return l.line>d.line||l.line===d.line&&l.character>d.character?{start:d,end:l}:u}function a(u){var l=s(u.range);return l!==u.range?{newText:u.newText,range:l}:u}})});var CO=m(gi=>{"use strict";var mr=gi&&gi.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},N=gi&&gi.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ne,Ka,Mt,ie,Xi,Rs,Ki,Ja,Es,Ss,Kf,hi,bs,_s,Ji,Xf,ws,Xa,PO,TO,qO,OO,MO,Ya,RO,SO,EO,DO;Object.defineProperty(gi,"__esModule",{value:!0});gi.StylelintLanguageServer=void 0;var e4=wO(),t4=vl(),Yf=qe(),r4=ns(),yv=Zc(),vv=im(),n4=Ia(),i4=Oa(),o4=Ko(),s4=cm(),bv={codeAction:{disableRuleComment:{location:"separateLine"}},config:null,configFile:"",configBasedir:"",customSyntax:"",ignoreDisables:!1,packageManager:"npm",reportDescriptionlessDisables:!1,reportInvalidScopeDisables:!1,reportNeedlessDisables:!1,snippet:["css","postcss"],stylelintPath:"",validate:["css","postcss"]},_v=class{constructor({connection:e,logger:r,modules:n}){Ne.add(this),Ka.set(this,"New"),Mt.set(this,void 0),ie.set(this,void 0),Xi.set(this,void 0),Rs.set(this,void 0),Ki.set(this,void 0),Ja.set(this,void 0),Es.set(this,void 0),Ss.set(this,void 0),Kf.set(this,void 0),hi.set(this,new Map),bs.set(this,!1),_s.set(this,new Map),Ji.set(this,[]),mr(this,Mt,e,"f"),mr(this,ie,(r??(0,s4.createLogger)(e))?.child({component:"language-server"}),"f"),mr(this,Xi,new yv.NotificationManager(e,N(this,ie,"f")),"f"),mr(this,Rs,new yv.CommandManager(e,N(this,ie,"f")),"f"),mr(this,Ki,bv,"f"),mr(this,Ja,new i4.StylelintResolver(e,N(this,ie,"f")),"f"),mr(this,Es,new n4.StylelintRunner(e,N(this,ie,"f"),N(this,Ja,"f")),"f"),mr(this,Ss,new t4.TextDocuments(e4.TextDocument),"f"),mr(this,Kf,{connection:N(this,Mt,"f"),notifications:N(this,Xi,"f"),commands:N(this,Rs,"f"),documents:N(this,Ss,"f"),runner:N(this,Es,"f"),getOptions:N(this,Ne,"m",Xa).bind(this),getModule:N(this,Ne,"m",OO).bind(this),getFixes:N(this,Ne,"m",qO).bind(this),displayError:N(this,Ne,"m",ws).bind(this),lintDocument:N(this,Ne,"m",TO).bind(this),resolveStylelint:N(this,Ne,"m",PO).bind(this)},"f");let i=new Proxy(N(this,Kf,"f"),{get(o,s){return o[s]},set(){throw new Error("Cannot set read-only property")}});if(n)for(let o of n){if(N(this,ie,"f").info("Registering module",{module:o.id}),!o.id)throw new Error("Modules must have an ID");if(typeof o.id!="string")throw new Error("Module IDs must be strings");let s=new o({context:i,logger:r?.child({component:`language-server:${o.id}`})});if(N(this,hi,"f").has(o.id))throw new Error(`Module with ID "${o.id}" already registered`);N(this,hi,"f").set(o.id,s),N(this,ie,"f").info("Module registered",{module:o.id})}}start(){N(this,Ne,"m",Xf).call(this,"Started"),N(this,ie,"f").info("Starting language server"),N(this,Ss,"f").listen(N(this,Mt,"f")),N(this,Mt,"f").listen(),N(this,Ne,"m",MO).call(this),N(this,ie,"f").info("Language server started")}dispose(){try{N(this,Ne,"m",Xf).call(this,"Disposed")}catch{return}N(this,ie,"f").info("Stopping language server"),N(this,hi,"f").forEach(e=>e.dispose()),N(this,Ji,"f").forEach(e=>e.dispose()),N(this,Ji,"f").length=0,N(this,Mt,"f").onInitialize(()=>({capabilities:{}})),N(this,Mt,"f").onShutdown(()=>{}),N(this,hi,"f").clear(),N(this,Xi,"f").dispose(),N(this,Rs,"f").dispose(),N(this,Mt,"f").dispose()}};gi.StylelintLanguageServer=_v;Ka=new WeakMap,Mt=new WeakMap,ie=new WeakMap,Xi=new WeakMap,Rs=new WeakMap,Ki=new WeakMap,Ja=new WeakMap,Es=new WeakMap,Ss=new WeakMap,Kf=new WeakMap,hi=new WeakMap,bs=new WeakMap,_s=new WeakMap,Ji=new WeakMap,Ne=new WeakSet,Xf=function(e){if(N(this,Ka,"f")===e)throw new Error(`Cannot transition from state ${e} to itself`);switch(N(this,Ka,"f")){case"Initialized":if(e!=="Disposed")throw new Error("Can only transition state from Initialized to Disposed");break;case"Disposed":throw new Error("Cannot transition from Disposed");default:break}mr(this,Ka,e,"f")},ws=function(e){(0,yv.displayError)(N(this,Mt,"f"),e)},Xa=async function(e){if(!N(this,bs,"f"))return N(this,Ki,"f");let r=N(this,_s,"f").get(e);if(r)return N(this,ie,"f").debug("Returning cached options",{resource:e}),r;N(this,ie,"f").debug("Requesting options from client",{resource:e});let n=await N(this,Mt,"f").workspace.getConfiguration({scopeUri:e,section:"stylelint"});N(this,ie,"f").debug("Received options from client",{resource:e,options:n});let i=(0,vv.mergeOptionsWithDefaults)(n,bv);return Object.freeze(i),N(this,_s,"f").set(e,i),N(this,ie,"f").debug("Returning options",{resource:e,options:i}),i},PO=async function(e){N(this,ie,"f").debug("Resolving Stylelint",{uri:e.uri});try{let r=await N(this,Ne,"m",Xa).call(this,e.uri),n=await N(this,Ja,"f").resolve(r,e);return n?N(this,ie,"f").debug("Stylelint resolved",{uri:e.uri,resolvedPath:n.resolvedPath}):N(this,ie,"f").warn("Failed to resolve Stylelint",{uri:e.uri}),n}catch(r){N(this,Ne,"m",ws).call(this,r),N(this,ie,"f").error("Error resolving Stylelint",{uri:e.uri,error:r});return}},TO=async function(e,r={}){N(this,ie,"f").debug("Linting document",{uri:e.uri,linterOptions:r});try{let n=await N(this,Ne,"m",Xa).call(this,e.uri),i=await N(this,Es,"f").lintDocument(e,r,n);return N(this,ie,"f").debug("Lint run complete",{uri:e.uri,results:i}),i}catch(n){N(this,Ne,"m",ws).call(this,n),N(this,ie,"f").error("Error running lint",{uri:e.uri,error:n});return}},qO=async function(e,r={}){try{let n=await N(this,Ne,"m",Xa).call(this,e.uri),i=await(0,r4.getFixes)(N(this,Es,"f"),e,r,n);return N(this,ie,"f").debug("Fixes retrieved",{uri:e.uri,edits:i}),i}catch(n){return N(this,Ne,"m",ws).call(this,n),N(this,ie,"f").error("Error getting fixes",{uri:e.uri,error:n}),[]}},OO=function(e){return N(this,hi,"f").get(e)},MO=function(){N(this,ie,"f").info("Registering handlers"),N(this,Mt,"f").onInitialize(N(this,Ne,"m",RO).bind(this)),N(this,ie,"f").debug("connection.onInitialize handler registered"),N(this,Ji,"f").push(N(this,Xi,"f").on(Yf.InitializedNotification.type,N(this,Ne,"m",SO).bind(this))),N(this,ie,"f").debug("connection.onInitialized handler registered"),N(this,Mt,"f").onShutdown(()=>this.dispose()),N(this,ie,"f").debug("connection.onShutdown handler registered"),N(this,Rs,"f").register(),N(this,Ji,"f").push(N(this,Xi,"f").on(Yf.DidChangeConfigurationNotification.type,N(this,Ne,"m",DO).bind(this))),N(this,ie,"f").debug("connection.onDidChangeConfiguration handler registered"),N(this,Ji,"f").push(N(this,Ss,"f").onDidClose(N(this,Ne,"m",EO).bind(this))),N(this,ie,"f").debug("documents.onDidClose handler registered"),N(this,Ne,"m",Ya).call(this,"onDidRegisterHandlers"),N(this,ie,"f").info("Handlers registered")},Ya=function(e,...r){N(this,ie,"f").debug(`Invoking ${String(e)}`);let n=Object.create(null);for(let[i,o]of N(this,hi,"f")){let s=o[e];if(s)try{n[i]=s.apply(o,r),N(this,ie,"f").debug(`Invoked ${String(e)}`,{module:i,returnValue:n[i]})}catch(a){N(this,Ne,"m",ws).call(this,a),N(this,ie,"f").error(`Error invoking ${String(e)}`,{module:i,error:a})}}return n},RO=function(e){N(this,ie,"f").debug("received onInitialize",{params:e});let r={capabilities:{textDocumentSync:{openClose:!0,change:Yf.TextDocumentSyncKind.Full}}};e.capabilities.workspace?.configuration&&(N(this,ie,"f").debug("Client reports workspace configuration support; using scoped configuration"),mr(this,bs,!0,"f"));for(let[,n]of Object.entries(N(this,Ne,"m",Ya).call(this,"onInitialize",e)))n&&(0,vv.mergeAssign)(r,n);return N(this,ie,"f").debug("Returning initialization results",{result:r}),r},SO=async function(e){N(this,Ne,"m",Xf).call(this,"Initialized"),N(this,ie,"f").debug("received onInitialized",{params:e}),N(this,bs,"f")&&(N(this,ie,"f").debug("Registering DidChangeConfigurationNotification"),await N(this,Mt,"f").client.register(Yf.DidChangeConfigurationNotification.type,{section:"stylelint"}))},EO=function({document:e}){N(this,ie,"f").debug("received documents.onDidClose, clearing cached options",{uri:e.uri}),N(this,_s,"f").delete(e.uri)},DO=async function(e){if(N(this,bs,"f")){N(this,ie,"f").debug("received onDidChangeConfiguration, clearing cached options",{params:e}),N(this,_s,"f").clear(),N(this,Ne,"m",Ya).call(this,"onDidChangeConfiguration"),await N(this,Mt,"f").sendNotification(o4.Notification.DidResetConfiguration);return}N(this,ie,"f").debug("received onDidChangeConfiguration",{params:e}),mr(this,Ki,(0,vv.mergeOptionsWithDefaults)(e.settings.stylelint,bv),"f"),Object.freeze(N(this,Ki,"f")),N(this,ie,"f").debug("Global options updated",{options:N(this,Ki,"f")}),N(this,Ne,"m",Ya).call(this,"onDidChangeConfiguration")}});var NO=m(Ct=>{"use strict";var AO=Ct&&Ct.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),a4=Ct&&Ct.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wv=Ct&&Ct.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&AO(e,t,r)},u4=Ct&&Ct.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AO(e,t,r);return a4(e,t),e};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.modules=void 0;wv(cm(),Ct);Ct.modules=u4(_O());wv(CO(),Ct);wv(Ko(),Ct)});var xO=exports&&exports.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var l4=xO(require("path")),c4=xO(require("process")),jO=vl(),Jf=NO(),Rv=(0,jO.createConnection)(jO.ProposedFeatures.all),{NODE_ENV:f4}=c4.default.env,d4=f4==="development"?(0,Jf.createLogger)(Rv,"debug",l4.default.join(__dirname,"../stylelint-language-server.log")):(0,Jf.createLogger)(Rv,"info"),h4=new Jf.StylelintLanguageServer({connection:Rv,logger:d4,modules:Object.values(Jf.modules)});h4.start();
